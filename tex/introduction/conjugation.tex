\section{Conjugation and Normal Subgroups}
For any $a,b\in G$ the conjugate of $a$ by $b$ defined as $a^{b}$ (or
using Mizar syntax ``\lstinline{a |^ b}''\index{\texttt{x \mid\Caret y}@{\texttt{x "|"\Caret\ y}}!Mizar for $x^{y}$}\mizindex{\texttt{x \mid\Caret y}@{\texttt{x "|"\Caret\ y}}})
for $b^{-1}ab$. For subsets $A,B\subset G$, we define
``\lstinline{A |^ B}'' for $\{g^{h}\mid g\in A,h\in B\}$. We similarly have
$A^{g}$ be defined as $A^{\{g\}}$, and $g^{A}$ is defined as $\{g\}^{A}$.

Analogous definitions hold for subgroups $H\subgroup G$ and $a\in G$, we
have $H^{a}$ be \emph{the strict subgroup} of $G$ whose underlying set
is given by $H^{\{a\}}$.

We have a predicate to assert two elements $a,b\in G$ are
conjugate. Namely, ``\lstinline{a,b are_conjugated}''\mizindex{Are Conjugated@$\mathtt{are\_conjugated}$} if there exists some
$g\in G$ such that $a = b^{g}$. This is done in
\mml[def7]{group2}\MizDef{GROUP\_2}[07]{7}. We generalize this
definition to arbitrary subsets $A$, $B\subset G$ \lstinline{are_conjugated} if
there is a $g\in G$ such that $A = B^{g}$. Similarly, two subgroups
$H_{1}$, $H_{2}\subgroup G$ \lstinline{are_conjugated} if there is a $g\in G$
such that the magma underlying $H_{1}$ is equal to ${H_{2}}^{g}$.

The conjugacy class for:
\begin{enumerate}
\item an element $a\in G$ is defined ``in the obvious way''
as ``\lstinline{con_class a}\mizindex{Conjugacy Class@$\mathtt{con\_class}$}
is the subset \lstinline{a |^ (Omega).G}'';
\item a subset $A\subset G$ as the collection of all subsets $B\subset G$
such that $A$ and $B$ \lstinline{are_conjugated} (i.e., there is a $g\in G$
such that $A = B^{g}$);
\item a subgroup $H\subgroup G$ in Definition~\mml[def12]{group3} as the
  collection of all subgroups which are conjugate to $H$
\end{enumerate}

\begin{theorem}[{Dummit and Foote~\cite[Cor.~4.14]{dummit-foote}}]
  If $H\subgroup G$ is any subgroup and $g\in G$, then
  $H$ and $gHg^{-1}$ are isomorphic. Conjugate elements have the same
  order. Conjugate subgroups have the same order.
\end{theorem}

\begin{thm-remark}
Mizar has the following results:
\begin{itemize}
\item \mml[Th28]{group3}\MizTh{GROUP\_3}{28} states, for any group elements $a,b\in G$ and
  any integer $k\in\ZZ$, we have $(b^{-1}ab)^{k} = b^{-1}(a^{k})b$;
\item \mml[Th64]{group3}\MizTh{GROUP\_3}{64} proves conjugate subgroups have the same order;
\item \mml[Th71]{group3}\MizTh{GROUP\_3}{71} proves conjugate subgroups in $G$ have the
  same index;
\item \mml[Th16]{group8}\MizTh{GROUP\_8}{16} proves, for any nonempty subset $A\subset G$,
  its conjugates $g^{-1}Ag$ (for any $g\in G$) has the same cardinality
  as $A$\dots which should imply conjugate subgroups have the same
  order, too.
\end{itemize}
\end{thm-remark}


\subsection{Normal Subgroups}
Having thus described conjugation of elements, subsets, and subgroups by
elements, subsets, and subgroups, we have enough infrastructure to
define a notion of ``normal subgroup''. Mizar's
\mml[def13]{group3}\MizDef{GROUP\_3}{13} defines an attribute for a subgroup
$N\subgroup G$ is \lstinline{normal}\mizindex{Normal@\texttt{normal}} if for
every $a\in G$, we have $N^{a}$ and $N$ \lstinline{are_conjugated} (more
literally, $N^{a} = \mathtt{the~multMagma~of~}N$).

For any subset $A\subset G$, the \lstinline{Normalizer}\mizindex{Normalizer@\texttt{Normalizer}} of $A$ is defined in
\mml[def14]{group3}\MizDef{GROUP\_3}{14} as the subgroup of $G$ whose
underlying set is $\{h \mid A^{h} = A\}$. We generalize this notion in
\mml[def15]{group3}\MizDef{GROUP\_3}{15} to subgroups $H\subgroup G$ by just taking the
normalizer of the underlying set of $H$.

\begin{proposition}[{\mml[Th9]{group6}}]
If $N\normalSubgroup G$ and $H\subgroup G$, then $H\cap N\normalSubgroup H$
and $N\cap H\normalSubgroup H$.
\end{proposition}

\subsection{Group generated by a subset}
For $A\subset G$, we define\index{$\langle A\rangle$}
\begin{equation}
\langle A\rangle = \bigcap_{A\subset H\subgroup G} H.
\end{equation}
Mizar defines this in \mml[def4]{group4}\MizDef{GROUP\_4}{4} as
``\lstinline{gr A}''\mizindex{Gr A@\texttt{gr A}}. In fact, this defining
property of $\langle A\rangle$ is proven in Theorem~\mml[Th34]{group4}\MizThm{GROUP\_4}{34}.

\subsection{Element is Generating}
We call an element $a\in G$ \emph{generating} if there is an $A\subset G$
such that $\langle A\rangle = G$ (i.e., \lstinline{gr A = G}) and
$\langle A\setminus\{a\}\rangle\neq G$ (i.e., \lstinline!gr(A \ {a}) = G!).
Mizar provides this in \mml[def5]{group4}\MizDef{GROUP\_4}{5} as
an attribute \lstinline{generating}\mizindex{Generating@\texttt{generating}}.

As we noted earlier in Example~\ref{example:introduction:cyclic-group},
the related notion of a group being \lstinline{cyclic} is found in
Definition~\mml[def 7]{gr_cy_1}\MizDef{gr\_cy\_1}{7}\mizindex{Cyclic@\texttt{cyclic}}
which asserts there exists some element $a\in G$ such that \lstinline!gr {a}!
is the group.

\subsection{Finite Sequence of Subgroups}
The first section of~\mml{group4} formalizes notions related to finite
sequences of subgroups of a fixed group $G$. If we have two finite
sequences $F_{1}=(H_{1},\dots,H_{m})$ and $F_{2}=(K_{1},\dots,K_{n})$,
we can append them together $F_{1}\concatenate F_{2}=(H_{1},\dots,H_{m},K_{1},\dots,K_{n})$.
The Mizar notation for this is \lstinline{F1 ^ F2} as introduced in
Definition~\mml[def7]{finseq1}.

If we have a finite sequence of group elements $F=(g_{1},\dots,g_{m})$,
then Definition~\mml[def2]{group4} defines their product as:
\begin{subequations}
  \begin{align}
    \frobeniusProd () &= 1_{G}\\
    \frobeniusProd (g_{1})\concatenate F &= g_{1}\cdot\left(\frobeniusProd F\right).
  \end{align}
\end{subequations}
Note: here I use $*$ instead of $\prod$ to stress we are using the law
of composition, not taking the direct product.
This uses a more generic notion of folding a finite sequence using a
binary function, found in Definition~\mml[def1]{finsop1}.\MizDef{FINSOP\_1}{1}

We can also consider, for any finite sequence $F=(g_{1},\dots, g_{n})$ of
group elements and finite sequence $I=(k_{1},\dots,k_{n})$ of integers,
both having $n$ elements, the component-wise exponentiation
\begin{equation}
  F^{I} = (g_{1}^{k_{1}}, g_{2}^{k_{2}}, \dots, g_{n}^{k_{n}}).
\end{equation}
This is defined in Definition~\mml[def3]{group4}\MizDef{GROUP\_4}{3} and uses the usual
Mizar notation for exponentiation, \lstinline{F |^ I}.

\subsection{Frattini Subgroup}\index{Frattini Subgroup}\index{$\Phi(G)$}
We define a maximal subgroup as one which is proper and not contained in
any other proper subgroup (Mizar defines this as an attribute ``\lstinline{maximal}'' for a
subgroup $H\subgroup G$ in \mml[def6]{group3}\MizDef{GROUP\_3}[06]{6}\mizindex{Mazimal@\texttt{maximal}}).
This is necessary to define the Frattini subgroup $\Phi(G)$ as the
intersection of all proper maximal subgroups of $G$ when $G$ is finite
and nontrivial (when $G=\trivialSubgroup$ or $G$ is infinite, then
$\Phi(G)=G$). Mizar uses this very definition in
\mml[def7]{group3}\MizDef{GROUP\_3}[07]{7} to define \lstinline{Phi(G)}\mizindex{Phi(G)@\texttt{Phi(G)}}
as a functor.

Coincidentally, this is a characteristic subgroup of $G$.
% Encyclopedia of mathematics cites the following for further results
% concerning Phi(G):
% [a4] D.J.S. Robinson, "A course in the theory of groups" , Springer (1982)
% [a5] W.R. Scott, "Group theory" , Prentice-Hall (1964)

\subsection{Lattice of Subgroups}
We can form a lattice (in the sense of order theory) of the subgroups,
ordered by inclusion, whose join $H_{1}\lor H_{2}$ is given in
Definition~\mml[def8]{group4} as the smallest subgroup
containing both $H_{1}$ and $H_{2}$, and whose meet is $H_{1}\cap H_{2}$
the intersection of subgroups. The lattice of subgroups for $G$ is given
in Definition~\mml[def12]{group4} whose underlying set is precisely the
collection of all subgroups of $G$ as given by Definition~\mml[def1]{group3}.

This may be a bit difficult to read, since Mizar uses second-order
reasoning with schemes.

\subsection{Simple Group}
Definition~\mml[def12]{group9} defines a group to be
\define{Simple}\index{Simple!Group}\index{Group!Simple}
if it is not trivial and there is no [strict] normal proper Subgroup of
it. The attribute is
\lstinline{simple}\mizindex{Simple@\texttt{simple}}, in all lowercase.

\begin{mizar}
definition
  let IT be Group;
  attr IT is simple means
  :: GROUP_9:def 12
  IT is not trivial &
  not ex H being strict normal Subgroup of IT
      st H <> (Omega).IT & H <> (1).IT;
end;
\end{mizar}
