\nwfilename{nw/001-characteristic.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-% ===> this file was generated automatically by noweave --- better not edit it
\chapter{Characteristic Subgroups}

We will begin with formalizing results concerning characteristic
subgroups. In section 1 we will briefly discuss the environment part of
a Mizar article. In section~\ref{sec:characteristic:preparatory:start} we will formalize preliminary material,
including trivial subgroups and proper subgroups. In
section~\ref{sec:characteristic:automorphism}, we formalize
automorphisms, then in
section~\ref{sec:characteristic:inner-automorphism} inner automorphisms.
In section~\ref{sec:characteristic:results}, we formalize the notion of
a characteristic subgroup, prove the center subgroup is characteristic,
among other results. We conclude, in section~\ref{sec:characteristic:centralizer},
with introducing the centralizer of a subgroup and Theorem~\ref{thm:characteristic:centralizer:centralizer-of-char-group-is-char} proves the
centralizer of a characteristic subgroup is characteristic.

\subsection*{Mizar Article}
We call a Mizar file/script an ``article''. While developing a Mizar
article, the main body is stored in a {\Tt{}TEXT/\nwendquote} subdirectory. As I
understand it, the casing of the directory matters (because there are
DOS computers which have case-sensitive file systems\dots or something).
Every Mizar article looks like:

\nwenddocs{}\nwbegincode{1}\sublabel{NW2U3g6J-KmSke-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2U3g6J-KmSke-1}}}\moddef{TEXT/group-22.miz~{\nwtagstyle{}\subpageref{NW2U3g6J-KmSke-1}}}\endmoddef\nwstartdeflinemarkup\nwenddeflinemarkup
\LA{}License for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2U3g6J-2EFGfY-1}}\RA{}

\LA{}Environment for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-FK1ys-1}}\RA{}

\LA{}\code{}group{\_}22.miz\edoc{} article body~{\nwtagstyle{}\subpageref{NWUmZ11-1Vve9X-1}}\RA{}
\nwnotused{TEXT/group-22.miz}\nwendcode{}\nwbegindocs{2}\nwdocspar

\bigskip
\index{Vocabulary!File|(}
\subsection*{Vocabulary File}
Each Mizar article has an associated ``vocabulary file'' which lists the
\emph{new} terms introduced. It's stored in a {\Tt{}DICT/\nwendquote}\index{Dict@\texttt{DICT/}}
subdirectory. Terms are prefixed with the following:
\begin{itemize}
\item\index{R@\texttt{R}|see{Vocabulary, File}} {\Tt{}R\nwendquote} for predicate (like {\Tt{}Rare{\_}isomorphic\nwendquote} for a new predicate {\Tt{}are{\_}isomorphic\nwendquote})
\item\index{O@\texttt{O}|see{Vocabulary, File}} {\Tt{}O\nwendquote} for functor (e.g., {\Tt{}Oid\nwendquote} for {\Tt{}id\nwendquote})
\item\index{M@\texttt{M}|see{Vocabulary, File}} {\Tt{}M\nwendquote} for mode (e.g., {\Tt{}MSubgroup\nwendquote} for {\Tt{}Subgroup\nwendquote})
\item\index{G@\texttt{G}|see{Vocabulary, File}} {\Tt{}G\nwendquote} for structure (e.g., {\Tt{}GmultLoopStr{\_}0\nwendquote} for {\Tt{}multLoopStr{\_}0\nwendquote})
\item\index{U@\texttt{U}|see{Vocabulary, File}} {\Tt{}U\nwendquote} for selectors (e.g., {\Tt{}Ucarrier\nwendquote} in {\Tt{}STRUCT{\_}0\nwendquote} gives us a
  way to write {\Tt{}the\ carrier\ of\ X\nwendquote})
\item\index{V@\texttt{V}|see{Vocabulary, File}} {\Tt{}V\nwendquote} for attributes (so {\Tt{}Vcharacteristic\nwendquote} is a new attribute ``characteristic'')
\item\index{K@\texttt{K}|see{Vocabulary, File}} {\Tt{}K\nwendquote} for left functor brackets (like \verb#[:# in {\Tt{}ZFMISC{\_}1\nwendquote})
\item\index{L@\texttt{L}|see{Vocabulary, File}} {\Tt{}L\nwendquote} for right functor brackets (like the corresponding \verb#:]#
  in {\Tt{}ZFMISC{\_}1\nwendquote})
\end{itemize}
\index{Vocabulary!File|)}

Right now, we have just started, so we need an empty vocabulary file:

\nwenddocs{}\nwbegincode{3}\sublabel{NW2U3g6J-1hUeyM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2U3g6J-1hUeyM-1}}}\moddef{DICT/GROUP-22.VOC~{\nwtagstyle{}\subpageref{NW2U3g6J-1hUeyM-1}}}\endmoddef\nwstartdeflinemarkup\nwprevnextdefs{\relax}{NW2hIK2S-1hUeyM-1}\nwenddeflinemarkup

\nwalsodefined{\\{NW2hIK2S-1hUeyM-1}\\{NW2llOmu-1hUeyM-1}}\nwnotused{DICT/GROUP-22.VOC}\nwendcode{}\nwbegindocs{4}\nwdocspar

\subsection*{License}
The license for the MML seems to be the same for each article, I will
just copy it over.

\nwenddocs{}\nwbegincode{5}\sublabel{NW2U3g6J-2EFGfY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2U3g6J-2EFGfY-1}}}\moddef{License for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2U3g6J-2EFGfY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2U3g6J-KmSke-1}}\nwenddeflinemarkup
:: Characteristic Subgroups
::  by Alex Nelson
::
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

\nwused{\\{NW2U3g6J-KmSke-1}}\nwendcode{}\nwbegindocs{6}\nwdocspar
\nwenddocs{}\nwfilename{nw/001-characteristic/environ.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\section{Environment}

% TODO: notation remove

%\M
The header, or ``environment part'', tells Mizar what mathematics needs
to be imported from existing Mizar articles found in the MML. The idea
is we can define new terms [``functors''], new predicates, or new types
[``modes''], but we have to specify which articles we want to use for
their definitions, results, and notations.

This is complicated and kind of a distraction. The reader can skip ahead
to where we start proving theorems and defining concepts in
\S\ref{sec:characteristic:preparatory:start}.

\nwenddocs{}\nwbegincode{1}\sublabel{NW2aknDh-FK1ys-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-FK1ys-1}}}\moddef{Environment for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-FK1ys-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2U3g6J-KmSke-1}}\nwenddeflinemarkup
environ

 \LA{}\code{}group{\_}22.miz\edoc{} vocabularies~{\nwtagstyle{}\subpageref{NW2aknDh-1uaatY-1}}\RA{};
 \LA{}\code{}group{\_}22.miz\edoc{} constructors~{\nwtagstyle{}\subpageref{NW2aknDh-BOc6W-1}}\RA{};
 \LA{}\code{}group{\_}22.miz\edoc{} notations~{\nwtagstyle{}\subpageref{NW2aknDh-4R7z6a-1}}\RA{};
 \LA{}\code{}group{\_}22.miz\edoc{} registrations~{\nwtagstyle{}\subpageref{NW2aknDh-4Kp0yM-1}}\RA{};
 \LA{}\code{}group{\_}22.miz\edoc{} requirements~{\nwtagstyle{}\subpageref{NW2aknDh-tou4m-1}}\RA{};
 \LA{}\code{}group{\_}22.miz\edoc{} definitions~{\nwtagstyle{}\subpageref{NW2aknDh-3c241H-1}}\RA{};
 \LA{}\code{}group{\_}22.miz\edoc{} equalities~{\nwtagstyle{}\subpageref{NW2aknDh-RMPxd-1}}\RA{};
 \LA{}\code{}group{\_}22.miz\edoc{} expansions~{\nwtagstyle{}\subpageref{NW2aknDh-22IB3u-1}}\RA{};
 \LA{}\code{}group{\_}22.miz\edoc{} theorems~{\nwtagstyle{}\subpageref{NW2aknDh-lydFc-1}}\RA{};
 \LA{}\code{}group{\_}22.miz\edoc{} schemes~{\nwtagstyle{}\subpageref{NW2aknDh-4ZgZmN-1}}\RA{};
\nwused{\\{NW2U3g6J-KmSke-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{remark}
In practice, we often just copy/paste the {\Tt{}environ\nwendquote} of an article
proving results about similar topics. This is probably the easiest way
to get started, but it leaves one wondering what exactly this elaborate
section \emph{does} in Mizar.
\end{remark}

\subsection{Vocabularies, Notations, Constructors}

\subsubsection{Vocabularies}\label{par:characteristic:vocabularies}
The {\Tt{}vocabularies\nwendquote} refers to the identifiers defined. As I understand
it, Mizar is actually using the {\Tt{}vocabularies\nwendquote} for the user to add new
tokens to the language. Then Mizar will parse the file and treat
user-defined terms \emph{as} terms. The meaning associated to them will
be spelled out in the other parts of the {\Tt{}environ\nwendquote}.

For example, {\Tt{}Isomorphism\nwendquote} may be found in {\Tt{}RING{\_}3\nwendquote}. If I wanted to
define an {\Tt{}Isomorphism\nwendquote} of groups, then I must use {\Tt{}Isomorphism\nwendquote} as
a token. Thus I would need to add {\Tt{}RING{\_}3\nwendquote} to the vocabularies list.
(Earlier versions of this text made me think this was a good idea, but
it turned out to be a huge distraction.)

Similarly, {\Tt{}MOD{\_}4\nwendquote} introduces the tokens {\Tt{}Endomorphism\nwendquote} and
{\Tt{}Automorphism\nwendquote}, which I want to use, so I add them, too.

\nwenddocs{}\nwbegincode{3}\sublabel{NW2aknDh-1uaatY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-1uaatY-1}}}\moddef{\code{}group{\_}22.miz\edoc{} vocabularies~{\nwtagstyle{}\subpageref{NW2aknDh-1uaatY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
vocabularies MOD_4, GROUP_22, CARD_3, QC_LANG1, RLSUB_1,
  \LA{}Functions and subset tokens~{\nwtagstyle{}\subpageref{NW2aknDh-1ATTd1-1}}\RA{},
  \LA{}Group and subgroups tokens~{\nwtagstyle{}\subpageref{NW2aknDh-5jMsk-1}}\RA{},
  \LA{}Group conjugation and normal subgroups tokens~{\nwtagstyle{}\subpageref{NW2aknDh-40Iyod-1}}\RA{}
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{4}\nwdocspar

\begin{remark}[VOC file]\index{Voc File@\texttt{.VOC} File}
For our article, we will need to define new tokens. They are placed in
{\Tt{}./DICT/GROUP{\_}22.VOC\nwendquote} (relative to whatever directory we have made our
Mizar workstation). As we introduce new terms, we will check if it
exists already in Mizar by running ``{\Tt{}findvoc\ -w\ "term"\nwendquote}''.\index{Findvoc@\texttt{findvoc}} If Mizar
is unfamiliar with the term, then nothing will be reported, and we will
have to add it to our {\Tt{}VOC\nwendquote} file. Otherwise, if {\Tt{}term\nwendquote} is introduced
in another article, we add it to our {\Tt{}vocabularies\nwendquote} environ directive.
\end{remark}

We need to recognize the tokens found in rudimentary set theory, so we
begin with importing the usual suspects. For {\Tt{}bijective\nwendquote} and {\Tt{}onto\nwendquote},
we need {\Tt{}FUNCT{\_}2\nwendquote}. We will also be proving properties concerning the
cardinality of subgroups, so we load {\Tt{}CARD{\_}1\nwendquote}.

We'll also make use of the fact that the real numbers form a group, and
some basics of arithmetic (the {\Tt{}ARYTM{\_}\nwendquote} supply us with what we need).

For proving the Frattini subgroup is characteristic, we need to use
{\Tt{}meet\nwendquote} from {\Tt{}SETFAM{\_}1\nwendquote}.

For finite cyclic groups, we need {\Tt{}ORDINAL1\nwendquote} since the underlying set
of $\cyclicGroup{n}$ is the ordinal $n$.

\nwenddocs{}\nwbegincode{5}\sublabel{NW2aknDh-1ATTd1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-1ATTd1-1}}}\moddef{Functions and subset tokens~{\nwtagstyle{}\subpageref{NW2aknDh-1ATTd1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-1uaatY-1}}\nwenddeflinemarkup
RELAT_1, TARSKI, FUNCT_1, ZFMISC_1, XXREAL_1, FINSEQ_1,
FINSET_1, NUMBERS, WELLORD1, SUBSET_1, XBOOLE_0, PARTFUN1,
FUNCT_2, CARD_1, ARYTM_3, CQC_SIM1, ORDINAL1, EQREL_1
\nwused{\\{NW2aknDh-1uaatY-1}}\nwendcode{}\nwbegindocs{6}\nwdocspar

%\M
Characteristic subgroups requires recognizing tokens about\dots groups,
and subgroups.

\nwenddocs{}\nwbegincode{7}\sublabel{NW2aknDh-5jMsk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-5jMsk-1}}}\moddef{Group and subgroups tokens~{\nwtagstyle{}\subpageref{NW2aknDh-5jMsk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-1uaatY-1}}\nwenddeflinemarkup
STRUCT_0, GROUP_1, GROUP_2, GROUP_3, GROUP_4, GROUP_5,
GROUP_6, BINOP_1, BINOP_2, ALGSTR_0, REALSET1, AUTGROUP,
GR_CY_1, NATTRA_1, INT_1
\nwused{\\{NW2aknDh-1uaatY-1}}\nwendcode{}\nwbegindocs{8}\nwdocspar

%\M
{\Tt{}NEWTON\nwendquote} defines the token {\Tt{}|{\char94}\nwendquote}, used as infix operator {\Tt{}a\ |{\char94}\ b\nwendquote}
which is Mizar notation for $a^{b}$. Mizar follows group theorist
notation of writing $g^{h} = h^{-1}gh$ for conjugation. Also observe
that {\Tt{}normal\nwendquote} is introduced in {\Tt{}PRE{\_}TOPC\nwendquote}, so we need to include
that, as well.

We use {\Tt{}WEDDWITT\nwendquote} since it defines the notion of a centralizer.

\nwenddocs{}\nwbegincode{9}\sublabel{NW2aknDh-40Iyod-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-40Iyod-1}}}\moddef{Group conjugation and normal subgroups tokens~{\nwtagstyle{}\subpageref{NW2aknDh-40Iyod-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-1uaatY-1}}\nwenddeflinemarkup
NAT_1, INT_2, SETFAM_1, NEWTON, PRE_TOPC, GROUP_10, WEDDWITT
\nwused{\\{NW2aknDh-1uaatY-1}}\nwendcode{}\nwbegindocs{10}\nwdocspar

\subsubsection{Constructors}
But the vocabularies just permits Mizar's parser to \emph{recognize}
terms. For the \emph{meaning} of these terms, we need to import the
\emph{constructors}. But if a constructor uses \emph{another article}'s
constructors, we need to also import that other article as well.

Often we just copy the articles imported for the notations section, but
in my experience it's often a strict subset of the notations. I'm lazy,
so I'll just copy the constructor imports:

\nwenddocs{}\nwbegincode{11}\sublabel{NW2aknDh-BOc6W-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-BOc6W-1}}}\moddef{\code{}group{\_}22.miz\edoc{} constructors~{\nwtagstyle{}\subpageref{NW2aknDh-BOc6W-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
constructors \LA{}Set theoretic constructors for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-4OYzVK-1}}\RA{}
  \LA{}Number constructors for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2Rb2PP-1}}\RA{}
  \LA{}Group theory constructors for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-4A8g9y-1}}\RA{}
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{12}\nwdocspar

\nwenddocs{}\nwbegincode{13}\sublabel{NW2aknDh-4OYzVK-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-4OYzVK-1}}}\moddef{Set theoretic constructors for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-4OYzVK-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-BOc6W-1}}\nwenddeflinemarkup
TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, FUNCT_1,
RELSET_1, PARTFUN1, FUNCT_2, FUNCOP_1, FINSEQ_1, FINSEQ_2, FINSOP_1,
\nwused{\\{NW2aknDh-BOc6W-1}}\nwendcode{}\nwbegindocs{14}\nwdocspar

\nwenddocs{}\nwbegincode{15}\sublabel{NW2aknDh-2Rb2PP-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-2Rb2PP-1}}}\moddef{Number constructors for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2Rb2PP-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-BOc6W-1}}\nwenddeflinemarkup
CARD_1, CARD_3, NUMBERS, REAL_1, SETWISEO,
ARYTM_2, ARYTM_3, ORDINAL2, SQUARE_1,
SETFAM_1, ORDINAL1,INT_1, INT_2, PBOOLE,
XXREAL_2, XCMPLX_0, XXREAL_0, XREAL_0,  NAT_1, NAT_D,
\nwused{\\{NW2aknDh-BOc6W-1}}\nwendcode{}\nwbegindocs{16}\nwdocspar

\nwenddocs{}\nwbegincode{17}\sublabel{NW2aknDh-4A8g9y-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-4A8g9y-1}}}\moddef{Group theory constructors for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-4A8g9y-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-BOc6W-1}}\nwenddeflinemarkup
BINOP_1, BINOP_2, FINSET_1, STRUCT_0, ALGSTR_0, REALSET1, MONOID_0,
GROUP_1, GROUP_2, GROUP_3, GROUP_4, GROUP_5, PRALG_1, GROUP_7, GRSOLV_1,
AUTGROUP, GROUP_9, GROUP_10, GR_CY_1, NEWTON, GROUP_6
\nwused{\\{NW2aknDh-BOc6W-1}}\nwendcode{}\nwbegindocs{18}\nwdocspar

\subsubsection{Notations}
Now we need to import the functor patterns to ``couple'' the definitions
and notations. Usually this is just the constructor list.

The basics of Tarski--Grothendieck set theory may be found in
{\Tt{}TARSKI\nwendquote}. Partial functions are introduced in {\Tt{}PARTFUN1\nwendquote}. Binary
operations applied to functions {\Tt{}FUNCOP{\_}1\nwendquote} will be necessary later
on. And fancy functions from sets to sets, like {\Tt{}Permutation\nwendquote}, is
defined in {\Tt{}FUNCT{\_}2\nwendquote}. There are few random odds and ends, like
{\Tt{}NUMBERS\nwendquote} for subsets of complex numbers and {\Tt{}XXREAL{\_}0\nwendquote} for the real
numbers.

We also use {\Tt{}SETFAM{\_}1\nwendquote} for {\Tt{}meet\nwendquote}, necessary when proving the
Frattini subgroup is characteristic.

For the numbers notations, it's\dots difficult to disentangle.

The group theoretic notions are a grab bag of binary operators
({\Tt{}BINOP{\_}1\nwendquote} and {\Tt{}BINOP{\_}2\nwendquote}), prerequisites for algebraic structures
({\Tt{}STRUCT{\_}0\nwendquote} and {\Tt{}ALGSTR{\_}0\nwendquote}), primordial group theoretic articles
({\Tt{}REALSET1\nwendquote}), and the relevant group theory articles.

I'll also be using products of groups (established in {\Tt{}GROUP{\_}7\nwendquote}) and
need some helper results ({\Tt{}PRALG{\_}1\nwendquote}).

\nwenddocs{}\nwbegincode{19}\sublabel{NW2aknDh-4R7z6a-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-4R7z6a-1}}}\moddef{\code{}group{\_}22.miz\edoc{} notations~{\nwtagstyle{}\subpageref{NW2aknDh-4R7z6a-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
notations TARSKI, XBOOLE_0, SUBSET_1, XCMPLX_0, ORDINAL1, RELAT_1,
  FUNCT_1, RELSET_1, FUNCT_2, FUNCOP_1, SETWISEO, PARTFUN1,
  ZFMISC_1, CARD_1, CARD_3, INT_1, NAT_1, ARYTM_2, ARYTM_3, INT_2,
  FINSEQ_2, REAL_1, SETFAM_1, NUMBERS, MEMBERED, PBOOLE, BINOP_1,
  BINOP_2, FINSET_1, STRUCT_0, ALGSTR_0, XXREAL_0, FINSEQ_1, GROUP_1, GROUP_2,
  GROUP_3, GROUP_4, GROUP_5, REALSET1, NAT_D, GRSOLV_1,
  AUTGROUP, GROUP_9, GROUP_10, GR_CY_1, NEWTON, PRALG_1, GROUP_7, GROUP_6
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{20}\nwdocspar

\subsection{Registrations, Definitions, Theorems, Schemes}

\subsubsection{Registrations}
We often cluster adjectives together with registrations, or have one
adjective imply another automatically (like how a characteristic
Subgroup is always normal). We import these using the registrations
portion of the environment. For our purposes, we may need basic facts
about relations ({\Tt{}RELAT{\_}1\nwendquote}), functions and partial functions ({\Tt{}FUNCT{\_}1\nwendquote},
{\Tt{}PARTFUN1\nwendquote}, {\Tt{}FUNCT{\_}2\nwendquote}), relations between sets ({\Tt{}RELSET{\_}1\nwendquote}).

\nwenddocs{}\nwbegincode{21}\sublabel{NW2aknDh-4Kp0yM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-4Kp0yM-1}}}\moddef{\code{}group{\_}22.miz\edoc{} registrations~{\nwtagstyle{}\subpageref{NW2aknDh-4Kp0yM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
registrations \LA{}Register set theoretic clusters for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-4BFxVB-1}}\RA{},
  \LA{}Register number clusters for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-3CpoAk-1}}\RA{},
  \LA{}Register group theoretic clusters for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2mrFCy-1}}\RA{}
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{22}\nwdocspar

%\M
The clusters we want to use from set theory are defined in the ``same''
scattering of places.

\nwenddocs{}\nwbegincode{23}\sublabel{NW2aknDh-4BFxVB-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-4BFxVB-1}}}\moddef{Register set theoretic clusters for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-4BFxVB-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-4Kp0yM-1}}\nwenddeflinemarkup
XBOOLE_0, RELAT_1, FUNCT_1, PARTFUN1, RELSET_1, FUNCT_2
\nwused{\\{NW2aknDh-4Kp0yM-1}}\nwendcode{}\nwbegindocs{24}\nwdocspar

\nwenddocs{}\nwbegincode{25}\sublabel{NW2aknDh-3CpoAk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-3CpoAk-1}}}\moddef{Register number clusters for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-3CpoAk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-4Kp0yM-1}}\nwenddeflinemarkup
ORDINAL1, FINSET_1, FINSEQ_1, NUMBERS, NAT_1, INT_1, INT_2, XCMPLX_0,
ARYTM_3, XREAL_0, ARYTM_2, SETWISEO, CARD_1, NEWTON, FINSEQ_2
\nwused{\\{NW2aknDh-4Kp0yM-1}}\nwendcode{}\nwbegindocs{26}\nwdocspar

%\M
We also need to register adjectives germane to group theory.

\nwenddocs{}\nwbegincode{27}\sublabel{NW2aknDh-2mrFCy-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-2mrFCy-1}}}\moddef{Register group theoretic clusters for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2mrFCy-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-4Kp0yM-1}}\nwenddeflinemarkup
STRUCT_0, BINOP_1, GROUP_1, GROUP_2, GROUP_3, GROUP_6, GR_CY_1, GROUP_7
\nwused{\\{NW2aknDh-4Kp0yM-1}}\nwendcode{}\nwbegindocs{28}\nwdocspar

\subsubsection{Definitions} When using a definition $f := M$, we need to cite it in
a proof. Specifically, automatically unfolding predicates from specific
articles. If we want this to be automated, we can cite the article in
the {\Tt{}definitions\nwendquote} portion of the {\Tt{}environ\nwendquote}.

\nwenddocs{}\nwbegincode{29}\sublabel{NW2aknDh-3c241H-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-3c241H-1}}}\moddef{\code{}group{\_}22.miz\edoc{} definitions~{\nwtagstyle{}\subpageref{NW2aknDh-3c241H-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
definitions \LA{}Include set theoretic definitions for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2hxaIL-1}}\RA{},
  \LA{}Group theoretic definitions for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2qQNX4-1}}\RA{}
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{30}\nwdocspar

\begin{remark}
  Kornilowicz~\cite[see \S{5.1}]{kornilowicz2015definitional} that:
  ``Environment directive {\Tt{}definitions\nwendquote} is used for importing two different kinds of information from the database: definitional expansions used by REASONER and expansions of terms defined by equals used by EQUALIZER.''
\end{remark}

%\M
Arguably, we want to be using basic predicates concerning subsets
({\Tt{}SUBSET{\_}1\nwendquote}), functions ({\Tt{}FUNCT{\_}1\nwendquote} and {\Tt{}FUNCT{\_}2\nwendquote}), and set theory
({\Tt{}TARSKI\nwendquote}), so let's just add them.

\nwenddocs{}\nwbegincode{31}\sublabel{NW2aknDh-2hxaIL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-2hxaIL-1}}}\moddef{Include set theoretic definitions for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2hxaIL-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-3c241H-1}}\nwenddeflinemarkup
TARSKI, SUBSET_1, FUNCT_1, FUNCT_2, ARYTM_2, FINSEQ_1, INT_1
\nwused{\\{NW2aknDh-3c241H-1}}\nwendcode{}\nwbegindocs{32}\nwdocspar

%\M
But we also want to use facts concerning normal subgroups ({\Tt{}GROUP{\_}3\nwendquote})
and the automorphism group $\aut(G)$ ({\Tt{}AUTGROUP\nwendquote}).

\nwenddocs{}\nwbegincode{33}\sublabel{NW2aknDh-2qQNX4-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-2qQNX4-1}}}\moddef{Group theoretic definitions for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2qQNX4-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-3c241H-1}}\nwenddeflinemarkup
PRALG_1, GROUP_1, GROUP_3, GROUP_4, GROUP_5, GROUP_6, AUTGROUP, NEWTON,
XXREAL_0, GROUP_7
\nwused{\\{NW2aknDh-3c241H-1}}\nwendcode{}\nwbegindocs{34}\nwdocspar

\subsubsection{Theorems}
The {\Tt{}vocabularies\nwendquote} allows Mizar's scanner and parser to
\emph{recognize} terms. The {\Tt{}constructors\nwendquote} and {\Tt{}notations\nwendquote} allows us
to use the patterns and constructors for terms. But if we want to cite
theorems and definitions in proofs (i.e., if we want to use the
\emph{results} of previous articles), then we need to add those cited
articles to the {\Tt{}theorems\nwendquote} environment.

\nwenddocs{}\nwbegincode{35}\sublabel{NW2aknDh-lydFc-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-lydFc-1}}}\moddef{\code{}group{\_}22.miz\edoc{} theorems~{\nwtagstyle{}\subpageref{NW2aknDh-lydFc-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
theorems
  \LA{}Import set-theoretic theorems for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2UoAMk-1}}\RA{},
  \LA{}Import group-theoretic theorems for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-3iw38Z-1}}\RA{}
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{36}\nwdocspar

%\M
We have the usual cast of set theoretic characters. There are a large
number of articles we refer to for using the real numbers.

\nwenddocs{}\nwbegincode{37}\sublabel{NW2aknDh-2UoAMk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-2UoAMk-1}}}\moddef{Import set-theoretic theorems for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-2UoAMk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-lydFc-1}}\nwenddeflinemarkup
TARSKI, RELSET_1, FUNCT_1, FUNCT_2, XBOOLE_0, INT_2, SETFAM_1, FINSEQ_3,
PARTFUN1, ORDINAL1, ZFMISC_1, NAT_D, INT_1
\nwused{\\{NW2aknDh-lydFc-1}}\nwendcode{}\nwbegindocs{38}\nwdocspar

%\M
Again, we import the usual group theoretic theorems.
\nwenddocs{}\nwbegincode{39}\sublabel{NW2aknDh-3iw38Z-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-3iw38Z-1}}}\moddef{Import group-theoretic theorems for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NW2aknDh-3iw38Z-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-lydFc-1}}\nwenddeflinemarkup
GROUP_1, GROUP_2, GROUP_3, GROUP_4, GROUP_5, GROUP_6, STRUCT_0, GRSOLV_1,
AUTGROUP, GROUP_9, GROUP_10, GR_CY_1, XCMPLX_1
\nwused{\\{NW2aknDh-lydFc-1}}\nwendcode{}\nwbegindocs{40}\nwdocspar

\subsubsection{Schemes}
If we want to cite and use a scheme defined elsewhere, then we need the
article's name cited in the {\Tt{}schemes\nwendquote} portion of the environment.

\nwenddocs{}\nwbegincode{41}\sublabel{NW2aknDh-4ZgZmN-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-4ZgZmN-1}}}\moddef{\code{}group{\_}22.miz\edoc{} schemes~{\nwtagstyle{}\subpageref{NW2aknDh-4ZgZmN-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
schemes FUNCT_2, GROUP_4, FINSEQ_1
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{42}\nwdocspar

\subsection{\dots and the rest}

\subsubsection{Equalities}
This seems to be introduced around 2015, the only documentation I could
find was in Kornilowics~\cite{kornilowicz2015definitional}.
Expansions of terms defined by {\Tt{}equals\nwendquote} are imported by a new
{\Tt{}environ\nwendquote} directive {\Tt{}equalities\nwendquote}.

\nwenddocs{}\nwbegincode{43}\sublabel{NW2aknDh-RMPxd-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-RMPxd-1}}}\moddef{\code{}group{\_}22.miz\edoc{} equalities~{\nwtagstyle{}\subpageref{NW2aknDh-RMPxd-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
equalities PARTFUN1, FINSET_1, BINOP_1, REALSET1, STRUCT_0, GROUP_2,
  GROUP_3, GROUP_4, GROUP_5, GROUP_6, GR_CY_1,
  ALGSTR_0, NEWTON, PRALG_1, GROUP_7
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{44}\nwdocspar

\subsubsection{Expansions}
Import expansions of predicates and adjectives from the specified
articles.

\nwenddocs{}\nwbegincode{45}\sublabel{NW2aknDh-22IB3u-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-22IB3u-1}}}\moddef{\code{}group{\_}22.miz\edoc{} expansions~{\nwtagstyle{}\subpageref{NW2aknDh-22IB3u-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
expansions TARSKI, FINSET_1, GROUP_1, GROUP_2, GROUP_6, STRUCT_0, BINOP_1,
  FUNCT_2, NEWTON, PRALG_1, GROUP_7
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{46}\nwdocspar

\subsubsection{Requirements} Within mathematics, there's a lot of implicit
knowledge. Mizar automates some of that with {\Tt{}requirements\nwendquote}
inclusions. For example, if we want to show {\Tt{}x\ in\ X\nwendquote}
(Mizar for the primitive binary predicate $x\in X$) implies
the typing relation {\Tt{}x\ is\ Element\ of\ X\nwendquote}, well, that's ``obvious'' to
us humans, and we can make it obvious to Mizar as well using the proper
requirements.

\begin{remark}
As I understand it (from Wiedijk's excellent ``Writing a Mizar Article
in 9 easy steps''), the only possibilities for the {\Tt{}requirements\nwendquote} are:
{\Tt{}BOOLE\nwendquote}, {\Tt{}SUBSET\nwendquote}, {\Tt{}NUMERALS\nwendquote}, {\Tt{}ARITHM\nwendquote}, {\Tt{}REAL\nwendquote}.
\end{remark}

\nwenddocs{}\nwbegincode{47}\sublabel{NW2aknDh-tou4m-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2aknDh-tou4m-1}}}\moddef{\code{}group{\_}22.miz\edoc{} requirements~{\nwtagstyle{}\subpageref{NW2aknDh-tou4m-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2aknDh-FK1ys-1}}\nwenddeflinemarkup
requirements BOOLE, SUBSET, NUMERALS, ARITHM, REAL
\nwused{\\{NW2aknDh-FK1ys-1}}\nwendcode{}\nwbegindocs{48}\nwdocspar
\nwenddocs{}\nwfilename{nw/001-characteristic/preparatory.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
% This is placed here so the LaTeX is organized correctly, thanks to
% problems with noweb :(
\section{Article Body}\label{sec:characteristic:preparatory:start}

The article body is where the magic happens. Now we can start making
definitions, stating theorems, proving results. The basic structure of
our article can be cleaved in two: first we state and prove ``helper
lemmas'', which probably belong somewhere else, but currently are not
located anywhere in the Mizar library. The second half are our results
concerning characteristic subgroups.

Just to give some idea of what we're doing, we will have to define a
notion of {\Tt{}Automorphism\nwendquote}. We will also have to prove a number of
results concerning {\Tt{}Automorphism\nwendquote}s. After all, a characteristic
subgroup is one which is left invariant under any automorphism of its
parent group.

Once that has been squared away, we will define a notion of a
{\Tt{}characteristic\nwendquote} subgroup. Then we will prove results right away.

\nwenddocs{}\nwbegincode{1}\sublabel{NWUmZ11-1Vve9X-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-1Vve9X-1}}}\moddef{\code{}group{\_}22.miz\edoc{} article body~{\nwtagstyle{}\subpageref{NWUmZ11-1Vve9X-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2U3g6J-KmSke-1}}\nwenddeflinemarkup
begin :: Preparatory Work
\LA{}Helper lemmas and registrations for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NWUmZ11-2pzjB9-1}}\RA{}

begin :: Nontrivial Groups and Subgroups
\LA{}Nontrivial Groups~{\nwtagstyle{}\subpageref{NWUmZ11-1xRFQU-1}}\RA{}

begin :: Proper Subgroups
\LA{}Proper Subgroups~{\nwtagstyle{}\subpageref{NWUmZ11-KQsbx-1}}\RA{}

begin :: Automorphisms
\LA{}Automorphisms of Groups~{\nwtagstyle{}\subpageref{NW3gc01d-1CMOm-1}}\RA{}

begin :: Inner Automorphisms
\LA{}Inner Automorphisms~{\nwtagstyle{}\subpageref{NW2hIK2S-UGF1u-1}}\RA{}

begin :: Characteristic Subgroups
\LA{}Characteristic subgroups~{\nwtagstyle{}\subpageref{NW2llOmu-3NltVm-1}}\RA{}

begin :: Results concerning meets
\LA{}Meets of families of subgroups~{\nwtagstyle{}\subpageref{NW1xOoCH-3kq7TJ-1}}\RA{}

begin :: Centralizer of Characteristic Subgroups is Characteristic
\LA{}Centralizers of Characteristic Subgroups~{\nwtagstyle{}\subpageref{NW430QVE-2Y3Nao-1}}\RA{}

\nwused{\\{NW2U3g6J-KmSke-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\section{Preparatory results}
There are a lot of recurring patterns which can be isolated into helper
functions---err, lemmas. I'm sure many (if not all) are already present
somewhere in the Mizar Mathematical Library, but I couldn't find them. I
am placing them within their own ``section'', because if I ever submit
the result to the Mizar Mathematical Library, they will either be
removed (and relocated to the relevant articles) or the editors will
know what I should have done instead.

\nwenddocs{}\nwbegincode{3}\sublabel{NWUmZ11-2pzjB9-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-2pzjB9-1}}}\moddef{Helper lemmas and registrations for \code{}group{\_}22.miz\edoc{}~{\nwtagstyle{}\subpageref{NWUmZ11-2pzjB9-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1Vve9X-1}}\nwenddeflinemarkup
reserve X for set;

\LA{}Register: the identity function is surjective and bijective~{\nwtagstyle{}\subpageref{NWUmZ11-1ouPZe-1}}\RA{}

\LA{}Theorem: restriction of group morphism acts on elements like the original~{\nwtagstyle{}\subpageref{NWUmZ11-32pfqx-1}}\RA{}

\LA{}Theorem: Subgroups invariant under conjugation are normal~{\nwtagstyle{}\subpageref{NWUmZ11-4Nsdji-1}}\RA{}

\LA{}Theorem: if $f$ is bijective, then $(f^{-1})^{-1}=f$~{\nwtagstyle{}\subpageref{NWUmZ11-l92FA-1}}\RA{}

\LA{}Theorem: if $f\colon X\to Y$ is bijective, then $f\circ f^{-1}=\id_{Y}$~{\nwtagstyle{}\subpageref{NWUmZ11-1Brdpy-1}}\RA{}

\LA{}Theorem: $f\colon X\into Y$ and $x\notin A\subset X$ implies $f(x)\notin f(A)$~{\nwtagstyle{}\subpageref{NWUmZ11-17dzpg-1}}\RA{}
\nwused{\\{NWUmZ11-1Vve9X-1}}\nwendcode{}\nwbegindocs{4}\nwdocspar


\begin{registration}
We begin by registering the identity function as being surjective and
bijective. This should have been done in \mml{funct2}, but hey, what can
you do?
\end{registration}

\nwenddocs{}\nwbegincode{5}\sublabel{NWUmZ11-1ouPZe-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-1ouPZe-1}}}\moddef{Register: the identity function is surjective and bijective~{\nwtagstyle{}\subpageref{NWUmZ11-1ouPZe-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-2pzjB9-1}}\nwenddeflinemarkup
registration
  let X;
  cluster id X -> onto;
  coherence;
end;

registration
  let X;
  cluster id X -> bijective;
  coherence;
end;
\nwused{\\{NWUmZ11-2pzjB9-1}}\nwendcode{}\nwbegindocs{6}\nwdocspar

\begin{theorem}[{Restriction of Group Morphisms to Subgroups}]\label{thm:characteristic:preparatory:restrict-group-morphism-to-subgroups}
If $f\colon G_{1}\to G_{2}$ is a group morphism and $H\subgroup G_{1}$
is a subgroup, then for any $h\in H$ we have $f(h) = f|_{H}(h)$.
\end{theorem}

\begin{thm-remark}
Mizar proves that, if $f\colon X\to Y$ is a set theoretic function and
$A\subset X$ is an arbitrary subset, then $\forall a\in X$ we have
$a\in A\implies f|_{A}(a)=f(a)$. But this doesn't generalize to
morphisms, sadly, because a group is like a chocolate-covered set.

So we just prove for any pair of groups $G_{1}$ and $G_{2}$,
for any subgroup $H\subgroup G_{1}$,
for any group morphism $f\colon G_{1}\to G_{2}$, and for arbitrary $h\in G_{1}$,
we have $h\in H\implies f|_{H}(h) = f(h)$. The reasoning is that we can
always look at the set-theoretic function $U(f)$ underlying $f$, then
piggie-back off earlier results establishing the desired claim
(Theorem~\mml[Th49]{funct1}\MizThm{FUNCT\_1}{49}, to be precise).
\end{thm-remark}


\nwenddocs{}\nwbegincode{7}\sublabel{NWUmZ11-32pfqx-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-32pfqx-1}}}\moddef{Theorem: restriction of group morphism acts on elements like the original~{\nwtagstyle{}\subpageref{NWUmZ11-32pfqx-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-2pzjB9-1}}\nwenddeflinemarkup
theorem Th1:
  for G1,G2 being Group
  for H being Subgroup of G1
  for f being Homomorphism of G1,G2
  for h being Element of G1
  st h in H
  holds (f|H).h = f.h
proof
  let G1,G2 be Group;
  let H be Subgroup of G1;
  let f be Homomorphism of G1,G2;
  let h be Element of G1;
  assume h in H;
  then (f|(the carrier of H)).h = f.h by FUNCT_1:49;
  hence (f|H).h = f.h by GRSOLV_1:def 2;
end;
\nwindexdefn{\nwixident{Th1}}{Th1}{NWUmZ11-32pfqx-1}\eatline
\nwused{\\{NWUmZ11-2pzjB9-1}}\nwidentdefs{\\{{\nwixident{Th1}}{Th1}}}\nwendcode{}\nwbegindocs{8}\nwdocspar
\begin{theorem}\label{thm:characteristic:preparatory:normal-subgroup}
Let $H\subgroup G$ be such that $\forall a\in G, a^{-1}Ha=H$.
Then $H\normalSubgroup G$ is a normal subgroup.
\end{theorem}

\begin{thm-remark}
The current theorems in~\mml{group3} require $H$ to be a \emph{strict}
subgroup, but this strictness condition is not necessary.
\end{thm-remark}


\nwenddocs{}\nwbegincode{9}\sublabel{NWUmZ11-4Nsdji-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-4Nsdji-1}}}\moddef{Theorem: Subgroups invariant under conjugation are normal~{\nwtagstyle{}\subpageref{NWUmZ11-4Nsdji-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-2pzjB9-1}}\nwenddeflinemarkup
theorem Th2:
  for G being Group
  for H being Subgroup of G
  st (for a being Element of G holds H |^ a = the multMagma of H)
  holds H is normal Subgroup of G
proof
  let G be Group;
  let H be Subgroup of G;
  assume for a being Element of G holds H |^ a = the multMagma of H;
  hence H is normal Subgroup of G by GROUP_3:def 13;
end;
\nwindexdefn{\nwixident{Th2}}{Th2}{NWUmZ11-4Nsdji-1}\eatline
\nwused{\\{NWUmZ11-2pzjB9-1}}\nwidentdefs{\\{{\nwixident{Th2}}{Th2}}}\nwendcode{}\nwbegindocs{10}\nwdocspar
\begin{theorem}\label{thm:characteristic:preparatory:lm10}
If $f\colon X\to Y$ is a bijective function of non-empty sets, then $(f^{-1})^{-1}=f$.
\end{theorem}

\begin{proof}[Proof outline]
Let $f\colon X\to Y$ be bijective. Then $g=f^{-1}$ is a bijective
function from $Y$ to $X$. And $h=g^{-1}$ is a bijective function from
$X$ to $Y$. Then for any $x\in X$, we have $f(x)=h(x)$. This proves the claim.
\end{proof}

\nwenddocs{}\nwbegincode{11}\sublabel{NWUmZ11-l92FA-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-l92FA-1}}}\moddef{Theorem: if $f$ is bijective, then $(f^{-1})^{-1}=f$~{\nwtagstyle{}\subpageref{NWUmZ11-l92FA-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-2pzjB9-1}}\nwenddeflinemarkup
theorem Th3:
  for X,Y being non empty set
  for f being Function of X,Y
  st f is bijective
  holds (f")" = f
proof
  let X,Y be non empty set;
  let f be Function of X,Y;
  assume A1: f is bijective;
  then A2: dom f = X & rng f = Y & f is one-to-one by FUNCT_2:def 3,def 1;
  reconsider g = f" as Function of Y,X by A2,FUNCT_2:25;
  A3: g is bijective by A1,GROUP_6:63;
  g is one-to-one & rng g = X implies g" is Function of X,Y
  by FUNCT_2:25;
  then reconsider h = g" as Function of X,Y by A3,FUNCT_2:def 3;

  for x being object st x in X holds h.x = f.x
  \LA{}Proof: $\forall x, x\in X\implies h(x) = f(x)$~{\nwtagstyle{}\subpageref{NWUmZ11-1bDmhU-1}}\RA{}
  then h = f;
  hence (f")" = f;
end;
\nwindexdefn{\nwixident{Th3}}{Th3}{NWUmZ11-l92FA-1}\eatline
\nwused{\\{NWUmZ11-2pzjB9-1}}\nwidentdefs{\\{{\nwixident{Th3}}{Th3}}}\nwendcode{}\nwbegindocs{12}\nwdocspar
\begin{proof}[Proof step ($\forall x\in X, h(x)=f(x)$)]
  Let $x\in X$ be arbitrary. Consider
  \begin{subequations}\label{eq:characteristic:preparatory:lm-finvinv-is-inv}
  \begin{equation}
    y=f(x).
  \end{equation}
  Then $x=g(y)$ --- i.e.,
  $x = f^{-1}(y)$ --- implies
  \begin{equation}
  h(x) = g^{-1}(x) = y.
  \end{equation}
  \end{subequations}
  But since $y=y$ we from
  Eqs~\eqref{eq:characteristic:preparatory:lm-finvinv-is-inv}
  prove $h(x)=f(x)$.
\end{proof}

\nwenddocs{}\nwbegincode{13}\sublabel{NWUmZ11-1bDmhU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-1bDmhU-1}}}\moddef{Proof: $\forall x, x\in X\implies h(x) = f(x)$~{\nwtagstyle{}\subpageref{NWUmZ11-1bDmhU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-l92FA-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume x in X;
  then reconsider x as Element of X;
  consider y being object such that
  Z1: y = f.x;
  x = g.y by A1,Z1,FUNCT_2:26;
  hence thesis by A1,Z1,FUNCT_2:26;
end;
\nwused{\\{NWUmZ11-l92FA-1}}\nwendcode{}\nwbegindocs{14}\nwdocspar

\begin{theorem}\label{thm:characteristic:preparatory:f-finv-y-is-y}
If $f\colon X\to Y$ is a bijective function of sets, then for any $y\in Y$
we have $f(f^{-1}(y))=y$.
\end{theorem}

\begin{proof}[Proof sketch]
Let $f\colon X\to Y$ be bijective. Then $g\colon Y\to X$ given by
$g=f^{-1}$ is bijective. Mizar knows $g^{-1}(g(y))=y$ for $y=f(x)$. Then
plugging in the definition of $g$ and using
Theorem~\ref{thm:characteristic:preparatory:lm10} to transform
$(f^{-1})^{-1}=f$, together gives the result.
\end{proof}

\begin{thm-remark}
Mizar has the opposite result in its library, namely, Theorem~\mml[Th26]{funct2}\MizThm{FUNCT\_2}{26}
states that $f^{-1}(f(x))=x$ provided $f$ is injective.
\end{thm-remark}

\nwenddocs{}\nwbegincode{15}\sublabel{NWUmZ11-1Brdpy-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-1Brdpy-1}}}\moddef{Theorem: if $f\colon X\to Y$ is bijective, then $f\circ f^{-1}=\id_{Y}$~{\nwtagstyle{}\subpageref{NWUmZ11-1Brdpy-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-2pzjB9-1}}\nwenddeflinemarkup
theorem Th4:
  for X,Y being non empty set
  for f being Function of X,Y
  st f is bijective
  for y being Element of Y
  holds f.((f").y) = y
proof
  let X,Y be non empty set;
  let f be Function of X,Y;
  assume A1: f is bijective;
  let y be Element of Y;
  f is onto by A1;
  then reconsider g = f" as Function of Y,X by A1,FUNCT_2:25;
  y = (g").(g.y) by A1,FUNCT_2:26
   .= f.((f").y) by Th3,A1;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th4}}{Th4}{NWUmZ11-1Brdpy-1}\eatline
\nwused{\\{NWUmZ11-2pzjB9-1}}\nwidentdefs{\\{{\nwixident{Th4}}{Th4}}}\nwendcode{}\nwbegindocs{16}\nwdocspar
\begin{theorem}\label{thm:characteristic:preparatory:x-notin-A-implies-fx-notin-fA}
Let $f\colon X\into Y$ be an injective function of non-empty sets, let
$A\subset X$ be a non-empty subset, let $x\in X$ be any element such
that $x\notin A$. Then $f(x)\notin f(A)$.
\end{theorem}

\begin{proof}[Proof sketch]
We prove that, if $f(x)\in f(A)$, then we get a contradiction with the
hypothesis $x\notin A$ or $f$ is injective.
\end{proof}

\nwenddocs{}\nwbegincode{17}\sublabel{NWUmZ11-17dzpg-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-17dzpg-1}}}\moddef{Theorem: $f\colon X\into Y$ and $x\notin A\subset X$ implies $f(x)\notin f(A)$~{\nwtagstyle{}\subpageref{NWUmZ11-17dzpg-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-2pzjB9-1}}\nwenddeflinemarkup
theorem Th5:
  for X,Y being non empty set
  for A being non empty Subset of X
  for x being Element of X
  st not x in A
  for f being Function of X,Y
  st f is one-to-one
  holds not f.x in (f .: A)
proof
  let X,Y be non empty set;
  let A be non empty Subset of X;
  let x be Element of X;
  assume A1: not x in A;
  let f be Function of X,Y;
  assume A2: f is one-to-one;
  A3: dom f = X by FUNCT_2:def 1;
  f.x in (f .: A) iff ex a being object st a in dom f & a in A & f.x = f.a
  by FUNCT_1:def 6;
  hence f.x in (f .: A) implies contradiction by A2,A3,A1,FUNCT_1:def 4;
end;
\nwindexdefn{\nwixident{Th5}}{Th5}{NWUmZ11-17dzpg-1}\eatline
\nwused{\\{NWUmZ11-2pzjB9-1}}\nwidentdefs{\\{{\nwixident{Th5}}{Th5}}}\nwendcode{}\nwbegindocs{18}\nwdocspar



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Nontrivial Groups}
We will be using nontrivial groups later. Recall, a group $G$ is
nontrivial if $G\neq\trivialSubgroup_{G}$. It is defined (or
\emph{overloaded}) in \mml[def2]{group6}\MizDef{GROUP\_6}[02]{2}:

\begin{mizar}
definition
  let G be non empty 1-sorted;
  redefine attr G is trivial means
  ::GROUP_6:Def2
  ex x being object st the carrier of G = {x};
  compatibility
  :: ...
end;
\end{mizar}

We register the negated version ``\texttt{non trivial}'' for groups and
subgroups.

\nwenddocs{}\nwbegincode{19}\sublabel{NWUmZ11-1xRFQU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-1xRFQU-1}}}\moddef{Nontrivial Groups~{\nwtagstyle{}\subpageref{NWUmZ11-1xRFQU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1Vve9X-1}}\nwenddeflinemarkup
\LA{}Register: non trivial for Group~{\nwtagstyle{}\subpageref{NWUmZ11-47kVo6-1}}\RA{}
\LA{}Register: trivial groups and trivial subgroups~{\nwtagstyle{}\subpageref{NWUmZ11-1APuWV-1}}\RA{}
\LA{}Register: non trivial for Subgroup~{\nwtagstyle{}\subpageref{NWUmZ11-2RiGxf-1}}\RA{}

\LA{}Theorem: trivial groups look like $\trivialSubgroup$~{\nwtagstyle{}\subpageref{NWUmZ11-2jhymB-1}}\RA{}

\LA{}Register: nontrivial for "finite group"~{\nwtagstyle{}\subpageref{NWUmZ11-OpWr6-1}}\RA{}

\LA{}Theorem: $H\subgroup G$, $H$ is trivial implies $H=\trivialSubgroup_{G}$~{\nwtagstyle{}\subpageref{NWUmZ11-3Oqgqd-1}}\RA{}

\LA{}Theorem: for $H\subgroup G$ and $K\subgroup G$ both trivial, $H=K$~{\nwtagstyle{}\subpageref{NWUmZ11-4EQBnP-1}}\RA{}

\LA{}Theorem: $H\subgroup K$ and $K\subgroup G$, then $K=\trivialSubgroup\implies H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NWUmZ11-A6DSQ-1}}\RA{}
\nwused{\\{NWUmZ11-1Vve9X-1}}\nwendcode{}\nwbegindocs{20}\nwdocspar

\begin{proposition}[{\mml[Th3]{group1}\MizThm{GROUP\_1}[03]{3}}]
The real numbers equipped with addition form a group.
\end{proposition}

\begin{remark}
We will need this to prove the existence of nontrivial groups and, later,
serve as an example of a nontrivial group with a proper subgroup.
\end{remark}

\begin{registration}\mizindex{Nontrivial@\texttt{non trivial}}
We have a notion of ``\texttt{non trivial}'' groups, and at least one
exists (namely, the real numbers as an Abelian group).
\end{registration}

\nwenddocs{}\nwbegincode{21}\sublabel{NWUmZ11-47kVo6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-47kVo6-1}}}\moddef{Register: non trivial for Group~{\nwtagstyle{}\subpageref{NWUmZ11-47kVo6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1xRFQU-1}}\nwenddeflinemarkup
registration
  cluster non trivial for Group;
  existence
  proof
    reconsider G = multMagma (# REAL, addreal #) as Group by GROUP_1:3;
    take G;
    thus not (G is trivial);
  end;
end;
\nwindexdefn{\nwixident{trivial}}{trivial}{NWUmZ11-47kVo6-1}\eatline
\nwused{\\{NWUmZ11-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{trivial}}{trivial}}}\nwendcode{}\nwbegindocs{22}\nwdocspar
\begin{registration}\index{Subgroup!Trivial}\index{Group!Trivial}\index{Trivial!Subgroup|see{Subgroup,Trivial}}\index{Trivial!Group|see{Group,Trivial}}\mizindex{Trivial@\texttt{trivial}}
We need to register the adjective ``trivial'' for groups and
subgroups. \emph{Every} group --- strict or not, proper or not, hairy
or bald --- has a trivial subgroup. Similarly, \emph{every} subgroup has
a trivial subgroup.
\end{registration}

\nwenddocs{}\nwbegincode{23}\sublabel{NWUmZ11-1APuWV-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-1APuWV-1}}}\moddef{Register: trivial groups and trivial subgroups~{\nwtagstyle{}\subpageref{NWUmZ11-1APuWV-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1xRFQU-1}}\nwenddeflinemarkup
registration
  let G be Group;
  cluster trivial for Subgroup of G;
  existence
  proof
    take (1).G;
    thus thesis;
  end;
  let H be Subgroup of G;
  cluster trivial for Subgroup of H;
  existence
  proof
    take (1).H;
    thus thesis;
  end;
end;
\nwindexdefn{\nwixident{trivial}}{trivial}{NWUmZ11-1APuWV-1}\eatline
\nwused{\\{NWUmZ11-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{trivial}}{trivial}}}\nwendcode{}\nwbegindocs{24}\nwdocspar
\begin{registration}\index{Subgroup!Nontrivial}
For any non trivial group $G$, we can find a nontrivial subgroup
$H\subgroup G$, namely $G$ itself.
\end{registration}

\nwenddocs{}\nwbegincode{25}\sublabel{NWUmZ11-2RiGxf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-2RiGxf-1}}}\moddef{Register: non trivial for Subgroup~{\nwtagstyle{}\subpageref{NWUmZ11-2RiGxf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1xRFQU-1}}\nwenddeflinemarkup
registration
  let G be non trivial Group;
  cluster non trivial for Subgroup of G;
  existence
  proof
    reconsider H=G as Subgroup of G by GROUP_2:54;
    the carrier of H <> \{1_G\};
    hence thesis;
  end;

  cluster strict non trivial for Subgroup of G;
  existence
  \LA{}Proof: existence of strict nontrivial subgroup of $G$~{\nwtagstyle{}\subpageref{NWUmZ11-lTKq-1}}\RA{}
end;
\nwused{\\{NWUmZ11-1xRFQU-1}}\nwendcode{}\nwbegindocs{26}\nwdocspar


\begin{proof}[Proof outline (Existence of nontrivial subgroup)]
We basically take the strict group underlying $G$ as an example of a
nontrivial subgroup.
\end{proof}

\nwenddocs{}\nwbegincode{27}\sublabel{NWUmZ11-lTKq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-lTKq-1}}}\moddef{Proof: existence of strict nontrivial subgroup of $G$~{\nwtagstyle{}\subpageref{NWUmZ11-lTKq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-2RiGxf-1}}\nwenddeflinemarkup
proof
  set H = multMagma (#the carrier of G, the multF of G#);
  reconsider H as Group-like non empty multMagma;
  the multF of H = (the multF of G)||the carrier of H;
  then H is strict Subgroup of G & H is non trivial by GROUP_2:def 5;
  hence thesis;
end;
\nwused{\\{NWUmZ11-2RiGxf-1}}\nwendcode{}\nwbegindocs{28}\nwdocspar

\begin{theorem}\label{thm:preparatory:trivialIff1}
A group $G$ is trivial if $G=\trivialSubgroup$.
\end{theorem}

One direction has been proven in Theorem~\mml[Th10]{group6}, so we just
need to prove the forward direction.

%\begin{proof}[Proof sketch]

%\end{proof}

\nwenddocs{}\nwbegincode{29}\sublabel{NWUmZ11-2jhymB-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-2jhymB-1}}}\moddef{Theorem: trivial groups look like $\trivialSubgroup$~{\nwtagstyle{}\subpageref{NWUmZ11-2jhymB-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1xRFQU-1}}\nwenddeflinemarkup
theorem Th6:
  for G being Group
  holds G is trivial iff the multMagma of G = (1).G
proof
  let G be Group;
  thus G is trivial implies the multMagma of G = (1).G
  proof
    assume G is trivial;
    then consider x being object such that
    A1: the carrier of G = \{x\};
    x = 1_G by A1, TARSKI:def 1;
    then the carrier of G = the carrier of (1).G by A1,GROUP_2:def 7;
    hence the multMagma of G = (1).G by GROUP_2:61;
  end;
  thus the multMagma of G = (1).G implies G is trivial;
  thus thesis;
end;
\nwindexdefn{\nwixident{Th6}}{Th6}{NWUmZ11-2jhymB-1}\eatline
\nwused{\\{NWUmZ11-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{Th6}}{Th6}}}\nwendcode{}\nwbegindocs{30}\nwdocspar
\begin{lemma}
$\cyclicGroup{2}$ is a nontrivial group.
\end{lemma}

\begin{proof}[Proof outline]
The set underlying $\cyclicGroup{2}$ is [isomorphic to] the ordinal
$2=\{0,1\}$ whereas the set underlying its trivial subgroup is the
ordinal $1=\{0\}$. These are different set, and thus must underly
different groups.
\end{proof}

\nwenddocs{}\nwbegincode{31}\sublabel{NWUmZ11-3WaVwt-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-3WaVwt-1}}}\moddef{Lemma: Existence of finite nontrivial groups~{\nwtagstyle{}\subpageref{NWUmZ11-3WaVwt-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-OpWr6-1}}\nwenddeflinemarkup
LmFiniteNontrivial:
  not INT.Group(2) is trivial
proof
  set G = INT.Group(2);
  the carrier of (1).G = \{1_G\} by GROUP_2:def 7
                      .= \{\} \\/ \{0\} by GR_CY_1:14
                      .= succ 0 by ORDINAL1:def 1
                      .= 1;
  then the carrier of (1).G <> the carrier of G by ORDINAL1:def 17;
  hence not INT.Group(2) is trivial by Th6;
end;
\nwindexdefn{\nwixident{LmFiniteNontrivial}}{LmFiniteNontrivial}{NWUmZ11-3WaVwt-1}\eatline
\nwused{\\{NWUmZ11-OpWr6-1}}\nwidentdefs{\\{{\nwixident{LmFiniteNontrivial}}{LmFiniteNontrivial}}}\nwendcode{}\nwbegindocs{32}\nwdocspar
\begin{registration}
We can have {\Tt{}non\ trivial\ finite\ Group\nwendquote} as a sensible type, so we
register {\Tt{}non\ trivial\nwendquote} as an adjective for the type {\Tt{}finite\ Group\nwendquote}.
\end{registration}

\nwenddocs{}\nwbegincode{33}\sublabel{NWUmZ11-OpWr6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-OpWr6-1}}}\moddef{Register: nontrivial for "finite group"~{\nwtagstyle{}\subpageref{NWUmZ11-OpWr6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1xRFQU-1}}\nwenddeflinemarkup
\LA{}Lemma: Existence of finite nontrivial groups~{\nwtagstyle{}\subpageref{NWUmZ11-3WaVwt-1}}\RA{}

registration
  cluster non trivial for finite Group;
  existence by LmFiniteNontrivial;
end;

\nwused{\\{NWUmZ11-1xRFQU-1}}\nwendcode{}\nwbegindocs{34}\nwdocspar

\begin{theorem}\label{thm:characteristic:preparatory:trivial-subgroups-look-like-1}
If $H\subgroup G$ is trivial, then $H=\trivialSubgroup$.
\end{theorem}

\begin{proof}
\emph{Trivial}, thanks to Theorem~\ref{thm:preparatory:trivialIff1}.
\end{proof}

\nwenddocs{}\nwbegincode{35}\sublabel{NWUmZ11-3Oqgqd-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-3Oqgqd-1}}}\moddef{Theorem: $H\subgroup G$, $H$ is trivial implies $H=\trivialSubgroup_{G}$~{\nwtagstyle{}\subpageref{NWUmZ11-3Oqgqd-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1xRFQU-1}}\nwenddeflinemarkup
theorem Th7:
  for G being Group
  for H being Subgroup of G
  st H is trivial
  holds the multMagma of H = (1).G
proof
  let G be Group;
  let H be Subgroup of G;
  assume H is trivial;
  then the multMagma of H = (1).H by Th6
                         .= (1).G by GROUP_2:63;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th7}}{Th7}{NWUmZ11-3Oqgqd-1}\eatline
\nwused{\\{NWUmZ11-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{Th7}}{Th7}}}\nwendcode{}\nwbegindocs{36}\nwdocspar
\begin{theorem}
If $H\subgroup G$ and $K\subgroup G$ are both trivial, then $H=K$ as groups.
\end{theorem}

\begin{proof}
If $H$ and $K$ are both trivial, then by Theorem~\ref{thm:characteristic:preparatory:trivial-subgroups-look-like-1} they both look like $\trivialSubgroup$
and thus are equal to each other as groups.
\end{proof}

\nwenddocs{}\nwbegincode{37}\sublabel{NWUmZ11-4EQBnP-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-4EQBnP-1}}}\moddef{Theorem: for $H\subgroup G$ and $K\subgroup G$ both trivial, $H=K$~{\nwtagstyle{}\subpageref{NWUmZ11-4EQBnP-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1xRFQU-1}}\nwenddeflinemarkup
theorem Th8:
  for G being Group
  for H being trivial Subgroup of G
  for K being trivial Subgroup of G
  holds the multMagma of H = the multMagma of K
proof
  let G be Group;
  let H be trivial Subgroup of G;
  let K be trivial Subgroup of G;
  the multMagma of H = (1).G by Th7
                    .= the multMagma of K by Th7;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th8}}{Th8}{NWUmZ11-4EQBnP-1}\eatline
\nwused{\\{NWUmZ11-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{Th8}}{Th8}}}\nwendcode{}\nwbegindocs{38}\nwdocspar
\begin{theorem}
If $H\subgroup K$ and $K\subgroup G$ and $K=\trivialSubgroup_{G}$, then $H=\trivialSubgroup_{G}$.
\end{theorem}

\begin{proof}
We have $\trivialSubgroup\subgroup H\subgroup\trivialSubgroup$ imply
$H=\trivialSubgroup$. But since we didn't use strict subgroups, we need
to work with their underlying sets and the fact $\{1_{G}\}\subset
H\subset\{1_{G}\}$ implies $H=\{1_{G}\}$ by Definition~\mml[def10]{xboole0}.
\end{proof}

\nwenddocs{}\nwbegincode{39}\sublabel{NWUmZ11-A6DSQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-A6DSQ-1}}}\moddef{Theorem: $H\subgroup K$ and $K\subgroup G$, then $K=\trivialSubgroup\implies H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NWUmZ11-A6DSQ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1xRFQU-1}}\nwenddeflinemarkup
theorem Th9:
  for G being Group
  for K being trivial Subgroup of G
  for H being Subgroup of G
  st H is Subgroup of K
  holds H is trivial Subgroup of G
proof
  let G be Group;
  let K be trivial Subgroup of G;
  let H be Subgroup of G;
  assume A1: H is Subgroup of K;
  the carrier of H = \{1_G\}
  proof
    the multMagma of K = (1).G by Th7;
    then the carrier of K = \{1_G\} by GROUP_2:def 7;
    then B1: the carrier of H c= \{1_G\} by A1,GROUP_2:def 5;
    (1).G is Subgroup of H by GROUP_2:65;
    then the carrier of (1).G c= the carrier of H by GROUP_2:def 5;
    then \{1_G\} c= the carrier of H by GROUP_2:def 7;
    hence the carrier of H = \{1_G\} by B1,XBOOLE_0:def 10;
  end;
  hence H is trivial Subgroup of G;
end;
\nwindexdefn{\nwixident{Th9}}{Th9}{NWUmZ11-A6DSQ-1}\eatline
\nwused{\\{NWUmZ11-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{Th9}}{Th9}}}\nwendcode{}\nwbegindocs{40}\nwdocspar
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Proper Subgroups}\index{Subgroup!Proper}
When we have a [nontrivial] group $G$, we can discuss the notion of a
proper subgroup $H\properSubgroup G$ in analogy to the notion of a
proper subset $X\properSubset Y$.

\nwenddocs{}\nwbegincode{41}\sublabel{NWUmZ11-KQsbx-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-KQsbx-1}}}\moddef{Proper Subgroups~{\nwtagstyle{}\subpageref{NWUmZ11-KQsbx-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1Vve9X-1}}\nwenddeflinemarkup
\LA{}Definition: proper subgroup~{\nwtagstyle{}\subpageref{NWUmZ11-RKCxZ-1}}\RA{}

\LA{}Theorem: $H\subgroup G$ is proper iff the underlying sets are different~{\nwtagstyle{}\subpageref{NWUmZ11-3PEt35-1}}\RA{}

\LA{}Theorem: $H\subgroup G$ is proper iff $G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NWUmZ11-17X1oO-1}}\RA{}

\LA{}Register: proper subgroup for nontrivial groups~{\nwtagstyle{}\subpageref{NWUmZ11-1x35KZ-1}}\RA{}

\LA{}Lemma: maximal subgroups are proper~{\nwtagstyle{}\subpageref{NWUmZ11-KtuAy-1}}\RA{}

\LA{}Register: maximal subgroups are proper~{\nwtagstyle{}\subpageref{NWUmZ11-3ZDEGc-1}}\RA{}

\LA{}Theorem: $H\properSubgroup K\subgroup G$ and $H\neq K$ implies $K$ is nontrivial~{\nwtagstyle{}\subpageref{NWUmZ11-2DotbH-1}}\RA{}
\nwused{\\{NWUmZ11-1Vve9X-1}}\nwendcode{}\nwbegindocs{42}\nwdocspar

\begin{definition}\index{Subgroup!Proper|textbf}
Let $G$ be a group. We call a subgroup $H\subgroup G$ \define{Proper} if
$H\neq G$. We typically denote $H\properSubgroup G$ to reflect it is proper.
\end{definition}

\begin{def-remark}
The implementation for Mizar is a bit quirky. I looked at how maximal
subgroups were defined, because maximal subgroups are necessarily
proper. Maximal subgroups were defined (\mml[def 6]{group4}\MizDef{GROUP\_4}[06]{6})
using the condition \lstinline|the multMagma of H <> the multMagma of G|.
\end{def-remark}\mizindex{Proper@\texttt{proper}}

\nwenddocs{}\nwbegincode{43}\sublabel{NWUmZ11-RKCxZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-RKCxZ-1}}}\moddef{Definition: proper subgroup~{\nwtagstyle{}\subpageref{NWUmZ11-RKCxZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-KQsbx-1}}\nwenddeflinemarkup
definition
  let G be Group;
  let IT be Subgroup of G;
  attr IT is proper means
  :Def1:
  the multMagma of IT <> the multMagma of G;
end;
\nwindexdefn{\nwixident{Def10}}{Def10}{NWUmZ11-RKCxZ-1}\nwindexdefn{\nwixident{proper}}{proper}{NWUmZ11-RKCxZ-1}\eatline
\nwused{\\{NWUmZ11-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Def10}}{Def10}}\\{{\nwixident{proper}}{proper}}}\nwendcode{}\nwbegindocs{44}\nwdocspar
\begin{registration}
For any nontrivial group $G$, we can find a proper subgroup $H\subgroup G$,
namely the trivial subgroup $H=\trivialSubgroup_{G}$.
\end{registration}

\nwenddocs{}\nwbegincode{45}\sublabel{NWUmZ11-1x35KZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-1x35KZ-1}}}\moddef{Register: proper subgroup for nontrivial groups~{\nwtagstyle{}\subpageref{NWUmZ11-1x35KZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-KQsbx-1}}\nwenddeflinemarkup
registration
  let G be non trivial Group;
  cluster proper for Subgroup of G;
  existence
  proof
    take (1).G;
    thus (1).G is proper;
  end;
  \LA{}Cluster \code{}proper\ normal\ Subgroup\edoc{}~{\nwtagstyle{}\subpageref{NWUmZ11-2YhlIY-1}}\RA{}
  \LA{}Cluster \code{}strict\ proper\ normal\ Subgroup\edoc{}~{\nwtagstyle{}\subpageref{NWUmZ11-3A6xup-1}}\RA{}
end;
\nwused{\\{NWUmZ11-KQsbx-1}}\nwendcode{}\nwbegindocs{46}\nwdocspar

\begin{registration}
For any nontrivial group $G$, we can find a proper \emph{normal
subgroup} $H\normalSubgroup G$, namely the trivial subgroup
$H=\trivialSubgroup_{G}$.
\end{registration}

\nwenddocs{}\nwbegincode{47}\sublabel{NWUmZ11-2YhlIY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-2YhlIY-1}}}\moddef{Cluster \code{}proper\ normal\ Subgroup\edoc{}~{\nwtagstyle{}\subpageref{NWUmZ11-2YhlIY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1x35KZ-1}}\nwenddeflinemarkup
cluster proper for normal Subgroup of G;
existence
proof
  take (1).G;
  thus (1).G is proper;
end;
\nwused{\\{NWUmZ11-1x35KZ-1}}\nwendcode{}\nwbegindocs{48}\nwdocspar

\begin{registration}
For any nontrivial group $G$, we can find a strict proper \emph{normal
subgroup} $H\normalSubgroup G$, namely the trivial subgroup
$H=\trivialSubgroup_{G}$.
\end{registration}

\nwenddocs{}\nwbegincode{49}\sublabel{NWUmZ11-3A6xup-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-3A6xup-1}}}\moddef{Cluster \code{}strict\ proper\ normal\ Subgroup\edoc{}~{\nwtagstyle{}\subpageref{NWUmZ11-3A6xup-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1x35KZ-1}}\nwenddeflinemarkup
cluster strict proper for normal Subgroup of G;
existence
proof
  take (1).G;
  thus (1).G is strict proper;
end;
\nwused{\\{NWUmZ11-1x35KZ-1}}\nwendcode{}\nwbegindocs{50}\nwdocspar

\begin{theorem}
Let $H\subgroup G$ be a subgroup. Then $H\properSubgroup G$ is proper if
and only if the underlying set of $G$ differs from the underlying set of $H$.
\end{theorem}

\begin{proof}[Proof outline]
The only way a group could be different, since they are magmas
satisfying some properties, is either if the underlying set differs or
if the group operation differs. But since we know $H$ is a subgroup of
$G$, we know the group operation for $H$ is just the restricted version
of the group operation for $G$. Thus we are forced to accept the
underlying sets must be different. This argument works backwards as well
as forwards.
\end{proof}

\nwenddocs{}\nwbegincode{51}\sublabel{NWUmZ11-3PEt35-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-3PEt35-1}}}\moddef{Theorem: $H\subgroup G$ is proper iff the underlying sets are different~{\nwtagstyle{}\subpageref{NWUmZ11-3PEt35-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-KQsbx-1}}\nwenddeflinemarkup
reserve G for Group;
reserve H for Subgroup of G;
theorem Th10:
  H is proper iff the carrier of H <> the carrier of G
proof
  (the carrier of H c= the carrier of G) & (the multF of H =
  (the multF of G)||(the carrier of H)) by GROUP_2:def 5;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th10}}{Th10}{NWUmZ11-3PEt35-1}\eatline
\nwused{\\{NWUmZ11-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Th10}}{Th10}}}\nwendcode{}\nwbegindocs{52}\nwdocspar
\begin{theorem}\label{thm:characteristic:preparatory:proper-subgroups-have-set-diff-neq-empty}
  Let $H\subgroup G$ be a subgroup.
  Then $H$ is a proper subgroup if and only if the set difference is nonempty
  $G\setminus H\neq\emptyset$.
\end{theorem}

\begin{thm-remark}
This version, as stated, is a little sloppy. We should more precisely
state the set difference of the underlying set $U(G)$ of $G$ with the
underlying set $U(H)$ of $H$ is nonempty $U(G)\setminus U(H)\neq\emptyset$.
\end{thm-remark}

\begin{proof}[Proof outline]
  There are two sub-proofs:
  \begin{enumerate}
  \item $H$ is proper implies $U(G)\setminus U(H)\neq\emptyset$
  \item $U(G)\setminus U(H)\neq\emptyset$ implies $H$ is proper.\qedhere
  \end{enumerate}
\end{proof}

\nwenddocs{}\nwbegincode{53}\sublabel{NWUmZ11-17X1oO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-17X1oO-1}}}\moddef{Theorem: $H\subgroup G$ is proper iff $G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NWUmZ11-17X1oO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-KQsbx-1}}\nwenddeflinemarkup
reserve h,x,y for object;

theorem Th11:
  H is proper iff (the carrier of G) \\ (the carrier of H) is non empty set
proof
  set UG = the carrier of G;
  set UH = the carrier of H;
  thus H is proper implies UG \\ UH is non empty set
  \LA{}Sub-proof: $H\properSubgroup G\implies G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NWUmZ11-4cgubz-1}}\RA{}
  thus UG \\ UH is non empty set implies H is proper
  \LA{}Sub-proof: $H\properSubgroup G\impliedby G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NWUmZ11-dfIXQ-1}}\RA{}
  thus thesis;
end;
\nwindexdefn{\nwixident{Th11}}{Th11}{NWUmZ11-17X1oO-1}\eatline
\nwused{\\{NWUmZ11-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Th11}}{Th11}}}\nwendcode{}\nwbegindocs{54}\nwdocspar
\begin{proof}[Sub-proof outline]
  If $H\properSubgroup G$ is a proper subgroup, then the underlying set
  $U(H)$ of $H$ is a subset of the underlying set $U(G)$ of $G$ --- i.e.,
  $U(H)\subset U(G)$ --- and $U(H)\neq U(G)$. Then there is some element
  $g\in G$ for which $g\notin H$. Then $U(G)\setminus U(H)\neq\emptyset$.
\end{proof}

\nwenddocs{}\nwbegincode{55}\sublabel{NWUmZ11-4cgubz-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-4cgubz-1}}}\moddef{Sub-proof: $H\properSubgroup G\implies G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NWUmZ11-4cgubz-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-17X1oO-1}}\nwenddeflinemarkup
proof
  assume A1: H is proper;
  UH c= UG & UH <> UG by A1,Th10, GROUP_2:def 5;
  then (for x holds x in UH implies x in UG) &
  not (for x holds x in UH iff x in UG) by TARSKI:2;
  hence (the carrier of G) \\ (the carrier of H) is non empty set
  by XBOOLE_0:def 5;
end;
\nwused{\\{NWUmZ11-17X1oO-1}}\nwendcode{}\nwbegindocs{56}\nwdocspar

\begin{proof}[Sub-proof outline]
Assume $G\setminus H\neq\emptyset$. Then there exists some $y\in
G\setminus H$, i.e., $y\in G$ and $y\notin H$. But we've found an
element in $G$ that's not in $H$. So by the extensional notion of set
equality, these are clearly different sets. Thus $H\properSubgroup G$
\end{proof}

\nwenddocs{}\nwbegincode{57}\sublabel{NWUmZ11-dfIXQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-dfIXQ-1}}}\moddef{Sub-proof: $H\properSubgroup G\impliedby G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NWUmZ11-dfIXQ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-17X1oO-1}}\nwenddeflinemarkup
proof
  assume A1: (the carrier of G) \\ (the carrier of H) is non empty set;
  set GH = UG \\ UH;
  ex x st x in GH by A1, XBOOLE_0:def 1;
  hence H is proper by XBOOLE_0:def 5;
end;
\nwused{\\{NWUmZ11-17X1oO-1}}\nwendcode{}\nwbegindocs{58}\nwdocspar

\begin{lemma}
Maximal subgroups are also proper subgroups.
\end{lemma}

The proof is literally, ``Look at the definitions!''

\nwenddocs{}\nwbegincode{59}\sublabel{NWUmZ11-KtuAy-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-KtuAy-1}}}\moddef{Lemma: maximal subgroups are proper~{\nwtagstyle{}\subpageref{NWUmZ11-KtuAy-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-KQsbx-1}}\nwenddeflinemarkup
Lm1:
  for G being Group
  for H being Subgroup of G
  st H is maximal
  holds H is proper by GROUP_4:def 6;
\nwindexdefn{\nwixident{Lm1}}{Lm1}{NWUmZ11-KtuAy-1}\eatline
\nwused{\\{NWUmZ11-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Lm1}}{Lm1}}}\nwendcode{}\nwbegindocs{60}\nwdocspar
\begin{registration}
We can now automatically take advantage of the fact that, a maximal
subgroup for a nontrivial group is implicitly a proper subgroup.
\end{registration}

\nwenddocs{}\nwbegincode{61}\sublabel{NWUmZ11-3ZDEGc-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-3ZDEGc-1}}}\moddef{Register: maximal subgroups are proper~{\nwtagstyle{}\subpageref{NWUmZ11-3ZDEGc-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-KQsbx-1}}\nwenddeflinemarkup
registration
  let G be non trivial Group;
  cluster maximal -> proper for Subgroup of G;
  coherence by Lm1;
end;
\nwused{\\{NWUmZ11-KQsbx-1}}\nwendcode{}\nwbegindocs{62}\nwdocspar

\begin{theorem}
If $H\properSubgroup K$ is proper and $K\subgroup G$ and $H\neq K$, then
$K$ is a nontrivial group.
\end{theorem}

\begin{proof}[Proof outline]
  Assume for contradiction that $K=\trivialSubgroup$.
  Then combined with $H\properSubgroup K$ and $H\neq K$ implies
  $H=\trivialSubgroup$ and this contradicts $H\properSubgroup K$ proper.
\end{proof}

\nwenddocs{}\nwbegincode{63}\sublabel{NWUmZ11-2DotbH-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWUmZ11-2DotbH-1}}}\moddef{Theorem: $H\properSubgroup K\subgroup G$ and $H\neq K$ implies $K$ is nontrivial~{\nwtagstyle{}\subpageref{NWUmZ11-2DotbH-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-KQsbx-1}}\nwenddeflinemarkup
theorem Th12:
  for G being non trivial Group
  for H being proper Subgroup of G
  for K being Subgroup of G
  st H is Subgroup of K & the multMagma of H <> the multMagma of K
  holds K is non trivial Subgroup of G
proof
  let G be non trivial Group;
  let H be proper Subgroup of G;
  let K be Subgroup of G;
  assume A1: H is Subgroup of K;
  assume A2: the multMagma of H <> the multMagma of K;
  not (K is non trivial Subgroup of G) implies contradiction
  proof
    assume B1: not K is non trivial Subgroup of G;
    then H is trivial Subgroup of G by A1,Th9;
    hence contradiction by A2,B1,Th8;
  end;
  hence K is non trivial Subgroup of G;
end;
\nwindexdefn{\nwixident{Th12}}{Th12}{NWUmZ11-2DotbH-1}\eatline
\nwused{\\{NWUmZ11-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Th12}}{Th12}}}\nwendcode{}\nwfilename{nw/001-characteristic/automorphism.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\section{Automorphisms}\label{sec:characteristic:automorphism}
Now, we have a section for defining inner and outer group
automorphisms. A \emph{group automorphism} is just a bijective endomorphism on
a group, and an \emph{endomorphism} is a group morphism whose codomain
is its domain.

Remember (\S\ref{par:characteristic:vocabularies}), although we are
defining new terms {\Tt{}Endomorphism\nwendquote} and {\Tt{}Automorphism\nwendquote}, we do not need
to add them to our {\Tt{}DICT/GROUP{\_}22.VOC\nwendquote} file. Why not? Because the tokens
are already included from \mml{mod4}.

\nwenddocs{}\nwbegincode{1}\sublabel{NW3gc01d-1CMOm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-1CMOm-1}}}\moddef{Automorphisms of Groups~{\nwtagstyle{}\subpageref{NW3gc01d-1CMOm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1Vve9X-1}}\nwenddeflinemarkup
\LA{}Definition: \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-1U3x3j-1}}\RA{}

\LA{}Reserve: $f$ for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-18sdY2-1}}\RA{}
\LA{}Register \code{}bijective\edoc{} for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-6ndaE-1}}\RA{}

\LA{}Definition: \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-2qSYW4-1}}\RA{}
\LA{}Reserve: $\varphi$ for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-1FGfaH-1}}\RA{}

\LA{}Theorem: Endomorphisms preserve the trivial subgroup~{\nwtagstyle{}\subpageref{NW3gc01d-3pJfHu-1}}\RA{}

\LA{}Theorem: Automorphisms map trivial subgroups to themselves~{\nwtagstyle{}\subpageref{NW3gc01d-49bqr6-1}}\RA{}

\LA{}Theorem: for $\varphi\in\Aut(G)$ and $H\subgroup G$, we have $\ker(\varphi|H)\subgroup\ker(\varphi)$~{\nwtagstyle{}\subpageref{NW3gc01d-2Q8R0t-1}}\RA{}

\LA{}Lemma: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have monomorphism $\varphi|_{H}$~{\nwtagstyle{}\subpageref{NW3gc01d-2Beici-1}}\RA{}

\LA{}Theorem: $(\forall\varphi\in\Aut(G),\varphi(H)\subgroup H)\implies\varphi[\varphi^{-1}(H)]\subgroup \varphi(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-g7029-1}}\RA{}

\LA{}Theorem: $\forall\varphi\in\Aut(G), \varphi[\varphi^{-1}(H)]=H$~{\nwtagstyle{}\subpageref{NW3gc01d-xUcSR-1}}\RA{}

\LA{}Theorem: $\varphi(H)\subgroup K\implies H\subgroup\varphi^{-1}(K)$~{\nwtagstyle{}\subpageref{NW3gc01d-zRHLm-1}}\RA{}

\LA{}Theorem: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have $H\iso\varphi(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-3WScXE-1}}\RA{}

\LA{}Theorem: isomorphic subgroups have equal indices~{\nwtagstyle{}\subpageref{NW3gc01d-2VpvPR-1}}\RA{}

\LA{}Theorem: Sylow $p$-Subgroups invariant under $\Aut(G)$~{\nwtagstyle{}\subpageref{NW3gc01d-3PWeZI-1}}\RA{}

\LA{}Theorem: $\varphi\in\Aut(G)$ and $H\subgroup G$ such that $\varphi(H)=H$ implies $\varphi|H\in\Aut(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-1QHEJY-1}}\RA{}

\LA{}Theorem: $\varphi\in\Aut(G)$ and $H\properSubgroup G$ implies $\varphi(H)\properSubgroup G$~{\nwtagstyle{}\subpageref{NW3gc01d-39h8sj-1}}\RA{}

\LA{}Theorem: Automorphisms map maximal subgroups to maximal subgroups~{\nwtagstyle{}\subpageref{NW3gc01d-39Q49p-1}}\RA{}
\nwused{\\{NWUmZ11-1Vve9X-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{definition*}\index{Endomorphism|textbf}
Let $G$ be a group. An \define{Endomorphism} of $G$ is a group morphism
$f\colon G\to G$.
\end{definition*}

\begin{remark}\index{$\End(G)$}
We denote the collection of endomorphisms of $G$ as $\End(G)$.
\end{remark}

\begin{remark}
Mizar uses the archaic word ``homomorphism'' instead of the more modern
conventional term ``morphism''. I will use the two interchangeably. And,
unless stated otherwise, it is understood these are group morphisms.
\end{remark}

\nwenddocs{}\nwbegincode{3}\sublabel{NW3gc01d-1U3x3j-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-1U3x3j-1}}}\moddef{Definition: \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-1U3x3j-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
definition
  let G;
  mode Endomorphism of G is Homomorphism of G,G;
end;
\nwindexdefn{\nwixident{Endomorphism}}{Endomorphism}{NW3gc01d-1U3x3j-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwendcode{}\nwbegindocs{4}\nwdocspar
\begin{registration}\label{par:characteristic:register-bijective-for-endomorphism}
We begin by registering the attribute {\Tt{}bijective\nwendquote} for group
endomorphisms. This will effectively create a subtype of {\Tt{}Endomorphism\ of\ G\nwendquote},
the aptly named {\Tt{}bijective\ Endomorphism\ of\ G\nwendquote}. Most of our work has
been done in Theorem~\mml[Th38]{group6}\MizThm{GROUP\_6}{38}
(which effectively states the function on the underlying set
{\Tt{}id\ (the\ carrier\ of\ G)\nwendquote} is a multiplicative function and so nearly a
group morphism that we can reconsider it as an {\Tt{}Endomorphism\nwendquote}), and
the fact that {\Tt{}id\ X\nwendquote} is bijective.
\end{registration}

\nwenddocs{}\nwbegincode{5}\sublabel{NW3gc01d-6ndaE-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-6ndaE-1}}}\moddef{Register \code{}bijective\edoc{} for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-6ndaE-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
registration
  let G;
  cluster bijective for Endomorphism of G;
  existence
  proof
    reconsider i = id the carrier of G as Homomorphism of G,G by GROUP_6:38;
    i is bijective;
    hence thesis;
  end;
end;
\nwused{\\{NW3gc01d-1CMOm-1}}\nwendcode{}\nwbegindocs{6}\nwdocspar

\begin{definition*}\index{Automorphism|textbf}\index{Endomorphism}
Let $G$ be a group. We define an \define{Automorphism} of $G$ to be a
bijective endomorphism $f\colon G\to G$. In particular, an inverse
$f^{-1}\colon G\to G$ exists and is a group morphism.
\end{definition*}

\begin{remark}\index{$\Aut(G)$}
We denote the collection of automorphisms of $G$ as $\Aut(G)$.
\end{remark}

\nwenddocs{}\nwbegincode{7}\sublabel{NW3gc01d-2qSYW4-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-2qSYW4-1}}}\moddef{Definition: \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-2qSYW4-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
definition
  let G;
  mode Automorphism of G is bijective Endomorphism of G;
end;
\nwindexdefn{\nwixident{Automorphism}}{Automorphism}{NW3gc01d-2qSYW4-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwendcode{}\nwbegindocs{8}\nwdocspar
\begin{reserve}
  We will henceforth generically use $\varphi$ as an Automorphism of $G$
  unless otherwise stated. This means, for most theorems, we can omit
  explicitly stating, ``For any automorphism $\varphi$ of $G$, \dots'';
  and for most proofs, we can omit the line, ``Let $\varphi$ be an
  Automorphism of $G$''.
\end{reserve}

\nwenddocs{}\nwbegincode{9}\sublabel{NW3gc01d-1FGfaH-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-1FGfaH-1}}}\moddef{Reserve: $\varphi$ for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-1FGfaH-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
reserve phi for Automorphism of G;
\nwused{\\{NW3gc01d-1CMOm-1}}\nwendcode{}\nwbegindocs{10}\nwdocspar

\begin{proposition}
For any automorphism $\varphi\colon G\to G$, its inverse $\varphi^{-1}$
is also an automorphism.
\end{proposition}

This is proven in Theorem~\mml[Th62]{group6}.\MizThm{GROUP\_6}{62} We have, for
example, the following accepted by Mizar:

\begin{mizar}
for G being Group
for phi being Automorphism of G
holds phi" is Automorphism of G by GROUP_6:62;
\end{mizar}

\begin{theorem}\label{thm:characteristic:automorphism:trivial-subgroup-invariant-under-automorphisms}
For any group $G$ and endomorphism $f\in\End(G)$, we have the trivial
subgroup $\trivialSubgroup\subgroup G$ be preserved under $f$; i.e.,
$f(\trivialSubgroup)=\trivialSubgroup$.
\end{theorem}

The proof is simply ``follow your nose''.

\begin{proof}
\emph{Trivial}.
\end{proof}

\nwenddocs{}\nwbegincode{11}\sublabel{NW3gc01d-3pJfHu-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-3pJfHu-1}}}\moddef{Theorem: Endomorphisms preserve the trivial subgroup~{\nwtagstyle{}\subpageref{NW3gc01d-3pJfHu-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th13:
  Image (f|(1).G) = (1).G
proof
  Image(f|(1).G) = f .: ((1).G) by GRSOLV_1:def 3
                .= (1).G by GRSOLV_1:11;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th13}}{Th13}{NW3gc01d-3pJfHu-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th13}}{Th13}}}\nwendcode{}\nwbegindocs{12}\nwdocspar
\begin{reserve}
Now we need to tell Mizar that $f$ is an endomorphism of $G$.
\end{reserve}

\nwenddocs{}\nwbegincode{13}\sublabel{NW3gc01d-18sdY2-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-18sdY2-1}}}\moddef{Reserve: $f$ for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3gc01d-18sdY2-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
reserve f for Endomorphism of G;
\nwused{\\{NW3gc01d-1CMOm-1}}\nwendcode{}\nwbegindocs{14}\nwdocspar

\begin{theorem}
For any automorphism $\varphi\in\Aut(G)$, we have $\varphi(\trivialSubgroup_{G})=\trivialSubgroup_{G}$.
\end{theorem}

\begin{proof}[Proof outline]
If $\phi$ is an automorphism of a group $G$, then
the image of the trivial subgroup under $\phi$ is a subgroup of itself
$\phi(\trivialSubgroup)\subgroup\trivialSubgroup$. We have, from
Theorem~\ref{thm:characteristic:automorphism:trivial-subgroup-invariant-under-automorphisms}, that $\phi(\trivialSubgroup)=\trivialSubgroup$ since
$\phi$ (being an automorphism) is also an endomorphism. And
Theorem~\mml[Th54]{group2}\MizThm{GROUP\_2}{54}
proves that $G$ is a subgroup of itself.
\end{proof}

\nwenddocs{}\nwbegincode{15}\sublabel{NW3gc01d-49bqr6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-49bqr6-1}}}\moddef{Theorem: Automorphisms map trivial subgroups to themselves~{\nwtagstyle{}\subpageref{NW3gc01d-49bqr6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
:: In particular, the trivial proper subgroup (1).G of G is invariant
:: under inner automorphisms, and thus is a characteristic subgroup.
theorem Th14:
  Image(phi|(1).G) is Subgroup of (1).G
proof
  (1).G is Subgroup of (1).G by GROUP_2:54;
  hence Image(phi|(1).G) is Subgroup of (1).G by Th13;
end;
\nwindexdefn{\nwixident{Th14}}{Th14}{NW3gc01d-49bqr6-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th14}}{Th14}}}\nwendcode{}\nwbegindocs{16}\nwdocspar
\begin{lemma}
If $H\subgroup\trivialSubgroup_{G}\subgroup G$, then $H=\trivialSubgroup$.
\end{lemma}

\begin{proof}
Assume $H\subgroup\trivialSubgroup_{G}$. We know
$\trivialSubgroup_{G}\subgroup H$, and taken together, the result follows.
\end{proof}

\nwenddocs{}\nwbegincode{17}\sublabel{NW3gc01d-3CeuwY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-3CeuwY-1}}}\moddef{Lemma: $H\subgroup G$ and $\trivialSubgroup\subgroup H$ implies $H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW3gc01d-3CeuwY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-2Beici-1}}\nwenddeflinemarkup
Lm2: H is Subgroup of (1).G implies the multMagma of H = the multMagma of (1).G
proof
  assume H is Subgroup of (1).G;
  then H is Subgroup of (1).G & (1).G is Subgroup of H by GROUP_2:65;
  hence thesis by GROUP_2:55;
end;
\nwindexdefn{\nwixident{Lm2}}{Lm2}{NW3gc01d-3CeuwY-1}\eatline
\nwused{\\{NW3gc01d-2Beici-1}}\nwidentdefs{\\{{\nwixident{Lm2}}{Lm2}}}\nwendcode{}\nwbegindocs{18}\nwdocspar

\begin{theorem}
Let $G$ be a group, $H\subgroup G$ any subgroup, and $\varphi\in\aut(G)$
any automorphism.
Then $\ker(\varphi|H)\subgroup\ker(\varphi)$.
\end{theorem}

\begin{proof}[Proof outline]
  We begin by recognizing $\ker(\varphi|_{H})\subgroup G_{1}$ and
  $\ker(\varphi)\subgroup G_{1}$. Then any $g\in G$ such that
  $g\in\ker(\varphi|_{H})$ is also a member of $\ker(\varphi)$. The
  result follows.
\end{proof}

\nwenddocs{}\nwbegincode{19}\sublabel{NW3gc01d-2Q8R0t-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-2Q8R0t-1}}}\moddef{Theorem: for $\varphi\in\Aut(G)$ and $H\subgroup G$, we have $\ker(\varphi|H)\subgroup\ker(\varphi)$~{\nwtagstyle{}\subpageref{NW3gc01d-2Q8R0t-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th15:
  for G1,G2 being Group
  for f being Homomorphism of G1,G2
  for H being Subgroup of G1
  holds Ker(f|H) is Subgroup of Ker(f)
proof
  let G1,G2 be Group;
  let f be Homomorphism of G1,G2;
  let H be Subgroup of G1;
  A1: Ker(f|H) is Subgroup of G1 by GROUP_2:56;
  for g being Element of G1 st g in Ker(f|H) holds g in Ker(f)
  \LA{}Proof: $\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-1MwKaZ-1}}\RA{}
  hence thesis by A1,GROUP_2:58;
end;
\nwindexdefn{\nwixident{Th15}}{Th15}{NW3gc01d-2Q8R0t-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th15}}{Th15}}}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{proof}[Sub-proof ($\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$).]
Any $g\in\ker(\varphi|_{H})$ is defined to be $\varphi|_{H}(g)=1_{G_{2}}$.
But $\varphi|_{H}(g)=\varphi(g)$ by Theorem~\ref{thm:characteristic:preparatory:restrict-group-morphism-to-subgroups}. So we have
$\varphi(g)=1_{G_{2}}$, which implies $g\in\ker(\varphi)$ by Theorem~\mml[Th41]{group6}.\MizThm{GROUP\_6}{41}
\end{proof}

\nwenddocs{}\nwbegincode{21}\sublabel{NW3gc01d-1MwKaZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-1MwKaZ-1}}}\moddef{Proof: $\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-1MwKaZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-2Q8R0t-1}}\nwenddeflinemarkup
proof
  let g be Element of G1;
  assume A2: g in Ker(f|H);
  then A3: g in H by GROUP_2:40;
  (f|H).g = f.g by A2,Th1,GROUP_2:40;
  then 1_G2 = f.g by A2,A3,GROUP_6:41;
  hence g in Ker(f) by GROUP_6:41;
end;
\nwused{\\{NW3gc01d-2Q8R0t-1}}\nwendcode{}\nwbegindocs{22}\nwdocspar

\begin{lemma}\label{lemma:characteristic:automorphism:restrict-automorphism-gives-monomorphism}
For any subgroup $H\subgroup G$ and automorphism $\varphi\in\Aut(G)$ of
$G$, we have $\varphi|_{H}\colon H\into\varphi(H)$ be an injective group morphism.
\end{lemma}

\begin{proof}[Proof sketch]
Given a subgroup $H\subgroup G$ and automorphism $\varphi\in\Aut(G)$, we
know $\varphi|_{H}\colon H\to \varphi|_{H}(H)$ is a group morphism.
Since $\varphi$ is an automorphism, it is injective, and in particular
$\ker(\varphi)=\trivialSubgroup_{G}$. Then
$\ker(\varphi|_{H})\subgroup\ker(\varphi)$ and
$\trivialSubgroup_{G}\subgroup\ker(\varphi|_{H})$ implies
$\ker(\varphi|_H)$ is trivial, and thus $\varphi|_{H}$ is injective.
\end{proof}

\nwenddocs{}\nwbegincode{23}\sublabel{NW3gc01d-2Beici-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-2Beici-1}}}\moddef{Lemma: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have monomorphism $\varphi|_{H}$~{\nwtagstyle{}\subpageref{NW3gc01d-2Beici-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
\LA{}Lemma: $H\subgroup G$ and $\trivialSubgroup\subgroup H$ implies $H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW3gc01d-3CeuwY-1}}\RA{}
Lm3:
(phi|H) is Homomorphism of H,Image(phi|H) & (phi|H) is one-to-one
proof
  thus phi|H is Homomorphism of H,Image(phi|H) by GROUP_6:49;
  Ker(phi) = (1).G by GROUP_6:56;
  then Ker(phi|H) is Subgroup of (1).G by Th15;
  then Ker(phi|H) = (1).G by Lm2
                 .= (1).H by GROUP_2:63;
  hence (phi|H) is one-to-one by GROUP_6:56;
end;
\nwindexdefn{\nwixident{Lm3}}{Lm3}{NW3gc01d-2Beici-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Lm3}}{Lm3}}}\nwendcode{}\nwbegindocs{24}\nwdocspar
\begin{theorem}\label{thm:characteristic:automorphism:f-fInv-H-is-subgroup-of-H}
Let $H\subgroup G$ be a subgroup such that
$\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$.
Then any automorphism $\varphi$ of $G$ has an inverse which satisfies
$\varphi[\varphi^{-1}(H)]\subgroup\varphi(H)$.
\end{theorem}

\begin{proof}
Let $\psi=\varphi^{-1}\in\Aut(G)$ be an automorphism (which follows from
Theorem~\mml[Th62]{group6}\MizThm{GROUP\_6}{62}). We have
$\psi(H)=\psi|_{H}(H)\subgroup H$ since the image of a morphism is a subgroup of
the codomain. Then $\phi(\psi(H))\subgroup\phi(H)$.
\end{proof}

\nwenddocs{}\nwbegincode{25}\sublabel{NW3gc01d-g7029-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-g7029-1}}}\moddef{Theorem: $(\forall\varphi\in\Aut(G),\varphi(H)\subgroup H)\implies\varphi[\varphi^{-1}(H)]\subgroup \varphi(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-g7029-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th16:
  (for f being Automorphism of G holds Image(f|H) is Subgroup of H) implies
  ex psi being Automorphism of G
  st psi = phi" & Image(phi|Image(psi|H)) is Subgroup of Image(phi|H)
proof
  assume A1: for f being Automorphism of G holds Image(f|H) is Subgroup of H;
  reconsider psi = phi" as Automorphism of G by GROUP_6:62;
  take psi;
  thus psi = phi";
  Image(psi|H) is Subgroup of H by A1;
  then phi .: Image(psi|H) is Subgroup of phi .: H by GRSOLV_1:12;
  then Image(phi|Image(psi|H)) is Subgroup of phi .: H by GRSOLV_1:def 3;
  hence Image(phi|Image(psi|H)) is Subgroup of Image(phi|H) by GRSOLV_1:def 3;
end;
\nwindexdefn{\nwixident{Th16}}{Th16}{NW3gc01d-g7029-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th16}}{Th16}}}\nwendcode{}\nwbegindocs{26}\nwdocspar
\begin{theorem}\label{thm:characteristic:automorphism:phi-phiInv-H-is-H}
  Let $G$ be a group, and $H\subgroup G$ be a subgroup.
  Then for any automorphism $\varphi\in\Aut(G)$, we have
  $\varphi[\varphi^{-1}(H)]=H$.
\end{theorem}

This is an obvious result which is usually taken for granted.

\begin{proof}[Proof outline]
Let $\psi=\varphi^{-1}\in\Aut(G)$ (which follows from
Theorem~\mml[Th62]{group6}\MizThm{GROUP\_6}{62}). Then we establish any
group element $g$ is a member of $\varphi(\psi(H))$ if and only if $g$
is a member of $H$.
The result then follows that they are equal as groups using Theorem~\mml[Th60]{group2}\MizThm{GROUP\_2}{60}.
\end{proof}

\nwenddocs{}\nwbegincode{27}\sublabel{NW3gc01d-xUcSR-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-xUcSR-1}}}\moddef{Theorem: $\forall\varphi\in\Aut(G), \varphi[\varphi^{-1}(H)]=H$~{\nwtagstyle{}\subpageref{NW3gc01d-xUcSR-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th17:
  ex psi being Automorphism of G
  st psi = phi" & Image(phi|Image(psi|H)) = the multMagma of H
proof
  reconsider psi = phi" as Automorphism of G by GROUP_6:62;
  take psi;
  thus psi = phi";
  for g being Element of G holds g in Image(phi|Image(psi|H)) iff g in H
  \LA{}Proof: $\forall g\in G$, $g\in\varphi[\varphi^{-1}(H)]\iff g\in H$~{\nwtagstyle{}\subpageref{NW3gc01d-1ZaFZM-1}}\RA{}
  hence Image(phi|Image(psi|H)) = the multMagma of H by GROUP_2:60;
end;
\nwindexdefn{\nwixident{Th17}}{Th17}{NW3gc01d-xUcSR-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th17}}{Th17}}}\nwendcode{}\nwbegindocs{28}\nwdocspar
\begin{proof}[{Sub-proof ($\forall g\in G, g\in\varphi[\varphi^{-1}(H)]\implies g\in H$)}.]
The bones of the proof for this claim amounts to unfolding the
logical structure of the claim.
\end{proof}

\nwenddocs{}\nwbegincode{29}\sublabel{NW3gc01d-1ZaFZM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-1ZaFZM-1}}}\moddef{Proof: $\forall g\in G$, $g\in\varphi[\varphi^{-1}(H)]\iff g\in H$~{\nwtagstyle{}\subpageref{NW3gc01d-1ZaFZM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-xUcSR-1}}\nwenddeflinemarkup
proof
  let g be Element of G;
  thus g in Image(phi|Image(psi|H)) implies g in H
  \LA{}Step 1: $g\in\varphi[\varphi^{-1}(H)]\implies g\in H$~{\nwtagstyle{}\subpageref{NW3gc01d-47FJLD-1}}\RA{}

  thus g in H implies g in Image(phi|Image(psi|H))
  \LA{}Step 2: $g\in\varphi[\varphi^{-1}(H)]\impliedby g\in H$~{\nwtagstyle{}\subpageref{NW3gc01d-WRyHP-1}}\RA{}
  thus thesis;
end;
\nwused{\\{NW3gc01d-xUcSR-1}}\nwendcode{}\nwbegindocs{30}\nwdocspar

\begin{proof}[{Proof step 1 ($g\in\varphi[\varphi^{-1}(H)]\implies g\in H$)}.]
We begin by showing, if $g\in\varphi[\varphi^{-1}(H)]$, then there is
some {\Tt{}M1:\nwendquote} $a\in\varphi^{-1}(H)$ such that {\Tt{}B2:\nwendquote} $g=\varphi(a)$. And
then we have, by the same line of reasoning applied to $a$, there is
some {\Tt{}M2:\nwendquote} $b\in H$ such that {\Tt{}B3:\nwendquote} $\varphi^{-1}|_{H}(b)=a$. It
follows that $g = \varphi(\varphi^{-1}(b))$, and by Theorem~\ref{thm:characteristic:preparatory:f-finv-y-is-y} we have
$g = b$ which proves the claim.
\end{proof}

\nwenddocs{}\nwbegincode{31}\sublabel{NW3gc01d-47FJLD-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-47FJLD-1}}}\moddef{Step 1: $g\in\varphi[\varphi^{-1}(H)]\implies g\in H$~{\nwtagstyle{}\subpageref{NW3gc01d-47FJLD-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1ZaFZM-1}}\nwenddeflinemarkup
proof
  assume g in Image(phi|Image(psi|H));
  \LA{}$\exists a\in\varphi^{-1}(H),g=\varphi(a)$~{\nwtagstyle{}\subpageref{NW3gc01d-41Hbi6-1}}\RA{}
  \LA{}$\exists b\in H, a = \varphi^{-1}(b)$~{\nwtagstyle{}\subpageref{NW3gc01d-2rS80d-1}}\RA{}
  then b = phi.(psi.b) by Th4
        .= g by M2,B2,B3,Th1;
  hence g in H;
end;
\nwused{\\{NW3gc01d-1ZaFZM-1}}\nwendcode{}\nwbegindocs{32}\nwdocspar

\begin{proof}[Proof sub-step 1]
Showing $a\in\varphi^{-1}(H)$ and $g=\varphi(a)$ follow from basic results.
\end{proof}

\nwenddocs{}\nwbegincode{33}\sublabel{NW3gc01d-41Hbi6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-41Hbi6-1}}}\moddef{$\exists a\in\varphi^{-1}(H),g=\varphi(a)$~{\nwtagstyle{}\subpageref{NW3gc01d-41Hbi6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-47FJLD-1}}\nwenddeflinemarkup
then consider a being Element of Image(psi|H) such that
B1: g = (phi|Image(psi|H)).a by GROUP_6:45;
M1: a in Image(psi|H) & a is Element of G by GROUP_2:42;
then B2: phi.a = g by B1, Th1;
\nwused{\\{NW3gc01d-47FJLD-1}}\nwendcode{}\nwbegindocs{34}\nwdocspar

\begin{proof}[Proof sub-step 2]
Almost the same reasoning applies to $b\in H$ satisfying
$a=\varphi^{-1}(b)$.
\end{proof}

\nwenddocs{}\nwbegincode{35}\sublabel{NW3gc01d-2rS80d-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-2rS80d-1}}}\moddef{$\exists b\in H, a = \varphi^{-1}(b)$~{\nwtagstyle{}\subpageref{NW3gc01d-2rS80d-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-47FJLD-1}}\nwenddeflinemarkup
consider b being Element of H such that
B3: a = (psi|H).b
by M1,GROUP_6:45;
M2: b in H & b is Element of G by GROUP_2:42;
\nwused{\\{NW3gc01d-47FJLD-1}}\nwendcode{}\nwbegindocs{36}\nwdocspar

\begin{proof}[{Proof step 2 ($g\in\varphi[\varphi^{-1}(H)]\impliedby g\in H$)}.]
To prove $g\in H$ implies $g\in\varphi[\varphi^{-1}(H)]$, we simply
let $K=\varphi^{-1}(H)$ and show $a = \varphi^{-1}|_{H}(g)\in K$ and
then show $b=\varphi|_{K}(a)\in\varphi[K]=\varphi[\varphi^{-1}(H)]$. Then
we have $b=\varphi(\varphi^{-1}(g))=g$ due to $\varphi$ being bijective.
The result follows.
\end{proof}

\nwenddocs{}\nwbegincode{37}\sublabel{NW3gc01d-WRyHP-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-WRyHP-1}}}\moddef{Step 2: $g\in\varphi[\varphi^{-1}(H)]\impliedby g\in H$~{\nwtagstyle{}\subpageref{NW3gc01d-WRyHP-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1ZaFZM-1}}\nwenddeflinemarkup
proof
  assume B1: g in H;
  set a = (psi|H).g;
  B2: a in Image(psi|H)
  \LA{}Sub-step 1: $a\in\varphi^{-1}(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-3vZPH1-1}}\RA{}

  set K = Image(psi|H);
  set b = (phi|Image(psi|H)).a;

  B3: b in Image(phi|Image(psi|H))
  \LA{}Sub-step 2: $b\in\varphi[\varphi^{-1}(H)]$~{\nwtagstyle{}\subpageref{NW3gc01d-2IWBBW-1}}\RA{}
  thus g in Image(phi|K)
  \LA{}Sub-step 3: $g\in\varphi[\varphi^{-1}(H)]$~{\nwtagstyle{}\subpageref{NW3gc01d-kMqjk-1}}\RA{}
end;
\nwused{\\{NW3gc01d-1ZaFZM-1}}\nwendcode{}\nwbegindocs{38}\nwdocspar

\begin{proof}[Proof sub-step 1 ($a\in\varphi^{-1}(H)$).]
The first step follows by unfolding definitions.
\end{proof}


\nwenddocs{}\nwbegincode{39}\sublabel{NW3gc01d-3vZPH1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-3vZPH1-1}}}\moddef{Sub-step 1: $a\in\varphi^{-1}(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-3vZPH1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-WRyHP-1}}\nwenddeflinemarkup
proof
  g in dom(psi|H) by B1,FUNCT_2:def 1;
  then (psi|H).g in (psi|H) .: (the carrier of H) by FUNCT_1:def 6;
  hence a in Image(psi|H) by GROUP_6:def 10;
end;
\nwused{\\{NW3gc01d-WRyHP-1}}\nwendcode{}\nwbegindocs{40}\nwdocspar

\begin{proof}[{Proof sub-step 2 ($b\in\varphi[\varphi^{-1}(H)]$)}.]
The next step, like the first, follows from definitions.
\end{proof}

\nwenddocs{}\nwbegincode{41}\sublabel{NW3gc01d-2IWBBW-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-2IWBBW-1}}}\moddef{Sub-step 2: $b\in\varphi[\varphi^{-1}(H)]$~{\nwtagstyle{}\subpageref{NW3gc01d-2IWBBW-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-WRyHP-1}}\nwenddeflinemarkup
proof
  a in dom(phi|K) by B2, FUNCT_2:def 1;
  then (phi|K).a in (phi|K) .: (the carrier of K) by FUNCT_1:def 6;
  hence b in Image(phi|K) by GROUP_6:def 10;
end;
\nwused{\\{NW3gc01d-WRyHP-1}}\nwendcode{}\nwbegindocs{42}\nwdocspar

\begin{proof}[{Proof sub-step 3 ($g\in\varphi[\varphi^{-1}(H)]$)}.]
The last step is a little more involved, because it requires
recalling $\varphi|_{k}(k)=\varphi(k)$ for $k\in K$, and
$\varphi^{-1}|_{H}(h)=\varphi^{-1}(h)$ for $h\in H$. We can then combine
these deductions to show $b=\varphi(\varphi^{-1}(g))$ which proves the claim.
\end{proof}

\nwenddocs{}\nwbegincode{43}\sublabel{NW3gc01d-kMqjk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-kMqjk-1}}}\moddef{Sub-step 3: $g\in\varphi[\varphi^{-1}(H)]$~{\nwtagstyle{}\subpageref{NW3gc01d-kMqjk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-WRyHP-1}}\nwenddeflinemarkup
proof
  B4: psi.g = a by B1,Th1;
  a is Element of G by B2,GROUP_2:42;
  then (phi|K).a = phi.a by B2,Th1
                .= g by B4,Th4;
  hence thesis by B3;
end;
\nwused{\\{NW3gc01d-WRyHP-1}}\nwendcode{}\nwbegindocs{44}\nwdocspar

\begin{theorem}
Let $H\subgroup G$ and $K\subgroup G$ be subgroups, let $\varphi\in\Aut(G)$
be an automorphism of G. If $\varphi(H)\subgroup K$, then $H\subgroup\varphi^{-1}(K)$.
\end{theorem}


\begin{proof}[Proof sketch]
The argument basically applies Theorem~\ref{thm:characteristic:automorphism:phi-phiInv-H-is-H} to $\varphi^{-1}$, then unfolds
definitions.
\end{proof}

\begin{thm-remark}
I need to work on my numbering scheme\dots
\end{thm-remark}

\nwenddocs{}\nwbegincode{45}\sublabel{NW3gc01d-zRHLm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-zRHLm-1}}}\moddef{Theorem: $\varphi(H)\subgroup K\implies H\subgroup\varphi^{-1}(K)$~{\nwtagstyle{}\subpageref{NW3gc01d-zRHLm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th18:
  for H being strict Subgroup of G
  for K being Subgroup of G
  st Image(phi|H) is Subgroup of K
  holds ex psi being Automorphism of G
  st psi = phi" & H is Subgroup of Image(psi|K)
proof
  let H be strict Subgroup of G;
  let K be Subgroup of G;
  assume A1: Image(phi|H) is Subgroup of K;
  reconsider psi = phi" as Automorphism of G by GROUP_6:62;
  take psi;
  thus psi = phi";
  consider phi0 being Automorphism of G such that
  A2: phi0 = psi" and
  A3: Image(psi|Image(phi0|H)) = the multMagma of H
  by Th17;
  A4: phi = phi0 by A2,Th3;
  psi .: Image(phi|H) is Subgroup of psi .: K by A1,GRSOLV_1:12;
  then Image(psi|Image(phi|H)) is Subgroup of psi .: K by GRSOLV_1:def 3;
  hence H is Subgroup of Image(psi|K) by A3,A4,GRSOLV_1:def 3;
end;
\nwindexdefn{\nwixident{Th18}}{Th18}{NW3gc01d-zRHLm-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th18}}{Th18}}}\nwendcode{}\nwbegindocs{46}\nwdocspar
\begin{theorem}
Let $G$ be a group, $H\subgroup G$ be any subgroup, and
$\varphi\in\Aut(G)$ be any automorphism. Then the image of $H$ under
$\varphi$ is isomorphic to $H$ itself, i.e., $H\iso\varphi(H)$.
\end{theorem}

\begin{proof}[Proof outline]
Let $H_{2}=\varphi(H)$ be a subgroup of $G$. We know $\varphi|_{H}$ is
injective by Lemma~\ref{lemma:characteristic:automorphism:restrict-automorphism-gives-monomorphism}. This gives us our result.
\end{proof}

\nwenddocs{}\nwbegincode{47}\sublabel{NW3gc01d-3WScXE-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-3WScXE-1}}}\moddef{Theorem: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have $H\iso\varphi(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-3WScXE-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th19:
  H,phi .: H are_isomorphic
proof
  reconsider H2 = phi .: H as Subgroup of G;
  H,Image(phi|H) are_isomorphic by Lm3,GROUP_6:68;
  hence H,phi .: H are_isomorphic by GRSOLV_1:def 3;
end;
\nwindexdefn{\nwixident{Th19}}{Th19}{NW3gc01d-3WScXE-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th19}}{Th19}}}\nwendcode{}\nwbegindocs{48}\nwdocspar
\begin{theorem}
Let $H_{1}\subgroup G$ and $H_{2}\subgroup G$ be isomorphic
subgroups. Suppose $G$ is a finite group. Then $\Index{G}{H_{1}}=\Index{G}{H_{2}}$.
\end{theorem}

\nwenddocs{}\nwbegincode{49}\sublabel{NW3gc01d-2VpvPR-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-2VpvPR-1}}}\moddef{Theorem: isomorphic subgroups have equal indices~{\nwtagstyle{}\subpageref{NW3gc01d-2VpvPR-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th20:
  for G being finite Group
  for H1,H2 being strict Subgroup of G
  st H1,H2 are_isomorphic
  holds index H1 = index H2
proof
  let G be finite Group;
  let H1,H2 be strict Subgroup of G;
  assume A1: H1,H2 are_isomorphic;
  card H1 * index H1 = card G by GROUP_2:147
                    .= card H2 * index H2 by GROUP_2:147;
  then index H1 * card H1 = index H2 * card H1 by A1,GROUP_6:73;
  hence index H1 = index H2 by XCMPLX_1:5;
end;
\nwindexdefn{\nwixident{Th20}}{Th20}{NW3gc01d-2VpvPR-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th20}}{Th20}}}\nwendcode{}\nwbegindocs{50}\nwdocspar
\begin{theorem}
Let $G$ be a finite group, $p\in\NN$ be prime. If $\varphi\in\Aut(G)$ is
an automorphism and $P\subgroup G$ is a Sylow $p$-subgroup, then
$\varphi(P)$ is a Sylow $p$-subgroup.
\end{theorem}

\nwenddocs{}\nwbegincode{51}\sublabel{NW3gc01d-3PWeZI-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-3PWeZI-1}}}\moddef{Theorem: Sylow $p$-Subgroups invariant under $\Aut(G)$~{\nwtagstyle{}\subpageref{NW3gc01d-3PWeZI-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th21:
  G is finite implies
  for p being prime Nat
  for P being strict Subgroup of G
  st P is_Sylow_p-subgroup_of_prime p
  holds Image(phi|P) is_Sylow_p-subgroup_of_prime p
proof
  assume A0: G is finite;
  let p be prime Nat;
  let P be strict Subgroup of G;
  assume A1: P is_Sylow_p-subgroup_of_prime p;
  then A2: P is p-group by GROUP_10:def 18;
  set Q = (phi .: P);
  consider r being Nat such that
  A3: card P = p |^ r
  by A2,GROUP_10:def 17;
  card Q = p |^ r by A3,Th19,GROUP_6:75;
  then A4: Q is p-group by GROUP_10:def 17;
  A5: Q = Image(phi|P) by GRSOLV_1:def 3;
  not p divides index P by A1, GROUP_10:def 18;
  then not p divides index Q by A0,Th19,Th20;
  hence Image(phi|P) is_Sylow_p-subgroup_of_prime p by A4, A5, GROUP_10:def 18;
end;
\nwindexdefn{\nwixident{Th21}}{Th21}{NW3gc01d-3PWeZI-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th21}}{Th21}}}\nwendcode{}\nwbegindocs{52}\nwdocspar
\begin{theorem}\label{thm:characteristic:automorphism:automorphism-which-leaves-subgroup-invariant-is-automorphism-of-subgroup}
  Let $H\subgroup G$ be any subgroup.
  If $\varphi\in\Aut(G)$ is an automorphism such that $\varphi(H)=H$ it
  leaves $H$ invariant, then its restriction to $H$ is an automorphism
  $\varphi|_{H}\in\Aut(H)$.
\end{theorem}

This result isn't surprising, but proving surjectivity was surprisingly
(and agonizingly) hard.

\begin{proof}[Proof outline]
  Our proof consists of several steps. First, we work with the
  underlying function restricted to the underlying set $U(H)$ of $H$, and show
  it is a function $f|_{H}\colon U(H)\to U(H)$.

  Next, we show $f|_{H}$ is bijective as a function.

  Finally, we show for any $x,y\in H$ that $f|_{H}(xy)=f|_{H}(x)f|_{H}(y)$,
  which proves $f|_{H}$ is a group morphism.
  When combined with the previous step, it shows $f|_{H}$ is an
  automorphism of $H$.
\end{proof}

\begin{thm-remark}
Since we only hypothesize that $H$ is a subgroup of $G$, not a
\emph{strict} subgroup, we need the hypothesis to be
\lstinline{Image(f|H) = the multMagma of H} --- i.e., the image of the
group morphism restricted to $H$ is equal to $H$ \emph{as a group}. We
could possibly have extra structure on $H$ (it could have topological
structure, or it could be an algebraic variety, or\dots), but we do not
care nor do we need it. We could greatly simplify the proof by demanding
$H$ be a strict subgroup, but it would equally limit the applicability
of the theorem.
\end{thm-remark}

\nwenddocs{}\nwbegincode{53}\sublabel{NW3gc01d-1QHEJY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-1QHEJY-1}}}\moddef{Theorem: $\varphi\in\Aut(G)$ and $H\subgroup G$ such that $\varphi(H)=H$ implies $\varphi|H\in\Aut(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-1QHEJY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th22:
  for f being Automorphism of G
  st Image(f|H) = the multMagma of H
  holds f|H is Automorphism of H
proof
  let f be Automorphism of G;
  assume A1: Image(f|H) = the multMagma of H;
  set UH = the carrier of H;
  reconsider fH=f|H as Function of UH,UH by A1,GROUP_6:49;
  A2: fH is bijective
  proof
    thus fH is one-to-one by Lm3;
    UH = rng(f|H) by A1, GROUP_6:44
      .= rng(fH);
    hence fH is onto;
  end;
  for x,y being Element of H holds fH.(x*y) = (fH.x) * (fH.y)
  proof
    let x,y be Element of H;
    fH.(x * y) = (f|H).(x * y)
              .= (f|H).x * (f|H).y by GROUP_6:def 6
              .= fH.x * fH.y by GROUP_2:43;
    hence thesis;
  end;
  hence thesis by A2,GROUP_6:def 6;
end;
\nwindexdefn{\nwixident{Th22}}{Th22}{NW3gc01d-1QHEJY-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th22}}{Th22}}}\nwendcode{}\nwbegindocs{54}\nwdocspar
\begin{proof}[Proof sketch (Surjectivity)]
For reasons I do not adequately understand, I could not simply handle
{\Tt{}f|H\nwendquote} as a {\Tt{}Homomorphism\ of\ H,H\nwendquote} (despite having established this
fact).

I could not use any theorem concerning surjectivity of group morphisms,
so I just ``forgot'' it was a morphism, proved surjectivity, then
``remembered'' it was a group morphism after all.
\end{proof}

\begin{thm-remark}
I am starting to think that the claim {\Tt{}f\ is\ onto\nwendquote} is different than
{\Tt{}f\ is\ onto\ Homomorphism\ of\ G1,G2\nwendquote}.
\end{thm-remark}

\nwenddocs{}\nwbegincode{55}\sublabel{NW3gc01d-41Pxbq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-41Pxbq-1}}}\moddef{Proof: $\varphi|_{H}$ is surjective~{\nwtagstyle{}\subpageref{NW3gc01d-41Pxbq-1}}}\endmoddef\nwstartdeflinemarkup\nwenddeflinemarkup
proof
  set UH = the carrier of H;
  f|H is Function of UH,UH & rng(f|H) = the carrier of H by A1, GROUP_6:44,49;
  hence thesis by A1,GROUP_6:49,FUNCT_2:def 3;
end;
\nwnotused{Proof: $\varphi|_{H}$ is surjective}\nwendcode{}\nwbegindocs{56}\nwdocspar

\begin{theorem}
Let $H\properSubgroup G$ be a proper subgroup. Then its image under any
automorphism $\varphi\in\Aut(G)$ is another proper subgroup
$\varphi(H)\properSubgroup G$.
\end{theorem}

\nwenddocs{}\nwbegincode{57}\sublabel{NW3gc01d-39h8sj-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-39h8sj-1}}}\moddef{Theorem: $\varphi\in\Aut(G)$ and $H\properSubgroup G$ implies $\varphi(H)\properSubgroup G$~{\nwtagstyle{}\subpageref{NW3gc01d-39h8sj-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th23:
  for G being non trivial Group
  for H being Subgroup of G
  for phi being Automorphism of G
  st H is proper Subgroup of G
  holds Image(phi|H) is proper Subgroup of G
proof
  let G be non trivial Group;
  let H be Subgroup of G;
  let phi be Automorphism of G;
  set UH = the carrier of H;
  set UG = the carrier of G;
  A1: phi is one-to-one & phi is onto & UH is non empty Subset of UG &
      phi is Function of UG,UG by GROUP_2:def 5;
  assume H is proper Subgroup of G;
  then UG \\ UH is non empty by Th11;
  then consider x such that
  A2: x in UG \\ UH by XBOOLE_0:def 1;
  A3: x in G & not x in H by A2,XBOOLE_0:def 5;
  A4: \LA{}$\varphi(x)\notin\varphi(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-476s7N-1}}\RA{}
  \LA{}$\varphi(x)\in G$~{\nwtagstyle{}\subpageref{NW3gc01d-4JfXI9-1}}\RA{}
  then phi .: H is proper by A4;
  hence Image(phi|H) is proper Subgroup of G by GRSOLV_1:def 3;
end;
\nwindexdefn{\nwixident{Th23}}{Th23}{NW3gc01d-39h8sj-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th23}}{Th23}}}\nwendcode{}\nwbegindocs{58}\nwdocspar
\begin{proof}[Proof step ($\varphi(x)\notin\varphi(H)$)]
Since $x\in G$ and $x\notin H$, it follows that $\varphi(x)\notin\varphi(H)$
thanks to Theorem~\ref{thm:characteristic:preparatory:x-notin-A-implies-fx-notin-fA}.
We also need an extra step since $\varphi$ is considered first as a
function on the underlying set $U(H)$ of $H$, then we need to remember
that this is the same as $\varphi$ applied to the subgroup $H$.
\end{proof}
\nwenddocs{}\nwbegincode{59}\sublabel{NW3gc01d-476s7N-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-476s7N-1}}}\moddef{$\varphi(x)\notin\varphi(H)$~{\nwtagstyle{}\subpageref{NW3gc01d-476s7N-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-39h8sj-1}}\nwenddeflinemarkup
not (phi.x in phi .: H)
proof
  not (phi.x in (phi .: UH)) by A1, A3, Th5;
  hence not (phi.x in (phi .: H)) by GRSOLV_1:8;
end;
\nwused{\\{NW3gc01d-39h8sj-1}}\nwendcode{}\nwbegindocs{60}\nwdocspar

\begin{proof}[Proof step ($\varphi(x)\in G)$.]
We need to make explicit that $\varphi(x)$ is not just ``some object'',
but an element of the group $G$. This follows from the fact $\varphi(x)$
is in the range of $\varphi$ by definition of the range of a function
(i.e., \mml[def3]{funct1}\MizDef{FUNCT\_1}[03]{3}). Since $\varphi$ is
an automorphism, in particular surjective, it follows that the set
underlying $\varphi(G)$ is the set underlying $G$, i.e., $U(G)$.
Then $\varphi(x)\in G$.
\end{proof}

\nwenddocs{}\nwbegincode{61}\sublabel{NW3gc01d-4JfXI9-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-4JfXI9-1}}}\moddef{$\varphi(x)\in G$~{\nwtagstyle{}\subpageref{NW3gc01d-4JfXI9-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-39h8sj-1}}\nwenddeflinemarkup
phi.x is Element of G
proof
  dom phi = UG & rng phi = UG by A1, FUNCT_2:def 1;
  hence phi.x is Element of G by A2, FUNCT_1:def 3;
end;
\nwused{\\{NW3gc01d-39h8sj-1}}\nwendcode{}\nwbegindocs{62}\nwdocspar

\begin{theorem}\label{thm:characteristic:automorphism:image-of-maximal-subgroup-under-automorphism-is-maximal}
  Let $G$ be a group, $\varphi\in\Aut(G)$ an arbitrary automorphism.
  If $H\properSubgroup G$ is a maximal subgroup, then
  $\varphi(H)\properSubgroup G$ is also maximal.
\end{theorem}

\begin{proof}[Proof outline]
  Since $H\properSubgroup G$ is maximal, if $\varphi(H)$ were not
  maximal, there would be a subgroup $K\properSubgroup G$ such that
  $\varphi(H)\properSubgroup K$. In that case, $\varphi^{-1}(K)=L$ would
  be a proper subgroup which contains $H$ as a proper subgroup, which is
  impossible. Thus $\varphi(H)$ must be maximal.
\end{proof}

\nwenddocs{}\nwbegincode{63}\sublabel{NW3gc01d-39Q49p-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-39Q49p-1}}}\moddef{Theorem: Automorphisms map maximal subgroups to maximal subgroups~{\nwtagstyle{}\subpageref{NW3gc01d-39Q49p-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-1CMOm-1}}\nwenddeflinemarkup
theorem Th24:
  for G being non trivial Group
  for H being strict Subgroup of G
  for phi being Automorphism of G
  st H is maximal
  holds Image(phi|H) is maximal
proof
  let G be non trivial Group;
  let H be strict Subgroup of G;
  let phi be Automorphism of G;
  assume A1: H is maximal;
  A2: Image(phi|H) is proper Subgroup of G by A1,Th23;
  then P1: Image(phi|H) <> the multMagma of G by Def1;
  set UG = the carrier of G;
  set UH = the carrier of H;
  P2: for K being strict Subgroup of G
  st Image(phi|H) <> K & Image(phi|H) is Subgroup of K
  holds K = the multMagma of G
  \LA{}Proof: $H$ is maximal implies $K=G$~{\nwtagstyle{}\subpageref{NW3gc01d-2sFwyR-1}}\RA{}
  thus Image(phi|H) is maximal by P1,P2,GROUP_4:def 6;
end;
\nwindexdefn{\nwixident{Th24}}{Th24}{NW3gc01d-39Q49p-1}\eatline
\nwused{\\{NW3gc01d-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th24}}{Th24}}}\nwendcode{}\nwbegindocs{64}\nwdocspar
\begin{proof}[Sub-proof outline ($H$ is maximal implies $K=G$).]
Let $K$ be an arbitrary subgroup of $G$ such that $\varphi(H)\properSubgroup K$.
We can consider $\psi\in\Aut(G)$ defined by $\psi(x)=\varphi^{-1}(x)$
for all $x\in G$. Since $H\properSubgroup K\properSubgroup G$, we can
find some $k\in K$ but $k\notin K$. Then $\psi(k)\in\psi(K)$. Since $H$
is maximal, $\varphi(\psi(K))=G$. But also $\varphi(\psi(K))=K$. Hence $K=G$.
\end{proof}

\nwenddocs{}\nwbegincode{65}\sublabel{NW3gc01d-2sFwyR-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-2sFwyR-1}}}\moddef{Proof: $H$ is maximal implies $K=G$~{\nwtagstyle{}\subpageref{NW3gc01d-2sFwyR-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-39Q49p-1}}\nwenddeflinemarkup
proof
  let K be strict Subgroup of G;
  assume B1: Image(phi|H) <> K;
  assume B2: Image(phi|H) is Subgroup of K;
  then consider psi being Automorphism of G such that
  B3: psi = phi" and
  B4: H is Subgroup of Image(psi|K)
  by Th18;
  set UK = the carrier of K;
  reconsider K as non trivial strict Subgroup of G by A2,B1,B2,Th12;
  UK \\ (the carrier of Image(phi|H)) is non empty by B1,B2,Def1,Th11;
  then consider k being object such that
  B6: k in UK \\ (the carrier of Image(phi|H))
  by XBOOLE_0:def 1;
  reconsider k as Element of K by B6;
  set L = Image(psi|K);
  B8: psi.k in L
  \LA{}Proof: $\psi(k)\in L$~{\nwtagstyle{}\subpageref{NW3gc01d-rcjUo-1}}\RA{}
  B9: the multMagma of H <> L
  \LA{}Proof: $H\neq L$~{\nwtagstyle{}\subpageref{NW3gc01d-aXEjM-1}}\RA{}
  B10: Image(phi|L) = the multMagma of G
  \LA{}Proof: $\varphi(L)=G$~{\nwtagstyle{}\subpageref{NW3gc01d-13ZzHL-1}}\RA{}
  Image(phi|L) = K
  \LA{}Proof: $\varphi(L) = K$~{\nwtagstyle{}\subpageref{NW3gc01d-3oqpnZ-1}}\RA{}
  hence thesis by B10;
end;
\nwused{\\{NW3gc01d-39Q49p-1}}\nwendcode{}\nwbegindocs{66}\nwdocspar

\begin{proof}[Proof step ($\psi(k)\in L$).]
Since $k\in K$ and $L=\psi(K)$, the result follows from unfolding definitions.
\end{proof}

\nwenddocs{}\nwbegincode{67}\sublabel{NW3gc01d-rcjUo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-rcjUo-1}}}\moddef{Proof: $\psi(k)\in L$~{\nwtagstyle{}\subpageref{NW3gc01d-rcjUo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-2sFwyR-1}}\nwenddeflinemarkup
proof
  C1: k in G by GROUP_2:41;
  consider l being object such that
  C2: l = psi.k;
  dom psi = the carrier of G by FUNCT_2:def 1;
  then l in psi .: (the carrier of K) by C1,C2,FUNCT_1:def 6;
  then l in the carrier of (psi .: K) by GRSOLV_1:8;
  hence psi.k in Image(psi|K) by C2,GRSOLV_1:def 3;
end;
\nwused{\\{NW3gc01d-2sFwyR-1}}\nwendcode{}\nwbegindocs{68}\nwdocspar

\begin{proof}[Proof step ($H\neq L$).]
Since $k\in K\setminus\varphi(H)$, it follows
$\psi(k)\in\psi(K)\setminus H$.
\end{proof}

\nwenddocs{}\nwbegincode{69}\sublabel{NW3gc01d-aXEjM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-aXEjM-1}}}\moddef{Proof: $H\neq L$~{\nwtagstyle{}\subpageref{NW3gc01d-aXEjM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-2sFwyR-1}}\nwenddeflinemarkup
proof
  set UPH = the carrier of Image(phi|H);
  C1: phi is one-to-one & phi is onto & UPH is non empty Subset of UG &
  phi is Function of UG,UG by GROUP_2:def 5;
  C2: k in G & not k in Image(phi|H) by B6, XBOOLE_0:def 5, GROUP_2:41;
  consider phi2 being Automorphism of G such that
  C3: phi2 = psi" and
  C4: Image(psi|Image(phi2|H)) = the multMagma of H
  by Th17;
  C5: phi2=phi by C3,B3, Th3;
  set UPH = the carrier of Image(phi|H);
  psi .: UPH = the carrier of (psi .: Image(phi|H)) by GRSOLV_1:8
            .= the carrier of Image(psi|Image(phi|H)) by GRSOLV_1:def 3;
  hence thesis by B8,C1,C2,C4,C5,Th5;
end;
\nwused{\\{NW3gc01d-2sFwyR-1}}\nwendcode{}\nwbegindocs{70}\nwdocspar

\begin{proof}[Proof step ($\varphi(L)=G$).]
Since $H\neq L$, and $H$ is maximal, it follows that $L=G$. Then
$\varphi(L)=\varphi(G)$ and $\varphi(G)=G$ gives the result.
\end{proof}

\nwenddocs{}\nwbegincode{71}\sublabel{NW3gc01d-13ZzHL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-13ZzHL-1}}}\moddef{Proof: $\varphi(L)=G$~{\nwtagstyle{}\subpageref{NW3gc01d-13ZzHL-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-2sFwyR-1}}\nwenddeflinemarkup
proof
  L = the multMagma of G by A1,B4,B9,GROUP_4:def 6;
  then phi .: the carrier of L = phi .: UG
                              .= rng phi by RELSET_1:22
                              .= UG by FUNCT_2:def 3;
  then UG = phi .: (the carrier of L)
         .= the carrier of (phi .: L) by GRSOLV_1:8
         .= the carrier of Image(phi|L) by GRSOLV_1:def 3;
  hence thesis by GROUP_2:61;
end;
\nwused{\\{NW3gc01d-2sFwyR-1}}\nwendcode{}\nwbegindocs{72}\nwdocspar

\begin{proof}[Proof step ($\varphi(L)=K$).]
From $L=\psi(K)$, it follows $\varphi(L)=K$.
\end{proof}

\nwenddocs{}\nwbegincode{73}\sublabel{NW3gc01d-3oqpnZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3gc01d-3oqpnZ-1}}}\moddef{Proof: $\varphi(L) = K$~{\nwtagstyle{}\subpageref{NW3gc01d-3oqpnZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3gc01d-2sFwyR-1}}\nwenddeflinemarkup
proof
  consider psi2 being Automorphism of G such that
  C1: psi2 = phi" and
  C2: Image(phi|Image(psi2|K)) = the multMagma of K
  by Th17;
  thus Image(phi|Image(psi|K)) = K by B3,C1,C2;
end;
\nwused{\\{NW3gc01d-2sFwyR-1}}\nwendcode{}\nwbegindocs{74}\nwdocspar
\nwenddocs{}\nwfilename{nw/001-characteristic/inner.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\section{Inner Automorphisms}\label{sec:characteristic:inner-automorphism}
We can now organize our treatment of inner automorphisms.

\nwenddocs{}\nwbegincode{1}\sublabel{NW2hIK2S-UGF1u-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-UGF1u-1}}}\moddef{Inner Automorphisms~{\nwtagstyle{}\subpageref{NW2hIK2S-UGF1u-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1Vve9X-1}}\nwenddeflinemarkup
\LA{}Definition: \code{}inner\edoc{} for Automorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-1Tb4wZ-1}}\RA{}

\LA{}Theorem: \code{}id\ G\edoc{} is effectively inner~{\nwtagstyle{}\subpageref{NW2hIK2S-4YoKSm-1}}\RA{}

\LA{}Register \code{}inner\edoc{} for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-4IjmGJ-1}}\RA{}

\LA{}Theorem: Relate \code{}Automorphism\ of\ G\edoc{} to elements of \code{}Aut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-2VuNZX-1}}\RA{}

\LA{}Theorem: $f$ in \code{}InnAut\ G\edoc{} iff $f$ is \code{}inner\ Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-2gUxot-1}}\RA{}

\LA{}Theorem: inner automorphism acting on subgroup is conjugate of argument~{\nwtagstyle{}\subpageref{NW2hIK2S-2zspfg-1}}\RA{}

\LA{}Theorem: Kernel of conjugation as endomorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-3fLhao-1}}\RA{}

\LA{}Theorem: Conjugation by fixed element is an automorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-VBRVv-1}}\RA{}

\LA{}Corollary: conjugation of given element is an \emph{inner} automorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-47V7KL-1}}\RA{}

\LA{}Theorem: constructing inner automorphisms from group elements~{\nwtagstyle{}\subpageref{NW2hIK2S-arh13-1}}\RA{}

\LA{}Theorem: inner Automorphisms fix only normal Subgroups~{\nwtagstyle{}\subpageref{NW2hIK2S-4Qqcti-1}}\RA{}
\nwused{\\{NWUmZ11-1Vve9X-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{definition}\index{Automorphism!inner}\index{inner!Automorphism|see {Automorphism}}
We call a group automorphism $f\in\Aut(G)$ \define{inner} if there is a
group element $g\in G$ such that for all $x\in G$ we have $f(x) = x^{g} = g^{-1}xg$.
That is, $f$ is just conjugation by a fixed group element.
\end{definition}

\begin{def-remark}[Notation: $\Inn(G)$]\index{$\Inn(G)$}
We denote the set of inner automorphisms of $G$ by $\Inn(G)$ and
informally we know $\Inn(G)\subset\Aut(G)$. (We will prove
$\Inn(G)\subset\Aut(G)$ later, I think.)
\end{def-remark}

\nwenddocs{}\nwbegincode{3}\sublabel{NW2hIK2S-1Tb4wZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-1Tb4wZ-1}}}\moddef{Definition: \code{}inner\edoc{} for Automorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-1Tb4wZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
definition
  let G;
  let IT be Automorphism of G;
  attr IT is inner means
  :Def2:
  ex a being Element of G st
  for x being Element of G holds IT.x = x |^ a;
end;
\LA{}Outer as antonym of inner~{\nwtagstyle{}\subpageref{NW2hIK2S-RgKDM-1}}\RA{}
\nwindexdefn{\nwixident{Def2}}{Def2}{NW2hIK2S-1Tb4wZ-1}\nwindexdefn{\nwixident{inner}}{inner}{NW2hIK2S-1Tb4wZ-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Def2}}{Def2}}\\{{\nwixident{inner}}{inner}}}\nwendcode{}\nwbegindocs{4}\nwdocspar
\begin{notation}\index{Automorphism!outer}
We also recall that an automorphism is called \define{Outer} if it is
not inner.
\end{notation}

Mizar let's us do this with the {\Tt{}antonym\nwendquote} construct within a
{\Tt{}notation\nwendquote} block.

\nwenddocs{}\nwbegincode{5}\sublabel{NW2hIK2S-RgKDM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-RgKDM-1}}}\moddef{Outer as antonym of inner~{\nwtagstyle{}\subpageref{NW2hIK2S-RgKDM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-1Tb4wZ-1}}\nwenddeflinemarkup
notation
  let G be Group, f be Automorphism of G;
  antonym f is outer for f is inner;
end;
\nwindexdefn{\nwixident{outer}}{outer}{NW2hIK2S-RgKDM-1}\eatline
\nwused{\\{NW2hIK2S-1Tb4wZ-1}}\nwidentdefs{\\{{\nwixident{outer}}{outer}}}\nwendcode{}\nwbegindocs{6}\nwdocspar
\begin{voc}
Before rushing off to prove properties concerning inner and outer
automorphisms, we should add the attributes to our vocabulary file.
\end{voc}

\nwenddocs{}\nwbegincode{7}\sublabel{NW2hIK2S-1hUeyM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-1hUeyM-1}}}\moddef{DICT/GROUP-22.VOC~{\nwtagstyle{}\subpageref{NW2U3g6J-1hUeyM-1}}}\plusendmoddef\nwstartdeflinemarkup\nwprevnextdefs{NW2U3g6J-1hUeyM-1}{NW2llOmu-1hUeyM-1}\nwenddeflinemarkup
Vinner
Vouter
\nwendcode{}\nwbegindocs{8}\nwdocspar

\begin{theorem}[$\Id_{G}$ is effectively inner]\label{thm:characteristic:id-inner}
The identity endomorphism $\Id_{G}$ is an inner automorphism of $G$.
\end{theorem}

We will be registering ``inner'' as an attribute for ``Automorphism
of $G$''. This will require proving that there exists an inner
Automorphism of $G$. I've found the trivial examples are often best for
establishing the existence of such things, so we will prove {\Tt{}id\ the\ carrier\ of\ G\nwendquote} is
an inner Automorphism. This uses the fact, if $e\in G$ is the identity
element, then for any $g\in G$ we have conjugation $g^{e} = e^{-1}ge=g$
(proven in Theorem~\mml[Th19]{group3}).\MizThm{GROUP\_3}{19}

\nwenddocs{}\nwbegincode{9}\sublabel{NW2hIK2S-4YoKSm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-4YoKSm-1}}}\moddef{Theorem: \code{}id\ G\edoc{} is effectively inner~{\nwtagstyle{}\subpageref{NW2hIK2S-4YoKSm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
theorem Th25:
  for x being Element of G holds (id the carrier of G).x = x |^ 1_G
  by GROUP_3:19;
\nwindexdefn{\nwixident{Th25}}{Th25}{NW2hIK2S-4YoKSm-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th25}}{Th25}}}\nwendcode{}\nwbegindocs{10}\nwdocspar
\begin{registration}
Now registering {\Tt{}inner\nwendquote} for {\Tt{}Automorphism\nwendquote}.
\end{registration}

\nwenddocs{}\nwbegincode{11}\sublabel{NW2hIK2S-4IjmGJ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-4IjmGJ-1}}}\moddef{Register \code{}inner\edoc{} for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-4IjmGJ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
registration
  let G;
  cluster inner for Automorphism of G;
  existence
  \LA{}Proof of existence of an inner Automorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-9idpO-1}}\RA{}
end;
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwendcode{}\nwbegindocs{12}\nwdocspar

\begin{proof}[Proof sketch (Existence of inner automorphism)]
The proof is a two punch knock-out. We take {\Tt{}id\ the\ carrier\ of\ G\nwendquote} to be the
morphism, {\Tt{}1{\_}g\nwendquote} the group's identity element to be the element
{\Tt{}id\ the\ carrier\ of\ G\nwendquote} conjugates by, then from earlier (Theorem~\ref{thm:characteristic:id-inner})
we have {\Tt{}id\ the\ carrier\ of\ G\nwendquote} be inner.
\end{proof}

\nwenddocs{}\nwbegincode{13}\sublabel{NW2hIK2S-9idpO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-9idpO-1}}}\moddef{Proof of existence of an inner Automorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-9idpO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-4IjmGJ-1}}\nwenddeflinemarkup
proof
  reconsider i = id (the carrier of G) as Automorphism of G by GROUP_6:38;
  take i;
  take 1_G;
  thus thesis by Th25;
end;
\nwused{\\{NW2hIK2S-4IjmGJ-1}}\nwendcode{}\nwbegindocs{14}\nwdocspar

\begin{theorem}[{$\varphi\in\aut(G)\iff \varphi$ is {\Tt{}Automorphism\ of\ G\nwendquote}}]
For any $\varphi$, we have $\varphi\in\Aut(G)$ if and only if
$\varphi\colon G\to G$ is an automorphism.
\end{theorem}

\begin{thm-remark}
Mizar has~\mml{autgroup}, an article which defines {\Tt{}Aut\ G\nwendquote} the
collection of functions on the underlying set $U(G)$ of a group $G$. We
can prove that $f\in\aut(G)$ if and only if $f$ is {\Tt{}Automorphism\ of\ G\nwendquote}.
\end{thm-remark}

\begin{proof}[Proof outline]
  Like any ``if{}f'' statement, we have two steps to this proof:

  Step 1: $\varphi\in\Aut(g)\implies\varphi\colon G\to G$ is an
  Automorphism. This is involved and requires carving out a sub-proof.

  Step 2: $\varphi\in\Aut(g)\impliedby\varphi\colon G\to G$ is an
  Automorphism. This follows from how $\Aut(G)$ is defined in
  \verb#AUTGROUP:def 1#\MizDef{AUTGROUP}{1}.
\end{proof}

\nwenddocs{}\nwbegincode{15}\sublabel{NW2hIK2S-2VuNZX-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-2VuNZX-1}}}\moddef{Theorem: Relate \code{}Automorphism\ of\ G\edoc{} to elements of \code{}Aut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-2VuNZX-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
theorem Th26:
  for G being strict Group, f being object
  holds (f in Aut G) iff (f is Automorphism of G)
proof
  let G be strict Group;
  let f be object;
  thus f in Aut G implies f is Automorphism of G
  \LA{}Proof $f\in\aut(G)\implies f$ is \code{}Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-wlMQo-1}}\RA{}
  thus f is Automorphism of G implies f in Aut G by AUTGROUP:def 1;
  thus thesis;
end;
\nwindexdefn{\nwixident{Th26}}{Th26}{NW2hIK2S-2VuNZX-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th26}}{Th26}}}\nwendcode{}\nwbegindocs{16}\nwdocspar
\begin{proof}[Sub-proof ($\Longrightarrow$)]
The forward direction is
straightforward. The only subtlety is, since we didn't assume anything
about $\varphi$, we should establish it's an endomorphism of $G$ along
the way. Then its membership in $\Aut(G)$ implies $\varphi$ is
bijective, and the result follows.
\end{proof}

\nwenddocs{}\nwbegincode{17}\sublabel{NW2hIK2S-wlMQo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-wlMQo-1}}}\moddef{Proof $f\in\aut(G)\implies f$ is \code{}Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-wlMQo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-2VuNZX-1}}\nwenddeflinemarkup
proof
  assume A1: f in Aut G;
  then reconsider f as Endomorphism of G by AUTGROUP:def 1;
  f is bijective by A1,AUTGROUP:def 1;
  hence thesis;
end;
\nwused{\\{NW2hIK2S-2VuNZX-1}}\nwendcode{}\nwbegindocs{18}\nwdocspar


\begin{theorem}
We have $\varphi\in\Inn\Aut(G)$ if and only if $\varphi$ is an inner
Automorphism of $G$.
\end{theorem}

\begin{proof}[Proof outline]
  We have two steps to our proof.

  Step 1: $\varphi\in\Inn\Aut(G)$ (in the sense of Definition~\mml[def4]{autgroup}\MizDef{AUTGROUP}{4})
  imply $\varphi$ is an inner automorphism of $G$.

  Step 2: $\varphi$ is an inner automorphism of $G$ implies $\varphi\in\Inn\Aut(G)$.

  Then the result follows.
\end{proof}

\begin{thm-remark}
We can relate the notion of an {\Tt{}inner\ Automorphism\ of\ G\nwendquote} with elements
of {\Tt{}InnAut\ G\nwendquote} from \mml{autgroup}. The only peculiarity is that
\mml{autgroup} requires $G$ to be a \emph{strict} group.
\end{thm-remark}

\nwenddocs{}\nwbegincode{19}\sublabel{NW2hIK2S-2gUxot-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-2gUxot-1}}}\moddef{Theorem: $f$ in \code{}InnAut\ G\edoc{} iff $f$ is \code{}inner\ Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-2gUxot-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
\LA{}Lemma: Elements of \code{}InnAut\ G\edoc{} are automorphisms~{\nwtagstyle{}\subpageref{NW2hIK2S-3eJW7Q-1}}\RA{}

theorem Th27:
  for G being strict Group
  for f being object
  holds (f in InnAut G) iff (f is inner Automorphism of G)
proof
  let G be strict Group;
  let f be object;
  A1: f is Automorphism of G implies
      f is Element of Funcs (the carrier of G, the carrier of G) by FUNCT_2:9;
  thus (f in InnAut G) implies (f is inner Automorphism of G)
  \LA{}Proof $f$ is in \code{}InnAut\ G\edoc{} $\implies$ ($f$ is inner automorphism)~{\nwtagstyle{}\subpageref{NW2hIK2S-18aBqf-1}}\RA{}
  thus (f is inner Automorphism of G) implies (f in InnAut G)
  \LA{}Proof ($f$ is inner automorphism) $\implies$ $f$ is in \code{}InnAut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-2maG0l-1}}\RA{}
  thus thesis;
end;
\nwindexdefn{\nwixident{Th27}}{Th27}{NW2hIK2S-2gUxot-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th27}}{Th27}}}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{proof}[Proof step ($\varphi\in\Inn\Aut(G)\implies\varphi$ is inner).]
The proof amounts to unwinding
definitions, but the subtlety is in first reconsidering $\varphi$ as an
Automorphism of $G$ thanks to our handy-dandy lemma.
\end{proof}

\nwenddocs{}\nwbegincode{21}\sublabel{NW2hIK2S-18aBqf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-18aBqf-1}}}\moddef{Proof $f$ is in \code{}InnAut\ G\edoc{} $\implies$ ($f$ is inner automorphism)~{\nwtagstyle{}\subpageref{NW2hIK2S-18aBqf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-2gUxot-1}}\nwenddeflinemarkup
proof
  assume B1: f in InnAut G;
  then reconsider f as Automorphism of G by Lm6;
  consider a being Element of G such that
  B2: for x being Element of G holds f.x = x |^ a
  by A1,B1,AUTGROUP:def 4;
  thus thesis by Def2,B2;
end;
\nwused{\\{NW2hIK2S-2gUxot-1}}\nwendcode{}\nwbegindocs{22}\nwdocspar

\begin{proof}[Proof step ($\varphi$ is inner$\implies\varphi\in\Inn\Aut(G)$).]
This is again unwinding the definitions. The same subtlety lurks here,
requiring us to reconsider $f$ as an inner automorphism of $G$.
\end{proof}

\nwenddocs{}\nwbegincode{23}\sublabel{NW2hIK2S-2maG0l-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-2maG0l-1}}}\moddef{Proof ($f$ is inner automorphism) $\implies$ $f$ is in \code{}InnAut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW2hIK2S-2maG0l-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-2gUxot-1}}\nwenddeflinemarkup
proof
  assume f is inner Automorphism of G;
  then reconsider f as inner Automorphism of G;
  consider a being Element of G such that
  B1: for x being Element of G holds f.x = x |^ a
  by Def2;
  thus thesis by A1,B1,AUTGROUP:def 4;
end;
\nwused{\\{NW2hIK2S-2gUxot-1}}\nwendcode{}\nwbegindocs{24}\nwdocspar

\begin{lemma}
Any member of the group $\Inn\Aut(G)$ is an Automorphism of $G$.
\end{lemma}

It's relatively straightforward to show that if $f$ is an element of
{\Tt{}InnAut\ G\nwendquote}, then $f$ is an {\Tt{}Automorphism\ of\ G\nwendquote}. We just unwind the
definitions.

\nwenddocs{}\nwbegincode{25}\sublabel{NW2hIK2S-3eJW7Q-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-3eJW7Q-1}}}\moddef{Lemma: Elements of \code{}InnAut\ G\edoc{} are automorphisms~{\nwtagstyle{}\subpageref{NW2hIK2S-3eJW7Q-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-2gUxot-1}}\nwenddeflinemarkup
Lm6:
  for G being strict Group
  for f being Element of InnAut G
  holds f is Automorphism of G
proof
  let G be strict Group;
  let f be Element of InnAut G;
  f is Element of Aut G by AUTGROUP:12;
  hence f is Automorphism of G by Th26;
end;
\nwindexdefn{\nwixident{Lm6}}{Lm6}{NW2hIK2S-3eJW7Q-1}\eatline
\nwused{\\{NW2hIK2S-2gUxot-1}}\nwidentdefs{\\{{\nwixident{Lm6}}{Lm6}}}\nwendcode{}\nwbegindocs{26}\nwdocspar
\begin{theorem}\label{thm:characteristic:inner:image-of-inner-automorphism-on-subgroup}
Given any element $a\in G$, and any inner automorphism $\varphi$ of $G$ such
that $\forall x\in G, f(x) = x^{a} = a^{-1}xa$, it follows that the
image of a subgroup under $f$ is the conjugate of that subgroup
$\varphi(H) = H^{a}$.
\end{theorem}

\begin{proof}
Let $\varphi\in\End(G)$ be defined by hypothesis as $\varphi(x)=x^{a}$
for some fixed $a\in G$. We have $\varphi|_{H}(h)= h^{a}$ for any $h\in H$.
We show $y\in\varphi|_{H}(H)\iff y\in H^{a}$ in two sub-proofs. Then it
follows that $\varphi(H)=H^{a}$ by Definition~\mml[def6]{group2}\MizDef{GROUP\_2}{6}.
\end{proof}

\nwenddocs{}\nwbegincode{27}\sublabel{NW2hIK2S-2zspfg-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-2zspfg-1}}}\moddef{Theorem: inner automorphism acting on subgroup is conjugate of argument~{\nwtagstyle{}\subpageref{NW2hIK2S-2zspfg-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
theorem Th28:
  for a being Element of G
  for f being inner Automorphism of G
  st (for x being Element of G holds f.x = x |^ a)
  holds Image(f|H) = H |^ a
proof
  let a be Element of G,
      f be inner Automorphism of G;
  assume
A1: for x being Element of G holds f.x = x |^ a;
A2: for h being Element of G st h in H holds (f|H).h = h |^ a
  proof
    let h be Element of G;
    assume h in H;
    hence (f|H).h = f.h by Th1
                 .= h |^ a by A1;
  end;

A3: for y being Element of G st y in Image(f|H) holds y in H |^ a
  \LA{}Proof $\forall y\in G, y\in f(H)\implies y\in H^{a}$~{\nwtagstyle{}\subpageref{NW2hIK2S-1BjobC-1}}\RA{}
  for y being Element of G st y in H |^ a holds y in Image(f|H)
  \LA{}Proof $\forall y\in G, y \in f(H)\impliedby y\in H^{a}$~{\nwtagstyle{}\subpageref{NW2hIK2S-1b1ocA-1}}\RA{}
  hence (H |^ a) = Image(f|H) by A3;
end;
\nwindexdefn{\nwixident{Th28}}{Th28}{NW2hIK2S-2zspfg-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th28}}{Th28}}}\nwendcode{}\nwbegindocs{28}\nwdocspar
\begin{proof}[{Proof step 1 ($\forall y\in G, y\in f(H)\implies y\in H^{a}$)}.]
The forward direction amounts to unwrapping the definition of $f(h) = h^{a}$.
Since $h\in H$, it follows $h^{a}\in H^{a}$ by Theorem~\mml[Th58]{group3}\MizThm{GROUP\_3}{58}.
\end{proof}

\nwenddocs{}\nwbegincode{29}\sublabel{NW2hIK2S-1BjobC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-1BjobC-1}}}\moddef{Proof $\forall y\in G, y\in f(H)\implies y\in H^{a}$~{\nwtagstyle{}\subpageref{NW2hIK2S-1BjobC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-2zspfg-1}}\nwenddeflinemarkup
proof
  let y be Element of G;
  assume y in Image(f|H);
  then consider h being Element of H such that
  B1: (f|H).h = y by GROUP_6:45;
  reconsider h as Element of G by GROUP_2:42;
  B2: h in H;
  then h |^ a = (f|H).h by A2
             .= y by B1;
  hence y in H |^ a by B2,GROUP_3:58;
end;
\nwused{\\{NW2hIK2S-2zspfg-1}}\nwendcode{}\nwbegindocs{30}\nwdocspar

\begin{proof}[{Proof step 2 ($\forall y\in G, y \in f(H)\impliedby y\in H^{a}$)}.]
The proof in the backwards direction begins with $y\in H^{a}$ must look
like $y = g^{a}$ for some $g\in H$ by Theorem~\mml[Th58]{group3}\MizThm{GROUP\_3}{58},
and showing $y = f(g)$, which amounts to ``plug it in''.
\end{proof}

\nwenddocs{}\nwbegincode{31}\sublabel{NW2hIK2S-1b1ocA-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-1b1ocA-1}}}\moddef{Proof $\forall y\in G, y \in f(H)\impliedby y\in H^{a}$~{\nwtagstyle{}\subpageref{NW2hIK2S-1b1ocA-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-2zspfg-1}}\nwenddeflinemarkup
proof
  let y be Element of G;
  assume y in H |^ a;
  then consider g being Element of G such that
  B1:    y=g|^a and
  B2:    g in H
  by GROUP_3:58;

  B3: (f|H).g = f.g by Th1,B2
             .= g |^ a by A1
             .= y by B1;
  thus y in Image(f|H) by B2,B3,GROUP_6:45;
end;
\nwused{\\{NW2hIK2S-2zspfg-1}}\nwendcode{}\nwbegindocs{32}\nwdocspar

\begin{theorem}[Kernel of inner automorphism is trivial]\label{thm:characteristic:inner:ker-of-inner-is-trivial}
Let $G$ be a group, $\varphi\in\End(G)$ be defined by $\forall x\in
G,\varphi(x)=x^{a}$ for some fixed $a\in G$.
Then $\ker(\varphi)=\trivialSubgroup_{G}$.
\end{theorem}

We are proving something a little
more general, namely, any endomorphism $f\colon G\to G$ defined by
$f(x)=x^{a}$ (for some fixed $a\in G$) will have a trivial kernel.

\begin{proof}[Proof outline]
If $\varphi\in\End(G)$ is defined as $\forall x\in G,\varphi(x)=x^{a}$
for some fixed $a\in G$, then we will prove
$\ker(\varphi)\subgroup\trivialSubgroup_{G}$. We know from Theorem~\mml[Th65]{group2}%
\MizThm{GROUP\_2}{65} that $\trivialSubgroup_{G}\subgroup\ker(\varphi)$.
Since one is subgroup of the other (and vice-versa), we know from
Theorem~\mml[Th55]{group2}\MizThm{GROUP\_2}{55} they must be equal as subgroups.
\end{proof}

\nwenddocs{}\nwbegincode{33}\sublabel{NW2hIK2S-3fLhao-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-3fLhao-1}}}\moddef{Theorem: Kernel of conjugation as endomorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-3fLhao-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
theorem Th29:
  for a being Element of G
  for f being Endomorphism of G
  st (for x being Element of G holds f.x = x |^ a)
  holds Ker f = (1).G
proof
  let a be Element of G;
  let f be Endomorphism of G;
  assume A1: for x being Element of G holds f.x = x |^ a;
  for x being Element of G holds x in Ker f implies x in (1).G
  \LA{}Proof $\ker(f)\subset\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW2hIK2S-1msO16-1}}\RA{}
  then A2: Ker f is Subgroup of (1).G by GROUP_2:58;

  A3: (1).G is Subgroup of Ker f by GROUP_2:65;
  thus Ker f = (1).G by A2,A3,GROUP_2:55;
end;
\nwindexdefn{\nwixident{Th29}}{Th29}{NW2hIK2S-3fLhao-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th29}}{Th29}}}\nwendcode{}\nwbegindocs{34}\nwdocspar
\begin{proof}[Sub-proof ($\ker(f)\subset\trivialSubgroup$)]
Let $x\in\ker(f)$ be arbitrary, then $f(x)=1_{G}$. But this means $x=1_{G}$
(according to Theorem~\mml[Th18]{group3}\MizThm{GROUP\_3}{18}). Thus
$x\in\trivialSubgroup_{G}$ by definition of the trivial subgroup.
\end{proof}

\nwenddocs{}\nwbegincode{35}\sublabel{NW2hIK2S-1msO16-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-1msO16-1}}}\moddef{Proof $\ker(f)\subset\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW2hIK2S-1msO16-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-3fLhao-1}}\nwenddeflinemarkup
proof
  let x be Element of G;
  assume x in Ker f;
  then 1_G = f.x by GROUP_6:41
          .= x |^ a by A1;
  then x = 1_G by GROUP_3:18;
  hence x in (1).G by GROUP_2:46;
end;
\nwused{\\{NW2hIK2S-3fLhao-1}}\nwendcode{}\nwbegindocs{36}\nwdocspar

\begin{theorem}[{Conjugation by fixed element is an automorphism}]\label{thm:characteristic:inner:conjugation-by-fixed-element-is-an-automorphism}
Let $G$ be a group, $a\in G$ a fixed element.
The endomorphism $\varphi\colon G\to G$ defined by $\varphi(x)=x^{a}$ is, in fact,
an automorphism of $G$.
\end{theorem}

\begin{proof}[Proof outline]
We establish $\varphi$ is injective because it has a trivial kernel
(thanks to Theorem~\ref{thm:characteristic:inner:ker-of-inner-is-trivial} and
Theorem~\mml[Th56]{group6}\MizThm{GROUP\_6}{56}).
We then prove $\psi\in\End(G)$ exists such that $\varphi\circ\psi=\id_{G}$.
The existence of such a $\psi$ implies $\rng(\varphi)=G$, which implies
$\varphi$ is surjective. We then have $\varphi$, being both injective
and surjective, is bijective and moreover an automorphism.
\end{proof}

\nwenddocs{}\nwbegincode{37}\sublabel{NW2hIK2S-VBRVv-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-VBRVv-1}}}\moddef{Theorem: Conjugation by fixed element is an automorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-VBRVv-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
theorem Th30:
  for a being Element of G
  for f being Endomorphism of G
  st (for x being Element of G holds f.x = x |^ a)
  holds f is Automorphism of G
proof
  let a be Element of G;
  let f be Endomorphism of G;
  assume A1: for x being Element of G holds f.x = x |^ a;
  then Ker f = (1).G by Th29;
  then A2: f is one-to-one by GROUP_6:56;
  ex fInv being Endomorphism of G st f*fInv = id (the carrier of G)
  \LA{}Proof an endomorphism $f^{-1}$ exists~{\nwtagstyle{}\subpageref{NW2hIK2S-a3qbq-1}}\RA{}

  then f is onto by FUNCT_2:18;
  hence f is Automorphism of G by A2;
end;
\nwindexdefn{\nwixident{Th30}}{Th30}{NW2hIK2S-VBRVv-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th30}}{Th30}}}\nwendcode{}\nwbegindocs{38}\nwdocspar
\begin{proof}[Sub-proof (Existence of inverse of conjugation)]
This is the long part of the proof, its length owing to showing every
detail. We can construct $\psi(x)=x^{a^{-1}}$ as a function of the
underlying set of the group. We just need to prove this is an
endomorphism (suffices to prove it respects the group binary operation),
and that $\psi$ is the inverse function of $\varphi$.
\end{proof}

\nwenddocs{}\nwbegincode{39}\sublabel{NW2hIK2S-a3qbq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-a3qbq-1}}}\moddef{Proof an endomorphism $f^{-1}$ exists~{\nwtagstyle{}\subpageref{NW2hIK2S-a3qbq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-VBRVv-1}}\nwenddeflinemarkup
proof
  deffunc F(Element of G) = ($1) |^ a";
  consider fInv be Function of the carrier of G, the carrier of G such that
  A3: for g being Element of G holds fInv.g = F(g) from FUNCT_2:sch 4;
  \LA{}Establish $f^{-1}$ is an Endomorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-lTiQo-1}}\RA{}
  \LA{}Establish $f^{-1}$ is the inverse function of $f$~{\nwtagstyle{}\subpageref{NW2hIK2S-oixct-1}}\RA{}
  hence thesis;
end;
\nwused{\\{NW2hIK2S-VBRVv-1}}\nwendcode{}\nwbegindocs{40}\nwdocspar

\begin{proof}[Sub-proof ($\psi$ is inverse function of $\varphi$).]
The proof is straightforward, simply compose the functions together and
show we get the identity function. We just have to unwind a lot of
definitions.
\end{proof}

\nwenddocs{}\nwbegincode{41}\sublabel{NW2hIK2S-oixct-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-oixct-1}}}\moddef{Establish $f^{-1}$ is the inverse function of $f$~{\nwtagstyle{}\subpageref{NW2hIK2S-oixct-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-a3qbq-1}}\nwenddeflinemarkup
for x being Element of G holds (f*fInv).x = (id the carrier of G).x
proof
  let x be Element of G;
  (f * fInv).x = f.(fInv.x) by FUNCT_2:15
              .= f.(x |^ a") by A3
              .= (x |^ a") |^ a by A1
              .= x |^ (a" * a) by GROUP_3:24
              .= x |^ 1_G by GROUP_1:def 5
              .= x by GROUP_3:19
              .= (id the carrier of G).x;
  hence thesis;
end;
then f*fInv = id the carrier of G;
\nwused{\\{NW2hIK2S-a3qbq-1}}\nwendcode{}\nwbegindocs{42}\nwdocspar

\begin{proof}[Sub-proof ($\psi$ is an endomorphism)]
We need to show $\psi(x_{1}x_{2})=\psi(x_{1})\psi(x_{2})$, which follows
from the results of conjugation from the article~\mml{group3}.
\end{proof}

\nwenddocs{}\nwbegincode{43}\sublabel{NW2hIK2S-lTiQo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-lTiQo-1}}}\moddef{Establish $f^{-1}$ is an Endomorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-lTiQo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-a3qbq-1}}\nwenddeflinemarkup
for x1,x2 being Element of G holds fInv.(x1 * x2) = fInv.x1 * fInv.x2
proof
  let x1,x2 be Element of G;
  A4: fInv.x1 = x1 |^ a" & fInv.x2 = x2 |^ a" by A3;
  fInv.(x1 * x2) = (x1 * x2) |^ a" by A3
                .= (x1 |^ a") * (x2 |^ a") by GROUP_3:23
                .= fInv.x1 * fInv.x2 by A4;
  hence thesis;
end;
then reconsider fInv as Endomorphism of G by GROUP_6:def 6;
\nwused{\\{NW2hIK2S-a3qbq-1}}\nwendcode{}\nwbegindocs{44}\nwdocspar

\begin{corollary}\label{thm:characteristic:inner:conjugation-as-endomorphism-is-inner-automorphism}
Given a group element $a\in G$, we can always construct an
inner automorphism $f\in\Inn(G)$ defined by
$\forall x\in G,f(x)=x^{a}=a^{-1}xa$ conjugation by $a$.
\end{corollary}

\begin{proof}
We have shown in Theorem~\ref{thm:characteristic:inner:conjugation-by-fixed-element-is-an-automorphism} that conjugation is an automorphism, and by
definition it is inner.
\end{proof}

\nwenddocs{}\nwbegincode{45}\sublabel{NW2hIK2S-47V7KL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-47V7KL-1}}}\moddef{Corollary: conjugation of given element is an \emph{inner} automorphism~{\nwtagstyle{}\subpageref{NW2hIK2S-47V7KL-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
theorem Th31:
  for a being Element of G
  for f being Endomorphism of G
  st (for x being Element of G holds f.x = x |^ a)
  holds f is inner Automorphism of G by Th30,Def2;
\nwindexdefn{\nwixident{Th31}}{Th31}{NW2hIK2S-47V7KL-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th31}}{Th31}}}\nwendcode{}\nwbegindocs{46}\nwdocspar
\begin{theorem}[Constructing inner automorphisms]
Let $a\in G$ be a group element. Then there exists an inner automorphism
$\varphi\in\Inn(G)$ such that for any $x\in G$ we have $\varphi(x)=x^{a}$.
\end{theorem}

\begin{proof}
We can show that, for any $a\in G$, we can construct a function of the
underlying set of $G$ to itself $\varphi\colon G\to G$ defined by
$\forall x\in G, \varphi(x)=x^{a}$. We have to show this is an
endomorphism, i.e., for any $x_{1},x_{2}\in G$ that
$\varphi(x_{1}x_{2})=\varphi(x_{1})\varphi(x_{2})$. The result follows
thanks to Corollary~\ref{thm:characteristic:inner:conjugation-as-endomorphism-is-inner-automorphism}.
\end{proof}

\begin{thm-remark}[Motivation]
Given a group $G$ and suppose we have an element $a\in G$, can we
construct an inner automorphism $f\in\Inn(G)$ such that
$\forall x\in G, f(x) = x^{a}$? Yes, we can do it!
A wiser way to organize these results may be to first show such an $f$
is an Endomorphism and it exists, then use that result in the proof that
it's an automorphism, and so on.
\end{thm-remark}

\nwenddocs{}\nwbegincode{47}\sublabel{NW2hIK2S-arh13-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-arh13-1}}}\moddef{Theorem: constructing inner automorphisms from group elements~{\nwtagstyle{}\subpageref{NW2hIK2S-arh13-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
theorem Th32:
  for a being Element of G
  holds ex f being inner Automorphism of G st (for x being Element of G
  holds f.x = x |^ a)
proof
  let a be Element of G;
  deffunc F(Element of G) = ($1) |^ a;
  consider f be Function of the carrier of G, the carrier of G such that
A1: for g being Element of G holds f.g = F(g) from FUNCT_2:sch 4;
  for x1,x2 being Element of G holds f.(x1 * x2) = f.x1 * f.x2
  proof
    let x1,x2 be Element of G;
    A2: f.x1 = x1 |^ a & f.x2 = x2 |^ a by A1;
    f.(x1 * x2) = (x1 * x2) |^ a by A1
               .= (x1 |^ a) * (x2 |^ a) by GROUP_3:23
               .= f.x1 * f.x2 by A2;
    hence thesis;
  end;
  then reconsider f as Endomorphism of G by GROUP_6:def 6;
  for x being Element of G holds f.x = x |^ a & f is inner Automorphism of G
  by A1,Th31;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th32}}{Th32}{NW2hIK2S-arh13-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th32}}{Th32}}}\nwendcode{}\nwbegindocs{48}\nwdocspar
\begin{theorem}\label{thm:characteristic:inner:subgroup-is-normal-iff-invariant-under-every-inner-automorphism}
  Let $H\subgroup G$ be an arbitrary subgroup.
  Then $\forall\varphi\in\Inn(G),\varphi(H)=H$ if and only if
  $H\normalSubgroup G$.
\end{theorem}

\begin{thm-remark}
This is another, ``Well, I guess Mizar should have this, but I can't
find it, so here we go!''-type proof. The only quirk is the use of
{\Tt{}strict\ Subgroup\nwendquote}, which is necessary because otherwise {\Tt{}H\ |{\char94}\ a\nwendquote} is
strictly speaking a {\Tt{}multMagma\nwendquote}, not a subgroup. And to assert two
subgroups are equal, we need a {\Tt{}strict\nwendquote} subgroup, which requires
adding a {\Tt{}strict\nwendquote} hypothesis.
\end{thm-remark}

\begin{thm-remark}[On \texttt{strict} hypothesis]
The {\Tt{}strict\nwendquote} condition is necessary to prove $H\normalSubgroup G$
implies $\forall\varphi\in\Inn(G),\varphi(H)=H$. Otherwise, we end up
with the slightly peculiar situation where $\varphi(H) = $
{\Tt{}the\ multMagma\ of\ \nwendquote}$H$, which isn't terrible, but requires additional
steps later on in proving ``$K\subgroup N$ is characteristic and
$N\normalSubgroup G$ is {\Tt{}strict\nwendquote} normal implies $K\normalSubgroup G$.''
\end{thm-remark}

\nwenddocs{}\nwbegincode{49}\sublabel{NW2hIK2S-4Qqcti-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-4Qqcti-1}}}\moddef{Theorem: inner Automorphisms fix only normal Subgroups~{\nwtagstyle{}\subpageref{NW2hIK2S-4Qqcti-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-UGF1u-1}}\nwenddeflinemarkup
theorem Th33:
  for H being strict Subgroup of G
  holds (H is normal) iff (for f being inner Automorphism of G
                           holds Image(f|H)=H)
proof
  let H be strict Subgroup of G;
  A1: (H is normal) implies (for f being inner Automorphism of G
                             holds Image(f|H)=H)
  \LA{}Proof: normal implies fixed by inner automorphisms~{\nwtagstyle{}\subpageref{NW2hIK2S-ZiHjv-1}}\RA{}
  A2: not ((for f being inner Automorphism of G holds Image(f|H)=H)
           implies H is normal)
  implies contradiction
  \LA{}Proof by contradiction: fixed by inner automorphisms implies normal~{\nwtagstyle{}\subpageref{NW2hIK2S-3U116k-1}}\RA{}
  thus thesis by A1,A2;
end;
\nwindexdefn{\nwixident{Th33}}{Th33}{NW2hIK2S-4Qqcti-1}\eatline
\nwused{\\{NW2hIK2S-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th33}}{Th33}}}\nwendcode{}\nwbegindocs{50}\nwdocspar
\begin{proof}[Sub-proof (normal implies fixed by inner automorphisms)]
Assume $H\normalSubgroup G$ is a normal subgroup. Let
$\varphi\in\Inn(G)$ be an arbitrary inner automorphism. We have
$\varphi(x)=x^{a}$ for some fixed $a\in G$ and for any $x\in G$. Then
$\varphi(H) = H^{a}$ by Theorem~\ref{thm:characteristic:inner:image-of-inner-automorphism-on-subgroup} and $H^{a}=H$ by Definition~\mml[def13]{group3}%
\MizDef{GROUP\_3}{13} and definition of equality for
subgroups \mml[def6]{group2}\MizDef{GROUP\_2}{6}. Thus the result.
\end{proof}

\nwenddocs{}\nwbegincode{51}\sublabel{NW2hIK2S-ZiHjv-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-ZiHjv-1}}}\moddef{Proof: normal implies fixed by inner automorphisms~{\nwtagstyle{}\subpageref{NW2hIK2S-ZiHjv-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-4Qqcti-1}}\nwenddeflinemarkup
proof
  assume B1: H is normal;
  let f be inner Automorphism of G;
  consider a being Element of G such that
  B2: for x being Element of G holds f.x = x |^ a
  by Def2;
  Image(f|H) = H |^ a by B2,Th28
            .= the multMagma of H by B1,GROUP_3:def 13
            .= H;
  hence Image(f|H)=H;
end;
\nwused{\\{NW2hIK2S-4Qqcti-1}}\nwendcode{}\nwbegindocs{52}\nwdocspar

\begin{proof}[Sub-proof (fixed by inner automorphisms implies normal)]
We prove by contradiction, assuming $\forall\varphi\in\Inn(G)$ that $\varphi(H)=H$
but assuming for contradiction that $H$ is not a normal subgroup. We run
into the situation where $\varphi(H) = H^{a} = H$. But a subgroup is
normal if and only if $H^{a}=H$. Thus the contradiction.
\end{proof}

\begin{thm-remark}[Proof by contradiction in Mizar]\index{Proof!by Contradiction}
Mizar's proof by contradiction is rather curious. If we want to prove
$P\implies Q$ by contradiction, we assert $\neg(P\implies
Q)\implies\bot$. The proof we offer is about as satisfying as any other
proof by contradiction.
\end{thm-remark}

\nwenddocs{}\nwbegincode{53}\sublabel{NW2hIK2S-3U116k-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2hIK2S-3U116k-1}}}\moddef{Proof by contradiction: fixed by inner automorphisms implies normal~{\nwtagstyle{}\subpageref{NW2hIK2S-3U116k-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2hIK2S-4Qqcti-1}}\nwenddeflinemarkup
proof
  assume B1: for f being inner Automorphism of G holds Image(f|H)=H;
  assume not H is normal;
  then consider a being Element of G such that
  B2: H |^ a <> the multMagma of H
  by GROUP_3:def 13;
  consider f being inner Automorphism of G such that
  B3: (for x being Element of G holds f.x= x |^ a)
  by Th32;
  Image(f|H) = H |^ a by B3, Th28;
  hence contradiction by B1,B2;
end;
\nwused{\\{NW2hIK2S-4Qqcti-1}}\nwendcode{}\nwbegindocs{54}\nwdocspar
\nwenddocs{}\nwfilename{nw/001-characteristic/results.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\section{Characteristic Subgroups}\label{sec:characteristic:results}
We now arrive at the meat of the matter: characteristic subgroups!

\nwenddocs{}\nwbegincode{1}\sublabel{NW2llOmu-3NltVm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-3NltVm-1}}}\moddef{Characteristic subgroups~{\nwtagstyle{}\subpageref{NW2llOmu-3NltVm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1Vve9X-1}}\nwenddeflinemarkup
\LA{}Definition: \code{}characteristic\edoc{} attribute~{\nwtagstyle{}\subpageref{NW2llOmu-qejLV-1}}\RA{}

\LA{}Lemma: trivial subgroup is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW2llOmu-HjATr-1}}\RA{}

\LA{}Theorem: Existence of characteristic subgroups~{\nwtagstyle{}\subpageref{NW2llOmu-3KEBxf-1}}\RA{}

\LA{}Register \code{}characteristic\edoc{} as attribute for Subgroup~{\nwtagstyle{}\subpageref{NW2llOmu-1HIoHq-1}}\RA{}
\LA{}Register \code{}strict\edoc{} \code{}characteristic\edoc{} for Subgroups~{\nwtagstyle{}\subpageref{NW2llOmu-2iAFXC-1}}\RA{}

\LA{}Theorem: characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW2llOmu-xos9m-1}}\RA{}

\LA{}Register characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW2llOmu-24pxt5-1}}\RA{}

\LA{}Theorem: two group morphisms which coincide on subgroup have the same image~{\nwtagstyle{}\subpageref{NW2llOmu-2MyoVP-1}}\RA{}

\LA{}Theorem: unique subgroup of order $n$ is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW2llOmu-3r3l0M-1}}\RA{}

\LA{}Theorem: characteristic subgroup of a normal subgroup is normal~{\nwtagstyle{}\subpageref{NW2llOmu-4WQdGY-1}}\RA{}

\LA{}Theorem: transitivity of characteristic subgroups~{\nwtagstyle{}\subpageref{NW2llOmu-2ur0LT-1}}\RA{}

\LA{}Theorem: $H\subgroup G$ is characteristic iff $\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW2llOmu-4Z20G4-1}}\RA{}

\LA{}Theorem: $Z(G)$ is characteristic subgroup~{\nwtagstyle{}\subpageref{NW2llOmu-g56Nl-1}}\RA{}

\LA{}Scheme: if $H\subgroup G\land P[H]$ and $\forall\varphi\in\Aut(G),P[\varphi(H)]$, then $\bigcap\{H\subgroup G\mid P[H]\}$ is $\Aut(G)$-invariant~{\nwtagstyle{}\subpageref{NW2llOmu-3pFvE5-1}}\RA{}

\LA{}Scheme: $\bigcap\{A\subset G\mid\exists H\subgroup G, A=H, P[H]\}$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-5CDvr-1}}\RA{}

\LA{}Theorem: $\FrattiniSubgroup(G)$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-1wEepZ-1}}\RA{}

\LA{}Theorem: $\forall\varphi\in G,\varphi(\Commutators(G))=\Commutators(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-1BwBWL-1}}\RA{}

\LA{}Theorem: $\forall h\in H,\varphi(h)\in H$ implies $\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW2llOmu-3M3ox1-1}}\RA{}

\LA{}Theorem: $A\subset G$ s.t. $\forall\varphi\in\Aut(G),\varphi(A)=A$, then $\langle A\rangle$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-3lDAoY-1}}\RA{}

\LA{}Theorem: The derived subgroup is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-44iz0d-1}}\RA{}

\LA{}Theorem: $H\subgroup G, a\in G$, $\varphi(aH)=\varphi(a)\varphi(H)$~{\nwtagstyle{}\subpageref{NW2llOmu-TIqNK-1}}\RA{}

\LA{}Theorem: $H\subgroup G, a\in G$, $\varphi(Ha)=\varphi(H)\varphi(a)$~{\nwtagstyle{}\subpageref{NW2llOmu-4LQhDT-1}}\RA{}

\LA{}Theorem: $N\normalSubgroup G$, $\varphi\in\Aut(G)$ implies $\varphi(N)\normalSubgroup G$~{\nwtagstyle{}\subpageref{NW2llOmu-17HxJc-1}}\RA{}

\LA{}Theorem: $H\subgroup G$ characteristic $\iff\forall\varphi\in\Aut(G)\forall x\in H,\varphi(x)\in H$~{\nwtagstyle{}\subpageref{NW2llOmu-2u8tjJ-1}}\RA{}

\LA{}Theorem: $H,K\subgroup G$ characteristic implies $H\cap K$ characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-ycPYy-1}}\RA{}

\LA{}Theorem: $H,K\subgroup G$ characteristic implies $\langle H, K\rangle$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-2FHlHr-1}}\RA{}

\LA{}Theorem: $H,K\subgroup G$ characteristic implies ${\rm Commutators}(H,K)$ is stable~{\nwtagstyle{}\subpageref{NW2llOmu-41VHSD-1}}\RA{}

\LA{}Theorem: $H,K\subgroup G$ characteristic implies $[H,K]$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-E9Ys0-1}}\RA{}
\nwused{\\{NWUmZ11-1Vve9X-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{definition}[{Dummit and Foote~\cite[\S4.4]{dummit-foote}}]\index{Subgroup!Characteristic}\index{Characteristic!Subgroup}\label{defn:characteristic:results:characteristic-subgroup}
A subgroup $H$ of $G$ is called \define{Characteristic} in $G$, usually
denoted $H~\mathrm{char}~G$, if every Automorphism of $G$ maps $H$ to
itself; i.e., $\sigma(H)=H$ for all $\sigma\in\aut(G)$.
\end{definition}

\begin{def-remark}
The other definition which is routinely given is that $H$ is a
characteristic subgroup of $G$ if for any $\varphi\in\Aut(G)$ we have
$\varphi(H)\subgroup H$. We prove this later as equivalent in Theorem~\ref{thm:results:alt-def-of-char-subgroup}.
\end{def-remark}
\begin{def-remark}
We need to formalize this definition to make the image equal to
\lstinline{the multMagma of IT} because subgroup equality is defined
only for strict subgroups. If we tried just using the ``obvious''
definition, ``\lstinline{Image(f|IT) = IT}'', then a neferious Mizar
user could obtain inconsistent results by clever means.
\end{def-remark}

\nwenddocs{}\nwbegincode{3}\sublabel{NW2llOmu-qejLV-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-qejLV-1}}}\moddef{Definition: \code{}characteristic\edoc{} attribute~{\nwtagstyle{}\subpageref{NW2llOmu-qejLV-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
:: Dummit and Foote, Abstract Algebra, ch.4 section 4
definition
  let G;
  let IT be Subgroup of G;
  attr IT is characteristic means
  :Def3:
  for f being Automorphism of G
  holds Image (f|IT) = the multMagma of IT;
end;
\nwindexdefn{\nwixident{Def3}}{Def3}{NW2llOmu-qejLV-1}\nwindexdefn{\nwixident{characteristic}}{characteristic}{NW2llOmu-qejLV-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Def3}}{Def3}}}\nwendcode{}\nwbegindocs{4}\nwdocspar
\begin{voc}
Before rushing off to prove properties concerning characteristic
subgroups, we have to tell Mizar that \lstinline|characteristic| is now
a token that should be associated with Definition~\ref{defn:characteristic:results:characteristic-subgroup}.
\end{voc}

\nwenddocs{}\nwbegincode{5}\sublabel{NW2llOmu-1hUeyM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1hUeyM-1}}}\moddef{DICT/GROUP-22.VOC~{\nwtagstyle{}\subpageref{NW2U3g6J-1hUeyM-1}}}\plusendmoddef\nwstartdeflinemarkup\nwprevnextdefs{NW2hIK2S-1hUeyM-1}{\relax}\nwenddeflinemarkup
Vcharacteristic
\nwendcode{}\nwbegindocs{6}\nwdocspar



\begin{lemma}
  For any group $G$, its trivial subgroup $\trivialSubgroup$ is characteristic.
\end{lemma}

\nwenddocs{}\nwbegincode{7}\sublabel{NW2llOmu-HjATr-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-HjATr-1}}}\moddef{Lemma: trivial subgroup is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW2llOmu-HjATr-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
\LA{}Lemma: if $H\subgroup\trivialGroup$, then $H=\trivialGroup$~{\nwtagstyle{}\subpageref{NW2llOmu-1tYS7d-1}}\RA{}

Lm7: (1).G is characteristic
proof
  for f being Automorphism of G holds Image(f|(1).G) = (1).G
  proof
    let f be Automorphism of G;
    reconsider I = Image(f|(1).G) as Subgroup of (1).G by Th14;
    (1).G = I by Lm8;
    hence Image(f|(1).G) = (1).G;
  end;
  hence (1).G is characteristic;
end;
\nwindexdefn{\nwixident{Lm7}}{Lm7}{NW2llOmu-HjATr-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Lm7}}{Lm7}}}\nwendcode{}\nwbegindocs{8}\nwdocspar
\begin{lemma}
For any subgroup $H\subgroup G$, if $\trivialSubgroup_{G}\subgroup H$
and $H\subgroup\trivialSubgroup_{G}$, then $H=\trivialSubgroup_{G}$.
\end{lemma}

\begin{lem-remark}
I couldn't quite find this anywhere in the MML, so I had to prove it
myself.
\end{lem-remark}
\begin{lem-remark}[To do]
I think I prove this result several times, I should refactor my code accordingly.
\end{lem-remark}

\nwenddocs{}\nwbegincode{9}\sublabel{NW2llOmu-1tYS7d-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1tYS7d-1}}}\moddef{Lemma: if $H\subgroup\trivialGroup$, then $H=\trivialGroup$~{\nwtagstyle{}\subpageref{NW2llOmu-1tYS7d-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-HjATr-1}}\nwenddeflinemarkup
Lm8: H is Subgroup of (1).G implies the multMagma of H = the multMagma of (1).G
proof
  assume H is Subgroup of (1).G;
  then reconsider H as Subgroup of (1).G;
  H is Subgroup of (1).G & (1).G is Subgroup of H by GROUP_2:65;
  hence thesis by GROUP_2:55;
end;
\nwindexdefn{\nwixident{Lm8}}{Lm8}{NW2llOmu-1tYS7d-1}\eatline
\nwused{\\{NW2llOmu-HjATr-1}}\nwidentdefs{\\{{\nwixident{Lm8}}{Lm8}}}\nwendcode{}\nwbegindocs{10}\nwdocspar
\begin{theorem}[Existence of a characteristic subgroup]
For any group $G$, there exists a subgroup $H\subgroup G$ which is characteristic.
\end{theorem}
\begin{proof}[Proof outline]
The trivial subgroup is a subgroup of any group. And it is
characteristic. Thus the result.
\end{proof}

\nwenddocs{}\nwbegincode{11}\sublabel{NW2llOmu-3KEBxf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-3KEBxf-1}}}\moddef{Theorem: Existence of characteristic subgroups~{\nwtagstyle{}\subpageref{NW2llOmu-3KEBxf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup

theorem Th34:
  ex H st H is characteristic
proof
  take H = (1).G;
  thus H is characteristic by Lm7;
end;
\nwindexdefn{\nwixident{Th34}}{Th34}{NW2llOmu-3KEBxf-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th34}}{Th34}}}\nwendcode{}\nwbegindocs{12}\nwdocspar
\begin{registration}
Now we can instruct Mizar to recognize {\Tt{}characteristic\nwendquote} as an
adjective of {\Tt{}Subgroup\nwendquote}.
\end{registration}

\nwenddocs{}\nwbegincode{13}\sublabel{NW2llOmu-1HIoHq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1HIoHq-1}}}\moddef{Register \code{}characteristic\edoc{} as attribute for Subgroup~{\nwtagstyle{}\subpageref{NW2llOmu-1HIoHq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwprevnextdefs{\relax}{NW2llOmu-1HIoHq-2}\nwenddeflinemarkup
registration
  let G;
  cluster characteristic for Subgroup of G;
  existence by Th34;
end;
\nwalsodefined{\\{NW2llOmu-1HIoHq-2}}\nwused{\\{NW2llOmu-3NltVm-1}}\nwendcode{}\nwbegindocs{14}\nwdocspar

\begin{reserve}
We will henceforth use the symbol $K$ to refer to characteristic
subgroups of $G$, unless otherwise stated.
\end{reserve}


\nwenddocs{}\nwbegincode{15}\sublabel{NW2llOmu-1HIoHq-2}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1HIoHq-2}}}\moddef{Register \code{}characteristic\edoc{} as attribute for Subgroup~{\nwtagstyle{}\subpageref{NW2llOmu-1HIoHq-1}}}\plusendmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwprevnextdefs{NW2llOmu-1HIoHq-1}{\relax}\nwenddeflinemarkup
reserve K for characteristic Subgroup of G;
\nwused{\\{NW2llOmu-3NltVm-1}}\nwendcode{}\nwbegindocs{16}\nwdocspar

\begin{registration}
We can also register the cluster {\Tt{}strict\nwendquote} {\Tt{}characteristic\nwendquote} for
Subgroups, which will come handy later.
\end{registration}

\nwenddocs{}\nwbegincode{17}\sublabel{NW2llOmu-2iAFXC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2iAFXC-1}}}\moddef{Register \code{}strict\edoc{} \code{}characteristic\edoc{} for Subgroups~{\nwtagstyle{}\subpageref{NW2llOmu-2iAFXC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
registration
  let G be Group;
  cluster strict characteristic for Subgroup of G;
  existence
  proof
    take (1).G;
    thus thesis by Lm7;
  end;
end;
\nwused{\\{NW2llOmu-3NltVm-1}}\nwendcode{}\nwbegindocs{18}\nwdocspar

\begin{theorem}[Characteristic subgroups are normal]
Let $G$ be a group, $K\subgroup G$ a subgroup. If $K$ is a
characteristic subgroup of $G$, then $K\normalSubgroup G$ it is also
normal.
\end{theorem}

\begin{proof}[Proof outline]
We show $K$ is invariant under conjugation, i.e., for any $a\in G$ we
have $K^{a}=K$. Then $K\normalSubgroup G$.
\end{proof}

\nwenddocs{}\nwbegincode{19}\sublabel{NW2llOmu-xos9m-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-xos9m-1}}}\moddef{Theorem: characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW2llOmu-xos9m-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th35:
  K is normal Subgroup of G
proof
  for a being Element of G holds K |^ a = the multMagma of K
  \LA{}Sub-proof: characteristic subgroups invariant under conjugation~{\nwtagstyle{}\subpageref{NW2llOmu-2mkOw1-1}}\RA{}
  hence K is normal Subgroup of G by GROUP_3:def 13;
end;
\nwindexdefn{\nwixident{Th35}}{Th35}{NW2llOmu-xos9m-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th35}}{Th35}}}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{proof}[Sub-proof (characteristic subgroups invariant under conjugation)]
Really, proving a characteristic subgroup is normal amounts to proving
invariance under conjugation. Fortunately, we have established this
along the way! We just have to point to our hard work from earlier.
\end{proof}

\nwenddocs{}\nwbegincode{21}\sublabel{NW2llOmu-2mkOw1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2mkOw1-1}}}\moddef{Sub-proof: characteristic subgroups invariant under conjugation~{\nwtagstyle{}\subpageref{NW2llOmu-2mkOw1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-xos9m-1}}\nwenddeflinemarkup
proof
  let a be Element of G;
  consider f being inner Automorphism of G such that
  A2: for x being Element of G holds f.x = x |^ a
  by Th32;
  the multMagma of K = Image(f|K) by Def3
                    .= K |^ a by A2,Th28;
  hence thesis;
end;
\nwused{\\{NW2llOmu-xos9m-1}}\nwendcode{}\nwbegindocs{22}\nwdocspar

\begin{registration}
Now we can register this fact with Mizar, so it will be automatically
accounted for in future proofs. Since we made this fact a proof, we just
have to tell Mizar where to find the proof.
\end{registration}

\nwenddocs{}\nwbegincode{23}\sublabel{NW2llOmu-24pxt5-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-24pxt5-1}}}\moddef{Register characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW2llOmu-24pxt5-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
registration
  let G be Group;
  cluster characteristic -> normal for Subgroup of G;
  coherence by Th35;
end;
\nwused{\\{NW2llOmu-3NltVm-1}}\nwendcode{}\nwbegindocs{24}\nwdocspar

% Theorem 38
\begin{theorem}
If we have two morphisms $f\colon G_{1}\to G_{2}$ and $g\colon H_{1}\to
H_{2}$, where $H_{1}\subgroup G_{1}$ and $H_{2}\subgroup G_{2}$, and if
we have a common subgroup $K\subgroup H_{1}\subgroup G_{1}$, then the
image of the morphisms on this shared subgroup should coincide.
\end{theorem}

\begin{proof}[Proof outline]
  Let $f\colon G_{1}\to G_{2}$ be a group morphism, let $H_{1}\subgroup G_{1}$
  and $H_{2}\subgroup G_{2}$ be subgroups, let $g\colon H_{1}\to H_{2}$.
  If $K\subgroup H_{1}$ is a subgroup for which $g|_{K}=f|_{K}$, then $f(K)=g(K)$.
\end{proof}


\begin{thm-remark}
The heavy lifting is done by a straightforward and intuitive result.

Initially, I had a more conservative result: let $\varphi,\psi\in\Aut(G)$
and $H\subgroup G$, if $\forall h\in H,\varphi(h)=\psi(h)$, then
$\varphi(H)=\psi(H)$. Then I realized this didn't describe the situation
I was facing, so I revised it to fit. Then I realized I didn't need the
hypothesis that $\varphi$ and $\psi$ were automorphisms, they could be
generic morphisms.
\end{thm-remark}

\nwenddocs{}\nwbegincode{25}\sublabel{NW2llOmu-2MyoVP-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2MyoVP-1}}}\moddef{Theorem: two group morphisms which coincide on subgroup have the same image~{\nwtagstyle{}\subpageref{NW2llOmu-2MyoVP-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th36:
  for G1,G2 being Group
  for H1 being Subgroup of G1
  for K being Subgroup of H1
  for H2 being Subgroup of G2
  for f being Homomorphism of G1,G2
  for g being Homomorphism of H1,H2
  st (for k being Element of G1 st k in K holds f.k=g.k)
  holds Image(f|K) = Image(g|K)
proof
  let G1,G2 be Group;
  let H1 be Subgroup of G1;
  let K be Subgroup of H1;
  let H2 be Subgroup of G2;
  let f be Homomorphism of G1,G2;
  let g be Homomorphism of H1,H2;
  assume A1: for k being Element of G1 st k in K holds f.k=g.k;
  A2: Image(f|K) is strict Subgroup of G2 &
      Image(g|K) is strict Subgroup of G2 by GROUP_2:56;
  for y being object
  holds y in the carrier of Image(f|K) iff y in the carrier of Image(g|K)
  \LA{}Proof: $y\in f(K)\iff y\in g(K)$~{\nwtagstyle{}\subpageref{NW2llOmu-1JehLA-1}}\RA{}
  hence Image(f|K) = Image(g|K) by A2,GROUP_2:59,TARSKI:2;
end;
\nwindexdefn{\nwixident{Th36}}{Th36}{NW2llOmu-2MyoVP-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th36}}{Th36}}}\nwendcode{}\nwbegindocs{26}\nwdocspar
\begin{proof}[Sub-proof ($\forall y,y\in f(K)\iff y\in g(K)$)]
  We show, for any $y$, that both $y\in f(K)\implies y\in g(K)$ and
  $y\in f(K)\impliedby y\in g(K)$. Taken together, this gives us
  $y\in f(K)\iff y\in g(K)$.
\end{proof}

\nwenddocs{}\nwbegincode{27}\sublabel{NW2llOmu-1JehLA-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1JehLA-1}}}\moddef{Proof: $y\in f(K)\iff y\in g(K)$~{\nwtagstyle{}\subpageref{NW2llOmu-1JehLA-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-2MyoVP-1}}\nwenddeflinemarkup
proof
  let y be object;
  thus y in the carrier of Image(f|K) implies y in the carrier of Image(g|K)
  \LA{}Proof: $y\in f(K)\implies y\in g(K)$~{\nwtagstyle{}\subpageref{NW2llOmu-1yCGg9-1}}\RA{}
  thus y in the carrier of Image(g|K) implies y in the carrier of Image(f|K)
  \LA{}Proof: $y\in g(K)\implies y\in f(K)$~{\nwtagstyle{}\subpageref{NW2llOmu-1aEga6-1}}\RA{}
  thus thesis;
end;
\nwused{\\{NW2llOmu-2MyoVP-1}}\nwendcode{}\nwbegindocs{28}\nwdocspar

\begin{proof}[Sub-proof step 1 ($y\in f(K)\implies y\in g(K)$)]
We have $y\in f(K)$ if there is some $h\in K$ such that $y=f|_{K}(h)$.
But by hypothesis, $f|_{K}(h)=g|_{K}(h)$, and thus $y=g|_{k}(h)\in g(K)$.
\end{proof}

\nwenddocs{}\nwbegincode{29}\sublabel{NW2llOmu-1yCGg9-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1yCGg9-1}}}\moddef{Proof: $y\in f(K)\implies y\in g(K)$~{\nwtagstyle{}\subpageref{NW2llOmu-1yCGg9-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-1JehLA-1}}\nwenddeflinemarkup
proof
  assume y in the carrier of Image(f|K);
  then consider h being Element of K such that
  B1: (f|K).h = y
  by STRUCT_0:def 5,GROUP_6:45;
  B2: h is Element of G1 & h is Element of H1 & h in K by GROUP_2:42;
  f.h = g.h by A1,B2
     .= (g|K).h by B2, Th1;
  then (g|K).h = f.h
              .= (f|K).h by B2,Th1
              .= y by B1;
  hence y in the carrier of Image(g|K) by STRUCT_0:def 5,GROUP_6:45;
end;
\nwused{\\{NW2llOmu-1JehLA-1}}\nwendcode{}\nwbegindocs{30}\nwdocspar

\begin{proof}[Sub-proof step 2 ($y\in g(K)\implies y\in f(K)$)]
  We have $y\in g(K)$ if there is some $h\in K$ such that $y=g|_{K}(h)$.
  But by hypothesis $g|_{K}(h) = f|_{K}(h)$, and thus $y = f|_{K}(h)\in f(K)$.
\end{proof}

\nwenddocs{}\nwbegincode{31}\sublabel{NW2llOmu-1aEga6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1aEga6-1}}}\moddef{Proof: $y\in g(K)\implies y\in f(K)$~{\nwtagstyle{}\subpageref{NW2llOmu-1aEga6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-1JehLA-1}}\nwenddeflinemarkup
proof
  assume y in the carrier of Image(g|K);
  then consider h being Element of K such that
  C1: (g|K).h = y
  by STRUCT_0:def 5,GROUP_6:45;
  C2: h is Element of H1 & h is Element of G1 & h in K by GROUP_2:42;
  g.h = f.h by A1,C2
     .= (f|K).h by C2,Th1;
  then (f|K).h = g.h
              .= (g|K).h by C2,Th1
              .= y by C1;
  hence y in the carrier of Image(f|K) by STRUCT_0:def 5,GROUP_6:45;
end;
\nwused{\\{NW2llOmu-1JehLA-1}}\nwendcode{}\nwbegindocs{32}\nwdocspar


\begin{theorem}
  If $H$ is the unique subgroup of a given order in a group $G$,
  then $H$ is characteristic in $G$.
\end{theorem}

\begin{proof}
Let $H$ be a subgroup of $G$. Assume there are no other subgroups of
order $|H|$. Then for any $\varphi\in\Aut(G)$, we'd have $\varphi(H)=H$
since $\varphi(H)$ has the same order as $H$ by
Theorem~\ref{thm:pure-math:iso-subgroups-have-same-order}, but we
assumed there is only one (namely, $H$).
\end{proof}

\nwenddocs{}\nwbegincode{33}\sublabel{NW2llOmu-3r3l0M-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-3r3l0M-1}}}\moddef{Theorem: unique subgroup of order $n$ is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW2llOmu-3r3l0M-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th37:
  for H being strict Subgroup of G
  st (for K being strict Subgroup of G
      st card K = card H
      holds H = K)
  holds H is characteristic
proof
  let H be strict Subgroup of G;
  assume A1: for K being strict Subgroup of G st card K = card H holds H = K;
  H is characteristic
  proof
    let phi be Automorphism of G;
    Image(phi|H) = phi .: H by GRSOLV_1:def 3;
    then card H = card Image(phi|H) by Th19,GROUP_6:73;
    hence Image(phi|H) = the multMagma of H by A1;
  end;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th37}}{Th37}{NW2llOmu-3r3l0M-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th37}}{Th37}}}\nwendcode{}\nwbegindocs{34}\nwdocspar
\begin{theorem}
If $K\subgroup H$ is characteristic, and if $H\normalSubgroup G$ is normal,
then $K\normalSubgroup G$ is normal.
\end{theorem}

This required a surprising amount of legwork, even when carving it out
into a helper theorem! The ``architecture'' of the proof follows what we
would find in a textbook. It's just that a textbook will gloss over
facts about morphisms which we'd need to prove.

\begin{proof}
Let $K$ be a characteristic subgroup of $N$ and $N\normalSubgroup G$ be
a normal subgroup. Then consider conjugation of $N$ by any element $a\in G$.
This corresponds to an inner Automorphism of $G$, $\varphi\in\Inn(G)$, and an
automorphism $\varphi|_{N}\in\Aut(N)$ of $N$. But since $K$ is
characteristic in $N$, it follows $\varphi|_{N}(K)=K$. Then $K$,
considered as a subgroup of $G$, must be invariant under $\varphi$ and
therefore a normal subgroup of $G$ by Theorem~\ref{thm:characteristic:preparatory:normal-subgroup}.
\end{proof}

\begin{thm-remark}
The {\Tt{}strict\nwendquote} hypothesis on {\Tt{}N\nwendquote} is necessary, since Definition~\mml[def6]{group2}%
\MizDef{GROUP\_2}[06]{6} defines equality only on \emph{strict} subgroups.
\end{thm-remark}

\nwenddocs{}\nwbegincode{35}\sublabel{NW2llOmu-4WQdGY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-4WQdGY-1}}}\moddef{Theorem: characteristic subgroup of a normal subgroup is normal~{\nwtagstyle{}\subpageref{NW2llOmu-4WQdGY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th38:
  for N being strict normal Subgroup of G
  for K being characteristic Subgroup of N
  holds K is normal Subgroup of G
proof
  let N be strict normal Subgroup of G;
  let K be characteristic Subgroup of N;
  for a being Element of G holds K |^ a = the multMagma of K
  \LA{}Proof: $\forall a\in G, K^{a}=K$~{\nwtagstyle{}\subpageref{NW2llOmu-4CFIX3-1}}\RA{}
  hence K is normal Subgroup of G by Th2;
end;
\nwindexdefn{\nwixident{Th38}}{Th38}{NW2llOmu-4WQdGY-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th38}}{Th38}}}\nwendcode{}\nwbegindocs{36}\nwdocspar
\begin{proof}[Sub-proof ($\forall a\in G, K^{a}=K$)]
Given an arbitrary $a\in G$, we construct an inner automorphism
$\varphi\in\Inn(G)$ defined by $\varphi(x)=x^{a}$. Then $\varphi(N)=N$
by Theorem~\ref{thm:characteristic:inner:subgroup-is-normal-iff-invariant-under-every-inner-automorphism}
which implies $\varphi|_{N}\in\Aut(N)$ by Theorem~\ref{thm:characteristic:automorphism:automorphism-which-leaves-subgroup-invariant-is-automorphism-of-subgroup}.
Viewed
as an automorphism of $N$, $\varphi|_{N}=:\psi\in\Aut(N)$, we must have
$\psi(K)=K$ by virtue of $K$ being characteristic subgroup of $N$. But
$\psi(K)=\varphi(K)$ due to a sub-sub-proof that $\forall k\in K,\psi(k)=\varphi(k)$.
Then the result follows.
\end{proof}

\nwenddocs{}\nwbegincode{37}\sublabel{NW2llOmu-4CFIX3-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-4CFIX3-1}}}\moddef{Proof: $\forall a\in G, K^{a}=K$~{\nwtagstyle{}\subpageref{NW2llOmu-4CFIX3-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-4WQdGY-1}}\nwenddeflinemarkup
proof
  let a be Element of G;
  consider g being inner Automorphism of G such that
  A1: for x being Element of G holds g.x = x |^ a
  by Th32;

  Image(g|N) = N by Th33;
  then reconsider f = g|N as Automorphism of N by Th22;
  A2: Image(f|K) = the multMagma of K by Def3;

  for k being Element of G st k in K holds f.k = g.k by Th1,GROUP_2:40;
  then Image(g|K) = the multMagma of K & Image(g|K) = K |^ a
  by A1,A2,Th28,Th36;
  hence thesis;
end;
\nwused{\\{NW2llOmu-4WQdGY-1}}\nwendcode{}\nwbegindocs{38}\nwdocspar



\begin{theorem}
If $N\subgroup G$ is characteristic, and if $K\subgroup N$ is
characteristic, then $K\subgroup G$ is characteristic.
\end{theorem}

The proof is remarkably similar to the previous theorem. In fact, we can
re-use exactly the same line of reasoning establishing
$\forall k\in G$, $k\in K\implies f(k)=g(k)$.

\begin{proof}[Proof outline]
For any automorphism $g\in\Aut(G)$ we have $g(N)=N$ by virtue of $N$ is
a characteristic subgroup of $G$. We can then consider $f=g|_{N}$ as an
automorphism of $N$. Then $f(K)=K$ since $K$ is a characteristic
subgroup of $N$.

We have $\forall k\in K, f(k)=g(k)$. Thus $f(K)=g(K)$, and we have
established $f(K)=K$, therefore $g(K)=K$.
\end{proof}

\nwenddocs{}\nwbegincode{39}\sublabel{NW2llOmu-2ur0LT-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2ur0LT-1}}}\moddef{Theorem: transitivity of characteristic subgroups~{\nwtagstyle{}\subpageref{NW2llOmu-2ur0LT-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th39:
  for N being characteristic Subgroup of G
  for K being characteristic Subgroup of N
  holds K is characteristic Subgroup of G
proof
  let N be characteristic Subgroup of G;
  let K be characteristic Subgroup of N;
  for g being Automorphism of G holds Image(g|K) = the multMagma of K
  proof
    let g be Automorphism of G;
    Image(g|N) = the multMagma of N by Def3;
    then reconsider f = g|N as Automorphism of N by Th22;
    A1: Image(f|K) = the multMagma of K by Def3;

    for k being Element of G st k in K holds f.k = g.k by Th1, GROUP_2:40;
    hence Image(g|K) = the multMagma of K by A1,Th36;
  end;
  hence K is characteristic Subgroup of G by Def3;
end;
\nwindexdefn{\nwixident{Th39}}{Th39}{NW2llOmu-2ur0LT-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th39}}{Th39}}}\nwendcode{}\nwbegindocs{40}\nwdocspar
\begin{theorem}\label{thm:results:alt-def-of-char-subgroup}
  Let $H\subgroup G$.
  Then $H\charSubgroup G$ if and only if for any automorphism $\varphi$, we have
  $\varphi(H)\subgroup H$.
\end{theorem}

Some texts give this as the definition for $H$ being a characteristic
subgroup, which is fine.

\begin{proof}[Proof outline]
  Given a subgroup $H\subgroup G$. We have two halfs to our proof.

We prove $H$ is a characteristic subgroup of $G$ implies
$\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$. This uses the facts
$\varphi(H)=H\subgroup H$. This establishes the first half of the proof.

Now, the other direction, assuming
$\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$ we find $H$ is a
characteristic subgroup of $G$.
\end{proof}

\nwenddocs{}\nwbegincode{41}\sublabel{NW2llOmu-4Z20G4-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-4Z20G4-1}}}\moddef{Theorem: $H\subgroup G$ is characteristic iff $\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW2llOmu-4Z20G4-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th40:
  for G being Group
  for H being strict Subgroup of G
  holds H is characteristic Subgroup of G iff
  (for phi being Automorphism of G holds Image(phi|H) is Subgroup of H)
proof
  let G be Group;
  let H be strict Subgroup of G;
  thus H is characteristic Subgroup of G implies
       (for phi being Automorphism of G holds Image(phi|H) is Subgroup of H)
  \LA{}Proof: $H\charSubgroup G\implies\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW2llOmu-ikrOm-1}}\RA{}

  thus (for phi being Automorphism of G holds Image(phi|H) is Subgroup of H)
       implies H is characteristic Subgroup of G
  \LA{}Proof: $H\charSubgroup G\impliedby\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW2llOmu-1WVJgD-1}}\RA{}

  thus thesis;
end;
\nwindexdefn{\nwixident{Th40}}{Th40}{NW2llOmu-4Z20G4-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th40}}{Th40}}}\nwendcode{}\nwbegindocs{42}\nwdocspar
\begin{proof}[Sub-proof ($H\charSubgroup G\implies\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$).]
The proof in the forward direction boils down to the observation
$H\subgroup H$ then applying the definition of characteristic subgroup.
\end{proof}


\nwenddocs{}\nwbegincode{43}\sublabel{NW2llOmu-ikrOm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-ikrOm-1}}}\moddef{Proof: $H\charSubgroup G\implies\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW2llOmu-ikrOm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-4Z20G4-1}}\nwenddeflinemarkup
proof
  assume B1: H is characteristic Subgroup of G;
  let phi be Automorphism of G;
  Image(phi|H) = H & H is Subgroup of H by B1,GROUP_2:54,Def3;
  hence Image(phi|H) is Subgroup of H;
end;
\nwused{\\{NW2llOmu-4Z20G4-1}}\nwendcode{}\nwbegindocs{44}\nwdocspar

\begin{proof}[Sub-proof ($H\charSubgroup G\impliedby\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$).]
The proof in the backward direction amounts to proving, for arbitrary
automorphisms $\varphi$ of $G$, $\varphi(H)\subgroup H$ and since
$\varphi$ is an Automorphism $H\subgroup \varphi^{-1}(H)$. Then for any
$\varphi\in\Aut(G)$, we have $\varphi(H)\subgroup H$. Taken together,
this implies $\forall\varphi\in\Aut(G)$, $H = \varphi(H)$.

But as discussed earlier (\S\ref{par:introduction:subgroup-equality}),
subgroup equality holds only for strict subgroups. For this reason, we
have the hypothesis that $H$ is a strict subgroup of $G$.
\end{proof}

\nwenddocs{}\nwbegincode{45}\sublabel{NW2llOmu-1WVJgD-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1WVJgD-1}}}\moddef{Proof: $H\charSubgroup G\impliedby\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW2llOmu-1WVJgD-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-4Z20G4-1}}\nwenddeflinemarkup
proof
  assume A1: for phi being Automorphism of G
  holds Image(phi|H) is Subgroup of H;
  A2: for phi being Automorphism of G holds H is Subgroup of Image(phi|H)
  \LA{}Proof: $\forall\varphi\in\Aut(G),H\subgroup\varphi(H)$~{\nwtagstyle{}\subpageref{NW2llOmu-2AHwGO-1}}\RA{}
  for phi being Automorphism of G holds H = Image(phi|H)
  proof
    let phi be Automorphism of G;
    H is Subgroup of Image(phi|H) & Image(phi|H) is Subgroup of H
    by A1,A2;
    hence H = Image(phi|H) by GROUP_2:55;
  end;
  hence H is characteristic Subgroup of G by Def3;
end;
\nwused{\\{NW2llOmu-4Z20G4-1}}\nwendcode{}\nwbegindocs{46}\nwdocspar

\begin{proof}[Sub-sub-proof ($\forall\varphi\in\Aut(G),H\subgroup\varphi(H)$).]
This is a slick argument, which is confusing until one realizes
what's going on.  We use the facts that, for any $\varphi,\psi\in\Aut(G)$,
\begin{itemize}
\item Hypothesis {\Tt{}A1\nwendquote}: $\psi(H)\subgroup H$;
\item Theorem~\ref{thm:characteristic:automorphism:f-fInv-H-is-subgroup-of-H}: for $\psi=\varphi^{-1}$, we have $\varphi[\psi(H)]\subgroup\varphi(H)$; and
\item Theorem~\ref{thm:characteristic:automorphism:phi-phiInv-H-is-H}: for $\psi=\varphi^{-1}$, the underlying magmas of $H$ and $\varphi[\psi(H)]$ are equal.
\end{itemize}
This suffices to infer $H\subgroup\varphi(H)$.
\end{proof}

\nwenddocs{}\nwbegincode{47}\sublabel{NW2llOmu-2AHwGO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2AHwGO-1}}}\moddef{Proof: $\forall\varphi\in\Aut(G),H\subgroup\varphi(H)$~{\nwtagstyle{}\subpageref{NW2llOmu-2AHwGO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-1WVJgD-1}}\nwenddeflinemarkup
proof
  let phi be Automorphism of G;
  consider psi being Automorphism of G such that
  B1: psi = phi" and
  B2: Image(phi|Image(psi|H)) is Subgroup of Image(phi|H) by A1,Th16;
  consider psi2 being Automorphism of G such that
  B3: psi2 = phi" and
  B4: the multMagma of H = Image(phi|Image(psi2|H)) by Th17;
  thus H is Subgroup of Image(phi|H) by B1,B2,B3,B4;
end;
\nwused{\\{NW2llOmu-1WVJgD-1}}\nwendcode{}\nwbegindocs{48}\nwdocspar


\begin{theorem}\index{$Z(G)$}\index{Center!Group}\index{Group!Center}
Let $G$ be a group. Its center $Z(G)$ is a characteristic subgroup.
\end{theorem}

\begin{proof}[Proof outline]
This is our first application of
$\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$ implies $H$ is characteristic.
The bulk of the proof amounts to showing $\varphi(Z(G))\subgroup Z(G)$,
which requires two prior steps:
\begin{enumerate}
\item for any $g\in G$ and $z\in Z(G)$, we have $\varphi(z)g =
  g\varphi(z)$ --- i.e., $\varphi(z)$ commutes with every element of
  $G$; then
\item $\varphi(z)\in Z(G)$ for any $z\in Z(G)$.
\end{enumerate}
Then we have $\varphi(Z(G))$ be a subgroup of $Z(G)$, which let's us use
the previous theorem.
\end{proof}

\begin{thm-remark}
The {\Tt{}center\nwendquote}\mizindex{Center@\texttt{center}} functor is defined in
Definition~\mml[def10]{group5}\MizDef{GROUP\_5}{10}.
\end{thm-remark}

\nwenddocs{}\nwbegincode{49}\sublabel{NW2llOmu-g56Nl-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-g56Nl-1}}}\moddef{Theorem: $Z(G)$ is characteristic subgroup~{\nwtagstyle{}\subpageref{NW2llOmu-g56Nl-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup

theorem Th41:
  center G is characteristic Subgroup of G
proof
  set Z = center G;
  \LA{}Prove $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-1dPqXM-1}}\RA{}

  hence Z is characteristic Subgroup of G by Th40;
end;
\nwindexdefn{\nwixident{Th41}}{Th41}{NW2llOmu-g56Nl-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th41}}{Th41}}}\nwendcode{}\nwbegindocs{50}\nwdocspar
\begin{proof}[Proof branch ($\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$)]
The heart of the proof amounts to showing, for any Automorphism
$\varphi$, that $\varphi(Z(G))$ is a subgroup of $Z(G)$.
\end{proof}

\nwenddocs{}\nwbegincode{51}\sublabel{NW2llOmu-1dPqXM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1dPqXM-1}}}\moddef{Prove $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-1dPqXM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-g56Nl-1}}\nwenddeflinemarkup
\LA{}Step 1: $\forall\varphi\in\Aut(G)\forall y\in G\forall z\in Z(G), \varphi(z)y = y\varphi(z)$~{\nwtagstyle{}\subpageref{NW2llOmu-3ZyLrF-1}}\RA{}
\LA{}Step 2: $\forall\varphi\in\Aut(G)\forall z\in G, z\in Z(G)\implies \varphi(z)\in Z(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-1r6gW0-1}}\RA{}
\LA{}Step 3: $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-10qnyb-1}}\RA{}
\nwused{\\{NW2llOmu-g56Nl-1}}\nwendcode{}\nwbegindocs{52}\nwdocspar

\begin{proof}[Proof step 1 ($\forall\varphi\in\Aut(G)\forall y\in G\forall z\in Z(G), \varphi(z)y = y\varphi(z)$).]
Proving $\varphi(z)$ commutes with every element of the group is a
straightforward calculation. In fact, this is usually what textbooks
present, then dismiss the rest of the proof as ``trivial'' or
``obvious''.
\end{proof}


\nwenddocs{}\nwbegincode{53}\sublabel{NW2llOmu-3ZyLrF-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-3ZyLrF-1}}}\moddef{Step 1: $\forall\varphi\in\Aut(G)\forall y\in G\forall z\in Z(G), \varphi(z)y = y\varphi(z)$~{\nwtagstyle{}\subpageref{NW2llOmu-3ZyLrF-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-1dPqXM-1}}\nwenddeflinemarkup
A1: for y,z being Element of G st z in Z
holds (phi.z)*y = y*phi.z
proof
  let y,z be Element of G;
  assume B1: z in Z;
  set x = (phi").y;
  (phi.z)*y = (phi.z)*(phi.x) by Th4
           .= phi.(z*x) by GROUP_6:def 6
           .= phi.(x*z) by B1,GROUP_5:77
           .= (phi.x)*(phi.z) by GROUP_6:def 6
           .= y*(phi.z) by Th4;
  hence thesis;
end;
\nwused{\\{NW2llOmu-1dPqXM-1}}\nwendcode{}\nwbegindocs{54}\nwdocspar

\begin{proof}[Proof step 2 ($\forall\varphi\in\Aut(G)\forall z\in G, z\in Z(G)\implies \varphi(z)\in Z(G)$).]
Establishing $z\in Z(G)$ implies $\varphi(z)\in Z(G)$ amounts to
unfolding definitions.
\end{proof}

\nwenddocs{}\nwbegincode{55}\sublabel{NW2llOmu-1r6gW0-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1r6gW0-1}}}\moddef{Step 2: $\forall\varphi\in\Aut(G)\forall z\in G, z\in Z(G)\implies \varphi(z)\in Z(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-1r6gW0-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-1dPqXM-1}}\nwenddeflinemarkup
A2: for z being Element of G st z in Z
holds (phi|Z).z in Z
proof
  let z be Element of G;
  assume B1: z in Z;
  then for y being Element of G holds (phi.z)*y=y*(phi.z) by A1;
  then (phi.z) in Z by GROUP_5:77;
  hence ((phi|Z).z) in Z by B1,Th1;
end;
\nwused{\\{NW2llOmu-1dPqXM-1}}\nwendcode{}\nwbegindocs{56}\nwdocspar

\begin{proof}[Proof step 3 ($\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$).]
The last step, which is the ``obvious'' part, infers from
$\forall z\in Z(G),\varphi(z)\in Z(G)$ that $\varphi(Z(G))\subgroup Z(G)$.
It's also the ugliest part of the proof which could probably be cleaned
up considerably. This is only due to the sub-step establishing
$w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$.
\end{proof}

\nwenddocs{}\nwbegincode{57}\sublabel{NW2llOmu-10qnyb-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-10qnyb-1}}}\moddef{Step 3: $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-10qnyb-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-1dPqXM-1}}\nwenddeflinemarkup
Image(phi|Z) is Subgroup of Z
proof
  for w being Element of G st w in rng(phi|Z) holds w in Z
  \LA{}Sub-step 3.1: $\forall w\in G,w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-2KjPoO-1}}\RA{}
  then rng(phi|Z) c= the carrier of Z by STRUCT_0:def 5;
  then the carrier of Image(phi|Z) c= the carrier of Z by GROUP_6:44;
  hence Image(phi|Z) is Subgroup of Z by GROUP_2:57;
end;
\nwused{\\{NW2llOmu-1dPqXM-1}}\nwendcode{}\nwbegindocs{58}\nwdocspar

\begin{proof}[Proof sub-step 3.1 ($\forall w\in G,w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$).]
This substep is ugly, and I offer no apology for it. There's probably
a more elegant solution, but I cannot think of one. We explicitely
walkthrough showing $w\in\rng(\varphi|_{Z(G)})$, which means there is
some $z$ such that $z\in\dom(\varphi|_{Z(G)})$ and $\varphi|_{Z(G)}(z) = w$.
Since $\dom(\varphi|_{Z(G)})=Z(G)$, it follows $\varphi|_{Z(G)}(z)\in Z(G)$
from step 2. Thus the result follows.
\end{proof}

\nwenddocs{}\nwbegincode{59}\sublabel{NW2llOmu-2KjPoO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2KjPoO-1}}}\moddef{Sub-step 3.1: $\forall w\in G,w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-2KjPoO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-10qnyb-1}}\nwenddeflinemarkup
proof
  let w be Element of G;
  assume w in rng(phi|Z);
  then consider z being object such that
  C1: z in dom(phi|Z) and
  C2: (phi|Z).z = w by FUNCT_1:def 3;
  reconsider z as Element of Z by C1;
  z is Element of G by GROUP_2:42;
  hence w in Z by C2,A2,STRUCT_0:def 5;
end;
\nwused{\\{NW2llOmu-10qnyb-1}}\nwendcode{}\nwbegindocs{60}\nwdocspar

\begin{scheme}\label{scheme:characteristic:results:intersection-invariant-under-automorphism}
Let $P[-]$ be a predicate on subgroups of $G$ for which (1) there is at
least one subgroup $H\subgroup G$ satisfying $P[H]$ and (2) if
$H\subgroup G$ satisfies $P[H]$, then for any automorphism
$\varphi\in\Aut(G)$ we have $P[\varphi(H)]$.

Let $\mathcal{F} = \{A\subset G\mid \exists H\subgroup G, P[H]\land A=U(H)\}$
be the family of sets underlying all subgroups of $G$ satisfying $P[-]$.
Then $\varphi(\bigcap\mathcal{F})=\bigcap\mathcal{F}$.
\end{scheme}

\begin{proof}[Proof outline]
Let $\mathcal{F} = \{A\subset G\mid H\subgroup G\land P[H]\}$ be the
collection of sets underlying subgroups $H\subgroup G$ which satisfy the
property $P[H]$. First, we need to prove $\mathcal{F}\neq\emptyset$. But
since we have, by hypothesis, there is at least one subgroup $H\subgroup G$
which satisfies $P[H]$\dots so $\mathcal{F}$ is nonempty. Then to prove
$\varphi(\bigcap\mathcal{F})=\bigcap\mathcal{F}$, we establish
$\varphi(\bigcap\mathcal{F})\subset\bigcap\mathcal{F}$ and
$\varphi(\bigcap\mathcal{F})\supset\bigcap\mathcal{F}$. The result then follows.
\end{proof}

\nwenddocs{}\nwbegincode{61}\sublabel{NW2llOmu-3pFvE5-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-3pFvE5-1}}}\moddef{Scheme: if $H\subgroup G\land P[H]$ and $\forall\varphi\in\Aut(G),P[\varphi(H)]$, then $\bigcap\{H\subgroup G\mid P[H]\}$ is $\Aut(G)$-invariant~{\nwtagstyle{}\subpageref{NW2llOmu-3pFvE5-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
reserve A1,A2 for set;

scheme :: sch 1
  CharMeet\{G() -> Group, P[set]\} :
  for phi being Automorphism of G()
  holds phi .: meet\{A where A is Subset of G() : ex K being strict Subgroup
  of G() st A = the carrier of K & P[K]\} = meet\{A where A is Subset of G() :
  ex K being strict Subgroup of G() st A = the carrier of K & P[K]\}
provided
A1: for phi being Automorphism of G()
    for H being strict Subgroup of G()
    st P[H]
    holds P[Image(phi|H)] and
A2: ex H being strict Subgroup of G() st P[H]
proof
  let phi be Automorphism of G();
  set UG = the carrier of G();
  set Fam = \{A where A is Subset of G() : ex K being strict Subgroup
  of G() st A = the carrier of K & P[K]\};
  consider H being strict Subgroup of G() such that
A3: P[H]
  by A2;
  A4: Fam <> \{\}
  \LA{}Proof step: $\mathcal{F}\neq\emptyset$~{\nwtagstyle{}\subpageref{NW2llOmu-1m2Gqf-1}}\RA{}

  A5: for phi0 being Automorphism of G()
  for x being object st x in meet Fam
  holds phi0.x in meet Fam
  \LA{}Proof step: $\forall\varphi_{0}\in\Aut(G),\forall x, x\in\bigcap\mathcal{F}\implies\varphi_{0}(x)\in\bigcap\mathcal{F}$~{\nwtagstyle{}\subpageref{NW2llOmu-yNumc-1}}\RA{}

  for x being object st x in meet Fam
  holds x in phi .: meet Fam
  \LA{}Proof step: $x\in\bigcap\mathcal{F}\implies x\in\varphi(\bigcap\mathcal{F})$~{\nwtagstyle{}\subpageref{NW2llOmu-2pu6zi-1}}\RA{}
  then P1: meet Fam c= phi .: meet Fam;

  for y being object st y in phi .: meet Fam
  holds y in meet Fam
  \LA{}Proof step: $y\in\varphi(\bigcap\mathcal{F})\implies y\in\bigcap\mathcal{F}$~{\nwtagstyle{}\subpageref{NW2llOmu-3LSeN1-1}}\RA{}
  then phi .: meet Fam c= meet Fam;
  hence thesis by P1,XBOOLE_0:def 10;
end;
\nwindexdefn{\nwixident{CharMeet}}{CharMeet}{NW2llOmu-3pFvE5-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{CharMeet}}{CharMeet}}}\nwendcode{}\nwbegindocs{62}\nwdocspar
\begin{proof}[Proof step: $\mathcal{F}$ is non-empty]
Since we assumed there exists a subgroup $H\subgroup G$ such that $P[H]$
holds, there is at least one element of $\mathcal{F}$, namely
$H\in\mathcal{F}$. Hence $\bigcap\mathcal{F}\neq\emptyset$.
\end{proof}

\nwenddocs{}\nwbegincode{63}\sublabel{NW2llOmu-1m2Gqf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1m2Gqf-1}}}\moddef{Proof step: $\mathcal{F}\neq\emptyset$~{\nwtagstyle{}\subpageref{NW2llOmu-1m2Gqf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3pFvE5-1}}\nwenddeflinemarkup
proof
  consider A being set such that
  B1: A = the carrier of H;
  the carrier of H is Subset of G() by GROUP_2:def 5;
  then A in Fam by A3, B1;
  hence thesis;
end;
\nwused{\\{NW2llOmu-3pFvE5-1}}\nwendcode{}\nwbegindocs{64}\nwdocspar

\begin{proof}[Proof step ($\forall\varphi_{0}\in\Aut(G),\forall x, x\in\bigcap\mathcal{F}\implies\varphi_{0}(x)\in\bigcap\mathcal{F}$).]
Suppose $x\in\bigcap\mathcal{F}$. Then $\forall A\in\mathcal{F},x\in A$.
Let $\varphi_{0}$ be an arbitrary automorphism of $G$.
From the hypothesis $P[H]\implies \forall\varphi\in\Aut(G),
P[\varphi(H)]$, we apply it to $\psi=\varphi_{0}^{-1}$. But this means $x\in\psi(A)$.
Then $\varphi_{0}(x)\in\varphi_{0}(\psi(A))$, and $\varphi_{0}(\psi(A))=A$. Thus the
result follows.
\end{proof}

\nwenddocs{}\nwbegincode{65}\sublabel{NW2llOmu-yNumc-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-yNumc-1}}}\moddef{Proof step: $\forall\varphi_{0}\in\Aut(G),\forall x, x\in\bigcap\mathcal{F}\implies\varphi_{0}(x)\in\bigcap\mathcal{F}$~{\nwtagstyle{}\subpageref{NW2llOmu-yNumc-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3pFvE5-1}}\nwenddeflinemarkup
proof
  let phi0 be Automorphism of G();
  let x be object;
  assume x in meet Fam;
  then B1: for A1 holds A1 in Fam implies x in A1 by SETFAM_1:def 1; :: sic
  for A being set holds A in Fam implies phi0.x in A
  proof
    let A be set;
    assume C1: A in Fam;
    consider A0 being Subset of G() such that
    C2: A0=A & ex H being strict Subgroup of G()
               st A0 = the carrier of H & P[H]
    by C1;
    consider K being strict Subgroup of G() such that
    C3: A = the carrier of K & P[K]
    by C2;
    consider psi being Automorphism of G() such that
    C4: psi = phi0" & Image(phi0|Image(psi|K)) = the multMagma of K
    by Th17;
    x in K by C1,B1,C3;
    then C5: x in G() & dom phi0 = the carrier of G()
    by GROUP_2:40,FUNCT_2:def 1;
    P[Image(psi|K)] by C3,A1;
    then carr Image(psi|K) in Fam;
    then x in carr Image(psi|K) by B1;
    then phi0.x in phi0 .: (carr Image(psi|K)) by C5, FUNCT_1:def 6;
    then phi0.x in carr (phi0 .: Image(psi|K)) by GRSOLV_1:8;
    hence phi0.x in A by C3,C4,GRSOLV_1:def 3;
  end;
  hence thesis by A4, SETFAM_1:def 1;
end;
\nwused{\\{NW2llOmu-3pFvE5-1}}\nwendcode{}\nwbegindocs{66}\nwdocspar

\begin{proof}[Proof step ($x\in\bigcap\mathcal{F}\implies x\in\varphi(\bigcap\mathcal{F})$).]
Suppose $x\in\bigcap\mathcal{F}$. Let $\varphi\in\Aut(G)$ be completely
arbitrary, and $\psi=\varphi^{-1}$. From $x\in\bigcap\mathcal{F}$, it
follows $\forall A\in\mathcal{F}, x \in A$. It follows from a previous
step that $\forall A\in\mathcal{F},\psi(x)\in A$. Then applying
$\varphi$ we find $\forall A\in\mathcal{F},\varphi(\psi(x))=x\in\varphi(A)$.
Hence $x\in\varphi(\bigcap\mathcal{F})$.
\end{proof}

\nwenddocs{}\nwbegincode{67}\sublabel{NW2llOmu-2pu6zi-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2pu6zi-1}}}\moddef{Proof step: $x\in\bigcap\mathcal{F}\implies x\in\varphi(\bigcap\mathcal{F})$~{\nwtagstyle{}\subpageref{NW2llOmu-2pu6zi-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3pFvE5-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume B1: x in meet Fam;
  then carr H in Fam & for A1 holds A1 in Fam implies x in A1
  by A3,SETFAM_1:def 1;
  then B2: x in H;
  then B3: x is Element of G() by GROUP_2:42;
  reconsider psi = phi" as Automorphism of G() by GROUP_6:62;
  B4: dom phi = the carrier of G() by FUNCT_2:def 1;
  B5: psi.x in meet Fam by B1,A5;
  B6: phi.(psi.x) = x by B3,Th4;
  psi is bijective & x in G() by B2, GROUP_2:40;
  then psi.x in dom phi by B4, FUNCT_2:5;
  hence x in phi .: meet Fam by B6,B5,FUNCT_1:def 6;
end;
\nwused{\\{NW2llOmu-3pFvE5-1}}\nwendcode{}\nwbegindocs{68}\nwdocspar

\begin{proof}[Proof step ($y\in\varphi(\bigcap\mathcal{F})\implies y\in\bigcap\mathcal{F}$).]
  Let $\varphi\in\Aut(G)$ be arbitrary.
Suppose $y\in\varphi(\bigcap\mathcal{F})$. Then there is an
$x\in\bigcap\mathcal{F}$ such that $y=\varphi(x)$. Then
$\varphi(x)\in\bigcap\mathcal{F}$ from our first proof step. Hence
$y\in\bigcap\mathcal{F}$.
\end{proof}

\nwenddocs{}\nwbegincode{69}\sublabel{NW2llOmu-3LSeN1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-3LSeN1-1}}}\moddef{Proof step: $y\in\varphi(\bigcap\mathcal{F})\implies y\in\bigcap\mathcal{F}$~{\nwtagstyle{}\subpageref{NW2llOmu-3LSeN1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3pFvE5-1}}\nwenddeflinemarkup
proof
  let y be object;
  assume y in phi .: meet Fam;
  then consider x being object such that
  B1: x in dom phi & x in meet Fam & y = phi.x
  by FUNCT_1:def 6;
  thus y in meet Fam by B1,A5;
end;
\nwused{\\{NW2llOmu-3pFvE5-1}}\nwendcode{}\nwbegindocs{70}\nwdocspar

\begin{scheme}\label{scheme:characteristic:results:meet-is-characteristic}
Let $P[-]$ be a predicate on subgroups of $G$ for which (1) there is at
least one subgroup $H\subgroup G$ satisfying $P[H]$ and (2) if
$H\subgroup G$ satisfies $P[H]$, then for any automorphism
$\varphi\in\Aut(G)$ we have $P[\varphi(H)]$.

Let $\mathcal{F} = \{A\subset G\mid \exists H\subgroup G, P[H]\land A=U(H)\}$
be the family of sets underlying all subgroups of $G$ satisfying $P[-]$.
There exists a subgroup $K\subgroup G$ whose underling set is
$U(K) = \bigcap\mathcal{F}$ such that $K$ is characteristic.
\end{scheme}

\begin{proof}[Proof outline]
The proof boils down to what we would find in a textbook. For any
Automorphism $\varphi\in\Aut(G)$, we have the collection $\mathcal{F}$
of subgroups of $G$ satisfying $P[H]$, then we know there exists a
subgroup $K\subgroup G$ such that its underlying set $U(K)$ is
\begin{equation}
U(K) := \bigcap\mathcal{F}.
\end{equation}
Now to prove it is characteristic, we reason as follows:
\begin{equation}
\varphi(K)=\varphi(\bigcap\mathcal{F})=\bigcap\varphi(\mathcal{F})=\bigcap
\mathcal{F} = K.
\end{equation}
We take advantage of Scheme~\ref{scheme:characteristic:results:intersection-invariant-under-automorphism} to prove
\begin{equation}
\varphi(\bigcap\mathcal{F})=\bigcap\varphi(\mathcal{F})=\bigcap \mathcal{F}.
\end{equation}
We also use the hypothesis that subgroups $H\subgroup G$ satisfying $P[H]$ are
mapped to subgroups $\varphi(H)$ satisfying $P[\varphi(H)]$ under
automorphisms $\varphi\in G$.
\end{proof}

\nwenddocs{}\nwbegincode{71}\sublabel{NW2llOmu-5CDvr-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-5CDvr-1}}}\moddef{Scheme: $\bigcap\{A\subset G\mid\exists H\subgroup G, A=H, P[H]\}$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-5CDvr-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
scheme :: sch 2
  MeetIsChar\{G() -> Group, P[set]\} :
  ex K being strict Subgroup of G() st
  the carrier of K = meet \{A where A is Subset of G() :
  ex H being strict Subgroup of G() st A = the carrier of H & P[H]\} &
  K is characteristic
provided
A1: for phi being Automorphism of G()
    for H being strict Subgroup of G()
    st P[H]
    holds P[Image(phi|H)] and
A2: ex H being strict Subgroup of G() st P[H]
proof
  set Fam = \{A where A is Subset of G() :
             ex H being strict Subgroup of G()
             st A = the carrier of H & P[H]\};

  A3: for phi being Automorphism of G()
  holds phi .: meet Fam = meet Fam from CharMeet(A1,A2);

  consider K being strict Subgroup of G() such that
  A4: the carrier of K = meet Fam
  from GROUP_4:sch 1(A2);
  take K;

  for phi being Automorphism of G()
  holds Image(phi|K) = K
  proof
    let phi be Automorphism of G();
    the carrier of Image(phi|K)
     = the carrier of phi .: K by GRSOLV_1:def 3
    .= phi .: (the carrier of K) by GRSOLV_1:8
    .= phi .: meet Fam by A4
    .= meet Fam by A3
    .= the carrier of K by A4;
    hence Image(phi|K) = K by GROUP_2:59;
  end;
  hence thesis by A4;
end;
\nwindexdefn{\nwixident{MeetIsChar}}{MeetIsChar}{NW2llOmu-5CDvr-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{MeetIsChar}}{MeetIsChar}}}\nwendcode{}\nwbegindocs{72}\nwdocspar
\begin{proposition}[{\mml[Th38]{group4}}]
  Let $G$ be a group. Suppose $G$ has a maximal subgroup.
  Then for any group element $a\in G$, we have
  $a\in\FrattiniSubgroup(G)$ if and only if for every maximal subgroup
  $H\properSubgroup G$ we have $a\in H$.
\end{proposition}

\begin{theorem}
The Frattini subgroup $\FrattiniSubgroup(G)$ is a characteristic subgroup of $G$.
\end{theorem}

\begin{proof}[Proof outline]
The proof boils down to what we would find in a textbook.
We have abstracted away the argument to form Scheme~\ref{scheme:characteristic:results:meet-is-characteristic},
which gives us the results.
\end{proof}

\begin{thm-remark}
Observe the key property required to prove that $\Phi(G)$ is
characteristic is the observation we have a family $\mathcal{F}$ of
subgroups of $G$ for which any automorphism $\varphi\in\Aut(G)$ acts
like a permutation of $\mathcal{F}$. If this is true, then
$\bigcap\mathcal{F}$ is characteristic. We can formulate this argument
as a scheme.
\end{thm-remark}

\begin{thm-remark}
The proof is an extra step, because I believe it worth the cost to
stress at a human-readable level that $K=\Phi(G)$.
\end{thm-remark}
\nwenddocs{}\nwbegincode{73}\sublabel{NW2llOmu-1wEepZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1wEepZ-1}}}\moddef{Theorem: $\FrattiniSubgroup(G)$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-1wEepZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th42:
  for G being non trivial Group
  holds (ex H being strict Subgroup of G st H is maximal) implies
  Phi(G) is characteristic Subgroup of G
proof
  let G be non trivial Group;
  defpred P[Subgroup of G] means $1 is maximal;
  assume A1: ex H being strict Subgroup of G st P[H];
  set MaxSubCarrs = \{A where A is Subset of G :
                     ex H being strict Subgroup of G
                     st A = the carrier of H & P[H]\};

  A2: for phi being Automorphism of G
  for H being strict Subgroup of G
  st P[H]
  holds P[Image(phi|H)] by Th24;

  consider K being strict Subgroup of G such that
  A3: the carrier of K = meet \{A where A is Subset of G :
      ex H being strict Subgroup of G st A = the carrier of H & P[H]\} and
  A4: K is characteristic
  from MeetIsChar(A2,A1);
  K = Phi(G) by A1,A3,GROUP_4:def 7; :: sic
  hence thesis by A4;
end;
\nwindexdefn{\nwixident{Th42}}{Th42}{NW2llOmu-1wEepZ-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th42}}{Th42}}}\nwendcode{}\nwbegindocs{74}\nwdocspar

\subsection{Derived Subgroup is Characteristic}
We will denote the \emph{set} of all commutators of elements of $G$ by
\begin{equation}
\Commutators(G) := \{[a,b]\in G\mid a,b\in G\}.
\end{equation}
The derived subgroup is the \emph{subgroup} generated by this
\begin{equation}
G' = [G,G] := \langle\Commutators(G)\rangle.
\end{equation}
We will prove the derived subgroup is characteristic.

\begin{theorem}
Let $G$ be a group, let $C=\Commutators(G)$ be the set of
commutators of any pair of group elements. Then for any automorphism
$\varphi\in\Aut(G)$, we have $\varphi(C) = C$.
\end{theorem}

\begin{proof}[Proof outline]
We will prove $\varphi(C)\subset C$ and $\varphi(C)\supset C$.
\end{proof}

\nwenddocs{}\nwbegincode{75}\sublabel{NW2llOmu-1BwBWL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1BwBWL-1}}}\moddef{Theorem: $\forall\varphi\in G,\varphi(\Commutators(G))=\Commutators(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-1BwBWL-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th43:
  for phi being Automorphism of G
  holds phi .: commutators G = commutators G
proof
  let phi be Automorphism of G;
  for g being object
  st g in commutators G
  holds g in phi .: commutators G
  \LA{}Proof: $\varphi(\Commutators(G))\supset\Commutators(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-22edeY-1}}\RA{}
  then P1: commutators G c= phi .: commutators G;
  for h being object
  st h in phi .: commutators G
  holds h in commutators G
  \LA{}Proof: $\varphi(\Commutators(G))\subset\Commutators(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-3odp3Y-1}}\RA{}
  then phi .: commutators G c= commutators G;
  hence commutators G = phi .: commutators G by P1,XBOOLE_0:def 10;
end;
\nwindexdefn{\nwixident{Th43}}{Th43}{NW2llOmu-1BwBWL-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th43}}{Th43}}}\nwendcode{}\nwbegindocs{76}\nwdocspar
\begin{proof}[{Proof step [$\varphi(\Commutators(G))\supset\Commutators(G)$]}.]
  Let $g\in\Commutators(G)$. Then consider $a,b\in G$ such that
  \begin{equation}
g = [a,b]
  \end{equation}
  by Theorem~\mml[Th58]{group5}. Take $x=\varphi^{-1}(a)$ and
  $y=\varphi^{-1}(b)$. These are elements of $G$, so $[x,y]\in\Commutators(G)$.
  Then $\varphi([x,y])\in\varphi(\Commutators(G))$ and
  \begin{equation}
\varphi([x,y])=[a,b]=g
  \end{equation}
  thus $g\in\varphi(\Commutators(G))$. Since we let $g$ be arbitrary,
  this implies $\varphi(\Commutators(G))\supset\Commutators(G)$ by Theorem~\mml[def3]{tarski}.
\end{proof}

\nwenddocs{}\nwbegincode{77}\sublabel{NW2llOmu-22edeY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-22edeY-1}}}\moddef{Proof: $\varphi(\Commutators(G))\supset\Commutators(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-22edeY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-1BwBWL-1}}\nwenddeflinemarkup
proof
  let g be object;
  assume B1: g in commutators G;
  then reconsider g as Element of G;
  consider a,b being Element of G such that
  B2: g = [.a,b.]
  by B1, GROUP_5:58;
  reconsider psi = phi" as Automorphism of G by GROUP_6:62;
  set x = psi.a;
  set y = psi.b;
  set h = [.x,y.];
  dom phi = the carrier of G by FUNCT_2:def 1;
  then B3: h in dom phi & h in commutators G & phi.((phi").g) = g by Th4;
  psi.g = psi.([.a,b.]) by B2
       .= [.psi.a,psi.b.] by GROUP_6:34
       .= h;
  hence thesis by B3, FUNCT_1:def 6;
end;
\nwused{\\{NW2llOmu-1BwBWL-1}}\nwendcode{}\nwbegindocs{78}\nwdocspar

\begin{proof}[{Proof step [$\varphi(\Commutators(G))\subset\Commutators(G)$]}.]
We consider an arbitrary $h\in\varphi(\Commutators(G))$. Then there is
some $g\in\Commutators(G)$ such that $\varphi(g)=h$. Consider $a,b\in G$
such that
\begin{equation}
g=[a,b].
\end{equation}
Then by Theorem~\mml[Th34]{group6},
\begin{equation}
\varphi([a,b])
= [\varphi(a),\varphi(b).
\end{equation}
But look, this is a commutator! Combining all this together, this means
$\varphi(g)\in\Commutators(G)$. And since we let $h$ be arbitrary, this
means $\varphi(\Commutators(G))\subset\Commutators(G)$ by Theorem~\mml[def3]{tarski}.
\end{proof}

\nwenddocs{}\nwbegincode{79}\sublabel{NW2llOmu-3odp3Y-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-3odp3Y-1}}}\moddef{Proof: $\varphi(\Commutators(G))\subset\Commutators(G)$~{\nwtagstyle{}\subpageref{NW2llOmu-3odp3Y-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-1BwBWL-1}}\nwenddeflinemarkup
proof
  let h be object;
  assume B1: h in phi .: commutators G;
  consider g being object such that
      g in dom phi and
  B2: g in commutators G and
  B3: h = phi.g
  by B1,FUNCT_1:def 6;
  consider a,b be Element of G such that
  B4: g = [.a,b.]
  by B2,GROUP_5:58;
  h = phi.g by B3
   .= phi.([.a,b.]) by B4
   .= [.phi.a, phi.b.] by GROUP_6:34;
  hence h in commutators G;
end;
\nwused{\\{NW2llOmu-1BwBWL-1}}\nwendcode{}\nwbegindocs{80}\nwdocspar

\begin{theorem}
Let $H\subgroup G$ be a subgroup, $\varphi\in\Aut(G)$ be an automorphism.
If every $h\in H$ satisfies $\varphi(h)\in H$, then $\varphi(H)\subgroup H$.
\end{theorem}

\begin{proof}
We have $\varphi(H)\subgroup H$ follow from the underlying set
inclusions, and unfolding the definitions.
\end{proof}

\nwenddocs{}\nwbegincode{81}\sublabel{NW2llOmu-3M3ox1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-3M3ox1-1}}}\moddef{Theorem: $\forall h\in H,\varphi(h)\in H$ implies $\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW2llOmu-3M3ox1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th44:
  for G being Group
  for phi being Automorphism of G
  for H being Subgroup of G
  st (for h being Element of H
      holds phi.h in H)
  holds Image(phi|H) is Subgroup of H
proof
  let G be Group;
  let phi be Automorphism of G;
  let H be Subgroup of G;
  assume A1: for h being Element of H holds phi.h in H;
  for y being object st y in rng(phi|H) holds y in the carrier of H
  proof
    let y be object;
    assume y in rng(phi|H);
    then consider x being object such that
    B1: x in dom(phi|H) and
    B2: y = (phi|H).x
    by FUNCT_1:def 3;
    B3: x in H by B1;
    reconsider x as Element of H by B1;
    phi.x in H & x is Element of G by A1,GROUP_2:42;
    hence y in the carrier of H by B2,B3,Th1;
  end;
  then rng(phi|H) c= the carrier of H;
  then the carrier of Image(phi|H) c= the carrier of H by GROUP_6:44;
  hence Image(phi|H) is Subgroup of H by GROUP_2:57;
end;
\nwindexdefn{\nwixident{Th44}}{Th44}{NW2llOmu-3M3ox1-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th44}}{Th44}}}\nwendcode{}\nwbegindocs{82}\nwdocspar
\begin{theorem}
If $A\subset G$ is a nonempty subset such that, for any automorphism
$\varphi\in\Aut(G)$ we have $\varphi(A) = A$, then the generated
subgroup $\langle A\rangle$ is a characteristic subgroup.
\end{theorem}

\begin{proof}[Proof sketch]
We should recall that a generic element of $\langle A\rangle$ is given
by the product of finitely many elements of $A$. The first thing we
prove is $(A_{2})$ for any automorphism $\varphi\in\Aut(G)$ and for any
$a\in A$, we have $\varphi(a)\in A$. Then we prove
$\varphi(\langle A\rangle)=\langle A\rangle$, which establishes the result.
\end{proof}

\nwenddocs{}\nwbegincode{83}\sublabel{NW2llOmu-3lDAoY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-3lDAoY-1}}}\moddef{Theorem: $A\subset G$ s.t. $\forall\varphi\in\Aut(G),\varphi(A)=A$, then $\langle A\rangle$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-3lDAoY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th45:
  for G being Group
  for A being non empty Subset of G
  st (for phi being Automorphism of G
      holds phi .: A = A)
  holds gr A is characteristic
proof
  let G be Group;
  let A be non empty Subset of G;
  assume A1: for phi being Automorphism of G holds phi .: A = A;
  A2: for phi being Automorphism of G for a being Element of A holds phi.a in A
  proof
    let phi be Automorphism of G;
    let a be Element of A;
    dom phi = the carrier of G by FUNCT_2:def 1;
    then phi.a in phi .: A by FUNCT_1:def 6;
    hence phi.a in A by A1;
  end;
  set H = gr A;
  A3: for phi being Automorphism of G holds Image(phi|H) is Subgroup of H
  proof
    let phi be Automorphism of G;
    B2: for h being Element of G st h in H holds phi.h in H
    \LA{}Proof: $\forall h\in G, h\in H\implies \varphi(h)\in H$~{\nwtagstyle{}\subpageref{NW2llOmu-2L8lh-1}}\RA{}
    for h being Element of H holds phi.h in H
    proof
      let h be Element of H;
      C1: h in H;
      h is Element of G by GROUP_2:42;
      hence phi.h in H by B2,C1;
    end;
    hence Image(phi|H) is Subgroup of H by Th44;
  end;
  thus gr A is characteristic by A3,Th40;
end;
\nwindexdefn{\nwixident{Th45}}{Th45}{NW2llOmu-3lDAoY-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th45}}{Th45}}}\nwendcode{}\nwbegindocs{84}\nwdocspar
\begin{proof}[Proof step ($\forall h\in G, h\in H\implies \varphi(h)\in H$).]
Taking two finite sequences $F^{(1)}=(a_{1},\dots,a_{n})$ and $F^{(2)}_{j}=\varphi(F^{(1)}_{j})$,
we prove $(C_{8})$ that $F^{(2)}$ is a sequence of elements of $A$, then $\varphi(\prod_{j}F^{(1)}_{j})=\prod_{j}\varphi(F^{(1)}_{j})=\prod_{j}F^{(2)}_{j}$
implies $\prod_{j}F^{(2)}_{j}\in H$.
\end{proof}

\nwenddocs{}\nwbegincode{85}\sublabel{NW2llOmu-2L8lh-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2L8lh-1}}}\moddef{Proof: $\forall h\in G, h\in H\implies \varphi(h)\in H$~{\nwtagstyle{}\subpageref{NW2llOmu-2L8lh-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3lDAoY-1}}\nwenddeflinemarkup
proof
  let h be Element of G;
  assume h in H;
  then consider F1 being FinSequence of the carrier of G,
                I being FinSequence of INT such that
  C2: len F1 = len I and
  C3: rng F1 c= A and
  C4: Product(F1 |^ I) = h
  by GROUP_4:28;
  deffunc F(Nat) = phi.(F1/.$1);
  consider F2 being FinSequence such that
  C5: len(F2) = len F1 and
  C6: for k being Nat st k in dom F2 holds F2.k = F(k)
  from FINSEQ_1:sch 2;
  C7: dom F2 = dom F1 by C5,FINSEQ_3:29;
  C8: F2 is FinSequence of the carrier of G & rng F2 c= A
  proof
    D1: for y being object st y in rng F2 holds y in A
    proof
      let y be object;
      assume y in rng F2;
      then consider k being object such that
      E2: k in dom F2 and
      E3: y = F2.k by FUNCT_1:def 3;
      reconsider k as Element of NAT by E2;
      set x = F1.k;
      x in rng F1 by FUNCT_1:def 3, E2, C7;
      then reconsider x as Element of A by C3;
      E4: x = F1/.k by E2,C7,PARTFUN1:def 6;
      y = F(k) by E2,E3,C6
       .= phi.(F1/.k);
      hence y in A by A2,E4;
    end;
    for y being object st y in rng F2 holds y in the carrier of G
    proof
      let y be object;
      assume y in rng F2;
      then y in A by D1;
      hence y in the carrier of G;
    end;
    hence rng F2 c= the carrier of G;
    thus rng F2 c= A by D1;
  end;
  then reconsider F2 as FinSequence of the carrier of G;
  set h2 = Product(F2 |^ I);
  C9: (for k being Nat st k in dom F1
       holds F2.k = phi.(F1.k)) & len F1 = len I & len F2 = len I
  proof
    thus (for k being Nat st k in dom F1 holds F2.k = phi.(F1.k))
    proof
      let k be Nat;
      assume D1: k in dom F1;
      then k in dom F2 by C5,FINSEQ_3:29;
      then F2.k = F(k) by C6
               .= phi.(F1/.k);
      hence F2.k = phi.(F1.k) by D1,PARTFUN1:def 6;
    end;
    thus len F1 = len I by C2;
    thus len F2 = len I by C2,C5;
  end;
  then len F2 = len I & rng F2 c= A & Product(F2 |^ I) = phi.h
  by C4,C8,GROUP_9:125;
  hence phi.h in H by GROUP_4:28;
end;
\nwused{\\{NW2llOmu-3lDAoY-1}}\nwendcode{}\nwbegindocs{86}\nwdocspar

\begin{theorem}
The derived subgroup $G'=[G,G]$ is a characteristic subgroup.
\end{theorem}

\begin{proof}[Proof sketch.]
We simply use the fact that, for any automorphism (indeed, any
endomorphism) $\varphi\in\Aut(G)$, we have
$\varphi(\{[x,y]\mid x,y\in G\})=\{[x,y]\mid x,y\in G\})$. Then from the
previous theorem, we have $\varphi([G,G])=[G,G]$.
\end{proof}

\nwenddocs{}\nwbegincode{87}\sublabel{NW2llOmu-44iz0d-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-44iz0d-1}}}\moddef{Theorem: The derived subgroup is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-44iz0d-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th46:
  G` is characteristic
proof
  A1: [.1_G,1_G.] in commutators G;
  for phi being Automorphism of G holds phi .: commutators G = commutators G
  by Th43;
  hence thesis by A1,Th45;
end;
\nwindexdefn{\nwixident{Th46}}{Th46}{NW2llOmu-44iz0d-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th46}}{Th46}}}\nwendcode{}\nwbegindocs{88}\nwdocspar
\begin{theorem}
If $H\subgroup G$ is any subgroup, $a\in G$ is any group element, and
$\varphi\in\Aut(G)$, then $\varphi(aH)=\varphi(a)\varphi(H)$.
\end{theorem}

\begin{proof}[Proof sketch]
We prove set equality by showing $\varphi(aH)\subset\varphi(a)\varphi(H)$ and then
$\varphi(a)\varphi(H)\subset\varphi(aH)$, which then proves the result.
\end{proof}

\nwenddocs{}\nwbegincode{89}\sublabel{NW2llOmu-TIqNK-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-TIqNK-1}}}\moddef{Theorem: $H\subgroup G, a\in G$, $\varphi(aH)=\varphi(a)\varphi(H)$~{\nwtagstyle{}\subpageref{NW2llOmu-TIqNK-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th47:
  for G1,G2 being Group
  for H being Subgroup of G1
  for a being Element of G1
  for f being Homomorphism of G1,G2
  holds f.:(a * H) = (f.a) * (f .: H)
proof
  let G1,G2 be Group;
  let H be Subgroup of G1;
  let a be Element of G1;
  let f be Homomorphism of G1,G2;
  A1: dom f = the carrier of G1 by FUNCT_2:def 1;
  for y being object st y in f.:(a * H) holds y in (f.a)*(f.:H)
  proof
    let y be object;
    assume y in f .: (a * H);
    then consider x being object such that
    B1: x in the carrier of G1 & x in (a * H) and
    B2: y = f.x
    by A1,FUNCT_1:def 6;
    consider h being Element of G1 such that
    B3: x = a*h & h in H
    by B1,GROUP_2:103;
    B4: y = f.(a*h) by B2,B3
         .= (f.a)*(f.h) by GROUP_6:def 6;
    dom f = the carrier of G1 & h in H & h in G1 by B3,FUNCT_2:def 1;
    then f.h in f.:(the carrier of H) by FUNCT_1:def 6;
    then f.h in f.:H by GRSOLV_1:8;
    hence y in (f.a) * (f .: H) by B4,GROUP_2:103;
  end;
  then A1: f.:(a * H) c= (f.a) * (f .: H);
  for y being object st y in (f.a)*(f.:H) holds y in f.:(a * H)
  proof
    let y be object;
    assume y in (f.a)*(f.:H);
    then consider g being Element of G2 such that
    B1: y = (f.a)*g and
    B2: g in (f.:H)
    by GROUP_2:103;
    g in Image(f|H) by B2,GRSOLV_1:def 3;
    then consider x being Element of H such that
    B3: g = (f|H).x
    by GROUP_6:45;
    B4: x in H & x is Element of G1 by GROUP_2:42;
    reconsider x as Element of G1 by GROUP_2:42;
    B5: y = (f.a)*g by B1
         .= (f.a)*(f.x) by B3,B4,Th1
         .= f.(a*x) by GROUP_6:def 6;
    a*x in the carrier of G1 & dom f = the carrier of G1 by FUNCT_2:def 1;
    then (a*x) in dom f & (a*x) in a*H & y=f.(a*x) by B4,B5,GROUP_2:103;
    hence y in f.:(a * H) by FUNCT_1:def 6;
  end;
  then A2: (f.a) * (f .: H) c= f.:(a * H);
  thus f.:(a * H) = (f.a) * (f .: H) by A1,A2,XBOOLE_0:def 10;
end;
\nwindexdefn{\nwixident{Th47}}{Th47}{NW2llOmu-TIqNK-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th47}}{Th47}}}\nwendcode{}\nwbegindocs{90}\nwdocspar
\begin{theorem}
If $H\subgroup G$ is any subgroup, $a\in G$ is any group element, and
$\varphi\in\Aut(G)$, then $\varphi(Ha)=\varphi(H)\varphi(a)$.
\end{theorem}

The proof boils down to the same steps as the previous one.

\nwenddocs{}\nwbegincode{91}\sublabel{NW2llOmu-4LQhDT-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-4LQhDT-1}}}\moddef{Theorem: $H\subgroup G, a\in G$, $\varphi(Ha)=\varphi(H)\varphi(a)$~{\nwtagstyle{}\subpageref{NW2llOmu-4LQhDT-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th48:
  for G1,G2 being Group
  for H being Subgroup of G1
  for a being Element of G1
  for f being Homomorphism of G1,G2
  holds f.:(H * a) = (f .: H) * (f.a)
proof
  let G1,G2 be Group;
  let H be Subgroup of G1;
  let a be Element of G1;
  let f be Homomorphism of G1,G2;
  A1: dom f = the carrier of G1 by FUNCT_2:def 1;
  for y being object st y in f.:(H * a) holds y in (f.:H)*(f.a)
  proof
    let y be object;
    assume y in f .: (H * a);
    then consider x being object such that
    B1: x in the carrier of G1 & x in (H * a) and
    B2: y = f.x
    by A1,FUNCT_1:def 6;
    consider h being Element of G1 such that
    B3: x = h*a & h in H
    by B1,GROUP_2:104;
    dom f = the carrier of G1 & h in H & h in G1 by FUNCT_2:def 1, B3;
    then f.h in f.:(the carrier of H) by FUNCT_1:def 6;
    then f.h in f.:H by GRSOLV_1:8;
    then (f.h)*(f.a) in (f.:H)*(f.a) by GROUP_2:104;
    hence thesis by B2,B3,GROUP_6:def 6;
  end;
  then A2: f.:(H * a) c= (f .: H) * (f.a);
  for y being object st y in (f.:H)*(f.a) holds y in f.:(H * a)
  proof
    let y be object;
    assume y in (f.:H)*(f.a);
    then consider g being Element of G2 such that
    B1: y = g*(f.a) and
    B2: g in (f.:H)
    by GROUP_2:104;
    g in Image(f|H) by B2,GRSOLV_1:def 3;
    then consider x being Element of H such that
    B3: g = (f|H).x
    by GROUP_6:45;
    B4: x in H & x is Element of G1 by GROUP_2:42;
    reconsider x as Element of G1 by GROUP_2:42;
    B5: y = g*(f.a) by B1
         .= (f.x)*(f.a) by B3,B4,Th1
         .= f.(x*a) by GROUP_6:def 6;
    x*a in the carrier of G1 & dom f = the carrier of G1 by FUNCT_2:def 1;
    then (x*a) in dom f & (x*a) in H*a & y=f.(x*a) by B4,B5,GROUP_2:104;
    hence y in f.:(H * a) by FUNCT_1:def 6;
  end;
  then (f .: H) * (f.a) c= f.:(H * a);
  hence f.:(H * a) = (f .: H)*(f.a) by A2,XBOOLE_0:def 10;
end;
\nwindexdefn{\nwixident{Th48}}{Th48}{NW2llOmu-4LQhDT-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th48}}{Th48}}}\nwendcode{}\nwbegindocs{92}\nwdocspar
\begin{theorem}\label{thm:characteristic:automorphisms-preserve-normal-subgroups}
If $N\normalSubgroup G$, then given any automorphism $\varphi\in\Aut(G)$
of $G$ we have our automorphism map $N$ to another normal subgroup
$\varphi(N)\normalSubgroup G$.
\end{theorem}

\begin{proof}[Proof sketch]
We recall $gN=Ng$ for any $g\in G$ and normal subgroup $N\normalSubgroup
G$.
Then
\begin{subequations}
  \begin{align}
    \varphi(g)\varphi(N) &= \varphi(gN)\\
    &=\varphi(Ng)\\
    &=\varphi(N)\varphi(g).\qedhere
  \end{align}
\end{subequations}
\end{proof}

\nwenddocs{}\nwbegincode{93}\sublabel{NW2llOmu-17HxJc-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-17HxJc-1}}}\moddef{Theorem: $N\normalSubgroup G$, $\varphi\in\Aut(G)$ implies $\varphi(N)\normalSubgroup G$~{\nwtagstyle{}\subpageref{NW2llOmu-17HxJc-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th49:
  for G being Group
  for N being strict normal Subgroup of G
  for phi being Automorphism of G
  holds Image(phi|N) is normal Subgroup of G
proof
  let G be Group;
  let N be strict normal Subgroup of G;
  let phi be Automorphism of G;
  set H = Image(phi|N);
  for g being Element of G holds g * H = H * g
  proof
    let g be Element of G;
    set f = (phi").g;
    B1: phi.f = g by Th4;
    B2: phi .: (f * N) = (phi.f) * (phi .: N) by Th47
                      .= g * H by B1,GRSOLV_1:def 3;
    phi .: (N * f) = (phi .: N)*(phi.f) by Th48
                  .= (phi .: N)*g by Th4
                  .= H*g by GRSOLV_1:def 3;
    hence g * H = H * g by B2,GROUP_3:117;
  end;
  hence H is normal Subgroup of G by GROUP_3:117;
end;
\nwindexdefn{\nwixident{Th49}}{Th49}{NW2llOmu-17HxJc-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th49}}{Th49}}}\nwendcode{}\nwbegindocs{94}\nwdocspar
\begin{theorem}
Let $H\subgroup G$. Then $H$ is characteristic if and only if for any
automorphism $\varphi\in\Aut(G)$ and every $x\in H$ we have
$\varphi(x)\in H$.
\end{theorem}

\begin{thm-remark}
We need to have $H$ be a strict subgroup since the definition of a
characteristic subgroup requires $\forall\varphi\in\Aut(G),\varphi(H)=H$.
Without strictness, we cannot have subgroup equality.
\end{thm-remark}

\begin{proof}[Proof sketch.]
There are two key moments to this proof:
\begin{enumerate}
\item $H$ is characteristic implies $\forall\varphi\in\Aut(G),\forall x\in H,\varphi(x)\in H$;
\item $\forall\varphi\in\Aut(G),\forall x\in H,\varphi(x)\in H$ implies $H$ is characteristic.
\end{enumerate}
The result follows immediately.
\end{proof}

\nwenddocs{}\nwbegincode{95}\sublabel{NW2llOmu-2u8tjJ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2u8tjJ-1}}}\moddef{Theorem: $H\subgroup G$ characteristic $\iff\forall\varphi\in\Aut(G)\forall x\in H,\varphi(x)\in H$~{\nwtagstyle{}\subpageref{NW2llOmu-2u8tjJ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th50:
  for G being Group
  for H being strict Subgroup of G
  holds H is characteristic iff
        (for phi being Automorphism of G
         for x being Element of G
         st x in H
         holds phi.x in H)
proof
  let G be Group;
  let H be strict Subgroup of G;
  thus H is characteristic implies (for phi being Automorphism of G
                                    for x being Element of G
                                    st x in H
                                    holds phi.x in H)
  proof
    assume B1: H is characteristic;
    let phi be Automorphism of G;
    let x be Element of G;
    assume B2: x in H;
    B3: H = Image(phi|H) by B1
         .= phi .: H by GRSOLV_1:def 3;
    dom phi = the carrier of G by FUNCT_2:def 1;
    then phi.x in phi .: (the carrier of H) by B2,FUNCT_1:def 6;
    hence thesis by B3,GRSOLV_1:8;
  end;
  thus (for phi being Automorphism of G
        for x being Element of G
        st x in H
        holds phi.x in H)
       implies H is characteristic
  proof
    assume B1: for phi being Automorphism of G
               for x being Element of G st x in H holds phi.x in H;
    for phi being Automorphism of G holds Image(phi|H) is Subgroup of H
    proof
      let phi be Automorphism of G;
      for x being Element of H holds phi.x in H
      proof
        let x be Element of H;
        reconsider g=x as Element of G by GROUP_2:42;
        g in H;
        hence thesis by B1;
      end;
      hence Image(phi|H) is Subgroup of H by Th44;
    end;
    hence H is characteristic by Th40;
  end;
end;
\nwindexdefn{\nwixident{Th50}}{Th50}{NW2llOmu-2u8tjJ-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th50}}{Th50}}}\nwendcode{}\nwbegindocs{96}\nwdocspar
\begin{theorem}
If $H\subgroup G$ and $K\subgroup G$ are strict characteristic subgroups,
then $H\cap K$ is a characteristic subgroup.
\end{theorem}

\begin{thm-remark}
Although we don't use this result in this article, it is important in
other settings.
\end{thm-remark}

\begin{proof}[Proof sketch]
For any $x\in H\cap K$ and automorphism $\varphi\in\Aut(G)$, we have
$\varphi(x)\in H$ and $\varphi(x)\in K$, hence $\varphi(x)\in H\cap K$.
Since $x$ was arbitrary, this establishes $\varphi(H\cap K)\subgroup H\cap K$,
which implies $H\cap K$ is characteristic.
\end{proof}

\nwenddocs{}\nwbegincode{97}\sublabel{NW2llOmu-ycPYy-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-ycPYy-1}}}\moddef{Theorem: $H,K\subgroup G$ characteristic implies $H\cap K$ characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-ycPYy-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th51:
  for G being Group
  for H,K being strict characteristic Subgroup of G
  holds H /\\ K is characteristic Subgroup of G
proof
  let G be Group;
  let H,K be strict characteristic Subgroup of G;
  for phi being Automorphism of G
  for x being Element of G st x in H /\\ K
  holds phi.x in H /\\ K
  proof
    let phi be Automorphism of G;
    let x be Element of G;
    assume x in H /\\ K;
    then B1: x in H & x in K by GROUP_2:82;
    then B2: phi.x in H by Th50;
    phi.x in K by B1,Th50;
    hence phi.x in H /\\ K by B2, GROUP_2:82;
  end;
  hence H /\\ K is characteristic Subgroup of G by Th50;
end;
\nwindexdefn{\nwixident{Th51}}{Th51}{NW2llOmu-ycPYy-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th51}}{Th51}}}\nwendcode{}\nwbegindocs{98}\nwdocspar
\begin{theorem}
  If $H\subgroup G$ and $K\subgroup G$ are characteristic subgroups,
  then $\langle H, K\rangle$ is a characteristic subgroup of $G$.
\end{theorem}

\begin{thm-remark}
More generally, if $\{K_{i}\}_{i\in I}$ is any family of characteristic subgroups
of $G$, then their join $\langle K_{i}\rangle_{i\in I}$.
\end{thm-remark}

\begin{proof}[Proof sketch]
This amounts to showing the product of subsets $U(H)U(K)$ is stable
under automorphisms of $G$, then it generates a characteristic subgroup
of $G$.
\end{proof}

\nwenddocs{}\nwbegincode{99}\sublabel{NW2llOmu-2FHlHr-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-2FHlHr-1}}}\moddef{Theorem: $H,K\subgroup G$ characteristic implies $\langle H, K\rangle$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-2FHlHr-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th52:
  for G being Group
  for H,K being strict characteristic Subgroup of G
  holds H "\\/" K is characteristic Subgroup of G
proof
  let G be Group;
  let H,K be strict characteristic Subgroup of G;

  for phi being Automorphism of G
  for g being Element of G st g in H "\\/" K
  holds phi.g in H "\\/" K
  proof
    let phi be Automorphism of G;
    let g be Element of G;
    assume g in H "\\/" K;
    then g in H*K by GROUP_4:53;
    then consider h, k being Element of G such that
    B1: g = h*k and
    B2: h in carr H and
    B3: k in carr K;
    h in H by B2;
    then B4: phi.h in H by Th50;
    k in K by B3;
    then phi.k in K by Th50;
    then phi.h * phi.k in carr H*carr K by B4;
    then phi.g in H*K by B1,GROUP_6:def 6;
    hence phi.g in H "\\/" K by GROUP_4:53;
  end;

  hence H "\\/" K is characteristic Subgroup of G by Th50;
end;
\nwindexdefn{\nwixident{Th52}}{Th52}{NW2llOmu-2FHlHr-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th52}}{Th52}}}\nwendcode{}\nwbegindocs{100}\nwdocspar
\begin{theorem}
If $H\subgroup G$ and $K\subgroup G$ are characteristic, then the set of
commutators $\{[h,k]\in G\mid h\in H, k\in K\}$ is invariant under
automorphisms of $G$.
\end{theorem}

\begin{proof}[Proof outline]
We prove equality by showing ${\rm Commutators}(H,K)\subset\varphi({\rm Commutators}(H,K))$
and ${\rm Commutators}(H,K)\supset\varphi({\rm Commutators}(H,K))$,
which proves equality.
\end{proof}

\nwenddocs{}\nwbegincode{101}\sublabel{NW2llOmu-41VHSD-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-41VHSD-1}}}\moddef{Theorem: $H,K\subgroup G$ characteristic implies ${\rm Commutators}(H,K)$ is stable~{\nwtagstyle{}\subpageref{NW2llOmu-41VHSD-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th53:
  for G being Group
  for H,K being strict characteristic Subgroup of G
  for phi being Automorphism of G
  holds phi .: commutators(H,K) = commutators(H,K)
proof
  let G be Group;
  let H,K be strict characteristic Subgroup of G;
  let phi be Automorphism of G;
  A1: dom phi = the carrier of G by FUNCT_2:def 1;

  for x being object st x in commutators(H,K) holds x in phi .: commutators(H,K)
  \LA{}Proof: ${\rm Commutators}(H,K)\subset\varphi({\rm Commutators}(H,K))$~{\nwtagstyle{}\subpageref{NW2llOmu-412Ya0-1}}\RA{}
  then A2: commutators(H,K) c= phi .: commutators(H,K);

  for y being object st y in phi .: commutators(H,K) holds y in commutators(H,K)
  \LA{}Proof: ${\rm Commutators}(H,K)\supset\varphi({\rm Commutators}(H,K))$~{\nwtagstyle{}\subpageref{NW2llOmu-1RjAjC-1}}\RA{}
  then phi .: commutators(H,K) c= commutators(H,K);
  hence phi .: commutators(H,K) = commutators(H,K) by A2,XBOOLE_0:def 10;
end;
\nwindexdefn{\nwixident{Th53}}{Th53}{NW2llOmu-41VHSD-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th53}}{Th53}}}\nwendcode{}\nwbegindocs{102}\nwdocspar
\begin{proof}[Proof step (${\rm Commutators}(H,K)\subset\varphi({\rm Commutators}(H,K))$)]
We show $x\in{\rm Commutators}(H,K)$ looks like $x=[h,k]$ for some $h\in H$
and $k\in K$. But then given an automorphism $\varphi\in\Aut(G)$, we can
find $a=\varphi^{-1}(h)\in H$ and $b=\varphi^{-1}(k)\in K$ since $H$ and $K$ are
characteristic subgroups. Then $[a,b]\in[H,K]$ and moreover
$\varphi([a,b])=[h,k]$ which proves the claim.
\end{proof}

\nwenddocs{}\nwbegincode{103}\sublabel{NW2llOmu-412Ya0-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-412Ya0-1}}}\moddef{Proof: ${\rm Commutators}(H,K)\subset\varphi({\rm Commutators}(H,K))$~{\nwtagstyle{}\subpageref{NW2llOmu-412Ya0-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-41VHSD-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume B0: x in commutators(H,K);
  then reconsider g=x as Element of G;
  consider h,k being Element of G such that
  B1: x = [.h,k.] and
  B2: h in H & k in K by B0,GROUP_5:52;
  reconsider psi = phi" as Automorphism of G by GROUP_6:62;
  set a = psi.h;
  set b = psi.k;
  B3: a in H & b in K by B2,Th50;
  B4: psi.x = psi.([.h,k.]) by B1
           .= [.psi.h,psi.k.] by GROUP_6:34
           .= [.a,b.];
  B5: phi.([. a,b .]) = phi.(psi.x) by B4
                     .= g by Th4;
  [. a, b .] in commutators(H,K) by B3;
  hence x in phi .: commutators(H,K) by B5,A1,FUNCT_1:def 6;
end;
\nwused{\\{NW2llOmu-41VHSD-1}}\nwendcode{}\nwbegindocs{104}\nwdocspar

\begin{proof}[Proof step (${\rm Commutators}(H,K)\supset\varphi({\rm Commutators}(H,K))$)]
We begin with $y\in\varphi({\rm Commutators}(H,K))$, which means there
is some $x\in{\rm Commutators}(H,K)$ such that $y=\varphi(x)$. Then
there is some $h\in H$, $k\in K$ such that $x=[h,k]$. Since $H$ and $K$
are characteristic subgroups, $\varphi(h)\in H$ and $\varphi(k)\in K$.
Then $\varphi(x)=[\varphi(h),\varphi(k)]\in{\rm Commutators}(H,K)$
which proves the claim.
\end{proof}

\nwenddocs{}\nwbegincode{105}\sublabel{NW2llOmu-1RjAjC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-1RjAjC-1}}}\moddef{Proof: ${\rm Commutators}(H,K)\supset\varphi({\rm Commutators}(H,K))$~{\nwtagstyle{}\subpageref{NW2llOmu-1RjAjC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-41VHSD-1}}\nwenddeflinemarkup
proof
  let y be object;
  assume y in phi .: commutators(H,K);
  then consider x being object such that
  B2: x in dom phi & x in commutators(H,K) & y = phi.x
  by FUNCT_1:def 6;
  consider h,k being Element of G such that
  B3: x = [.h,k.] and
  B4: h in H & k in K by B2,GROUP_5:52;
  B5: phi.h in H & phi.k in K by B4,Th50;
  phi.x = phi.([. h,k .]) by B3
       .= [. phi.h, phi.k .] by GROUP_6:34;
  hence y in commutators(H,K) by B2,B5;
end;
\nwused{\\{NW2llOmu-41VHSD-1}}\nwendcode{}\nwbegindocs{106}\nwdocspar

\begin{theorem}
If $H\subgroup G$ and $K\subgroup G$ are characteristic, then the commutator
subgroup $[H,K]$ is a characteristic subgroup.
\end{theorem}

\begin{proof}[Proof sketch]
We use the fact $\varphi([H,K]) = [\varphi(H),\varphi(K)]$, then since
$H$ and $K$ are characteristic the result follows immediately.
\end{proof}

\nwenddocs{}\nwbegincode{107}\sublabel{NW2llOmu-E9Ys0-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW2llOmu-E9Ys0-1}}}\moddef{Theorem: $H,K\subgroup G$ characteristic implies $[H,K]$ is characteristic~{\nwtagstyle{}\subpageref{NW2llOmu-E9Ys0-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW2llOmu-3NltVm-1}}\nwenddeflinemarkup
theorem Th54:
  for G being Group
  for H,K being strict characteristic Subgroup of G
  holds [.H,K.] is characteristic Subgroup of G
proof
  let G be Group;
  let H,K be strict characteristic Subgroup of G;
  set A = commutators(H,K);
  reconsider A as non empty Subset of G by GROUP_5:53;
  for phi being Automorphism of G holds phi .: A = A by Th53;
  hence [.H,K.] is characteristic Subgroup of G by Th45;
end;
\nwindexdefn{\nwixident{Th54}}{Th54}{NW2llOmu-E9Ys0-1}\eatline
\nwused{\\{NW2llOmu-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th54}}{Th54}}}\nwendcode{}\nwfilename{nw/001-characteristic/meet.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-

\section{Meets of Families of Subgroups}

\nwenddocs{}\nwbegincode{1}\sublabel{NW1xOoCH-3kq7TJ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1xOoCH-3kq7TJ-1}}}\moddef{Meets of families of subgroups~{\nwtagstyle{}\subpageref{NW1xOoCH-3kq7TJ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1Vve9X-1}}\nwenddeflinemarkup
\LA{}Scheme: $\bigcap\mathcal{F}$ is minimal~{\nwtagstyle{}\subpageref{NW1xOoCH-3ty16D-1}}\RA{}

\LA{}Theorem: $H_{1}\subgroup H_{2}\subgroup G$ and $a\in G$ implies ${H_{1}}^{a}\subgroup {H_{2}}^{a}$~{\nwtagstyle{}\subpageref{NW1xOoCH-2LUja1-1}}\RA{}

\LA{}Scheme: $\bigcap\{N\normalSubgroup G\mid P[N]\}\normalSubgroup G$~{\nwtagstyle{}\subpageref{NW1xOoCH-1pqJEJ-1}}\RA{}

\LA{}Theorem: Meet of family of normal subgroups is normal~{\nwtagstyle{}\subpageref{NW1xOoCH-35XaBG-1}}\RA{}

\nwused{\\{NWUmZ11-1Vve9X-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{scheme}
If we have some group $G$ and some family of subgroups defined by some
unary predicate $\mathcal{F}=\{H\subgroup G\mid P[H]\}$, then there
exists a group obtained by their meet $H_{\text{min}}=\bigcap\mathcal{F}$
such that for any $K\subgroup G$ satisfying $P[K]$ has a subgroup
$H\subgroup K$.
\end{scheme}

\begin{proof}[Proof outline]
There are two steps to this proof: first, we prove that
$\bigcap\mathcal{F}$ really is a group (thanks to~\mml[sch1]{group4}.
Second, we prove that $\bigcap\mathcal{F}$ really is minimal. This is
because for any $K\subgroup G$ satisfying $P[K]$, we have its underlying
set $U(K)$ contain the underlying set of $\bigcap\mathcal{F}$. Thus $K$
must contain the meet as a subgroup, establishing $\bigcap\mathcal{F}$
is minimal.
\end{proof}

\nwenddocs{}\nwbegincode{3}\sublabel{NW1xOoCH-3ty16D-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1xOoCH-3ty16D-1}}}\moddef{Scheme: $\bigcap\mathcal{F}$ is minimal~{\nwtagstyle{}\subpageref{NW1xOoCH-3ty16D-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1xOoCH-3kq7TJ-1}}\nwenddeflinemarkup
scheme :: sch3
  MeetIsMinimal\{G() -> Group, P[set]\} :
  ex H being strict Subgroup of G() st
  the carrier of H = meet \{A where A is Subset of G() :
                           ex K being strict Subgroup of G()
                           st A = the carrier of K & P[K]\} &
  (for K being strict Subgroup of G() st P[K] holds H is Subgroup of K)
provided
A1: ex H being strict Subgroup of G() st P[H]
proof
  set Fam = \{A where A is Subset of G() : ex H being strict Subgroup of G()
                                          st A = the carrier of H & P[H]\};
  consider H being strict Subgroup of G() such that
A2: the carrier of H = meet \{A where A is Subset of G() :
                             ex K being strict Subgroup of G()
                             st A = the carrier of K & P[K]\}
  from GROUP_4:sch 1(A1);
  take H;
  for K being strict Subgroup of G() st P[K] holds H is Subgroup of K
  proof
    let K be strict Subgroup of G();
    assume P[K];
    then carr K in Fam;
    hence H is Subgroup of K by A2,GROUP_2:57,SETFAM_1:3;
  end;
  hence thesis by A2;
end;
\nwindexdefn{\nwixident{MeetIsMinimal}}{MeetIsMinimal}{NW1xOoCH-3ty16D-1}\eatline
\nwused{\\{NW1xOoCH-3kq7TJ-1}}\nwidentdefs{\\{{\nwixident{MeetIsMinimal}}{MeetIsMinimal}}}\nwendcode{}\nwbegindocs{4}\nwdocspar
\begin{theorem}
Let $G$ be a group, let $H_{1}\subgroup G$ and $H_{2}\subgroup G$ be subgroups.
If $H_{1}\subgroup H_{2}$ and $a\in G$ is an arbitrary element,
then the conjugates-by-$a$ are subgroups too: ${H_{1}}^{a}\subgroup{H_{2}}^{a}$.
\end{theorem}

\begin{proof}[Proof outline]
The key to this proof amounts to observing any $h\in G$ such that
$h\in{H_{1}}^{a}$, we find $h\in{H_{2}}^{a}$. We can claim this by
having $g\in G$ such that $h=g^{a}$. But then $g\in H_{1}$ and moreover
$g\in H_{2}$, which implies $h\in{H_{2}}^{a}$. Then the result follows from
Theorem~\mml[Th57]{group2}.
\end{proof}

\nwenddocs{}\nwbegincode{5}\sublabel{NW1xOoCH-2LUja1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1xOoCH-2LUja1-1}}}\moddef{Theorem: $H_{1}\subgroup H_{2}\subgroup G$ and $a\in G$ implies ${H_{1}}^{a}\subgroup {H_{2}}^{a}$~{\nwtagstyle{}\subpageref{NW1xOoCH-2LUja1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1xOoCH-3kq7TJ-1}}\nwenddeflinemarkup
theorem Th55:
  for G being Group
  for H1,H2 being Subgroup of G
  st H1 is Subgroup of H2
  for a being Element of G
  holds H1 |^ a is Subgroup of H2 |^ a
proof
  let G be Group;
  let H1,H2 be Subgroup of G;
  assume A1: H1 is Subgroup of H2;
  let a be Element of G;
  for h being Element of G st h in H1 |^ a holds h in H2 |^ a
  proof
    let h be Element of G;
    assume h in H1 |^ a;
    then consider g being Element of G such that
    B1: h = g |^ a & g in H1
    by GROUP_3:58;
    g in H2 by A1,B1,GROUP_2:40;
    hence thesis by B1,GROUP_3:58;
  end;
  hence H1 |^ a is Subgroup of H2 |^ a by GROUP_2:58;
end;
\nwindexdefn{\nwixident{Th55}}{Th55}{NW1xOoCH-2LUja1-1}\eatline
\nwused{\\{NW1xOoCH-3kq7TJ-1}}\nwidentdefs{\\{{\nwixident{Th55}}{Th55}}}\nwendcode{}\nwbegindocs{6}\nwdocspar
\begin{scheme}
Let $G$ be a group, $P[-]$ an arbitrary unary predicate.
If $\mathcal{F}=\{N\normalSubgroup G\mid P[N]\}$ is a family of normal
subgroup of $G$ satisfying $P[N]$, then their meet $\bigcap\mathcal{F}$
is a normal subgroup of $G$.
\end{scheme}

\nwenddocs{}\nwbegincode{7}\sublabel{NW1xOoCH-1pqJEJ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1xOoCH-1pqJEJ-1}}}\moddef{Scheme: $\bigcap\{N\normalSubgroup G\mid P[N]\}\normalSubgroup G$~{\nwtagstyle{}\subpageref{NW1xOoCH-1pqJEJ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1xOoCH-3kq7TJ-1}}\nwenddeflinemarkup
scheme :: sch4
  MeetOfNormsIsNormal\{G() -> Group, P[set]\} :
  for H being strict Subgroup of G()
  st the carrier of H = meet \{A where A is Subset of G() :
                              ex N being strict Subgroup of G()
                              st A = the carrier of N & N is normal & P[N]\}
  holds H is strict normal Subgroup of G()
provided
A1: ex H being strict normal Subgroup of G() st P[H]
proof
  defpred IsNorm[Subgroup of G()] means $1 is normal Subgroup of G();
  set Fam = \{A where A is Subset of G() : ex N being strict Subgroup of G()
                                          st A = the carrier of N &
                                             N is normal & P[N]\};
  let H be strict Subgroup of G();
  assume A2: the carrier of H = meet Fam;
  A3: Fam <> \{\}
  proof
    consider N being strict normal Subgroup of G() such that
    B1: P[N]
    by A1;
    carr N in Fam by B1;
    hence thesis;
  end;
  A4: for N being strict normal Subgroup of G() st P[N] holds H is Subgroup of N
  proof
    let N be strict normal Subgroup of G();
    assume P[N];
    then carr N in Fam;
    hence H is Subgroup of N by A2,GROUP_2:57,SETFAM_1:3;
  end;
  A5: for N being strict normal Subgroup of G() st carr N in Fam holds P[N]
  proof
    let N be strict normal Subgroup of G();
    assume B1: carr N in Fam;
    consider A being Subset of G() such that
    B2: A = carr N;
    consider A0 being Subset of G() such that
    B3: A = A0 and
    B4: ex H0 being strict Subgroup of G()
        st A0 = the carrier of H0 & H0 is normal & P[H0]
    by B1,B2;
    consider H0 being strict Subgroup of G() such that
    B5: A0 = the carrier of H0 & H0 is normal & P[H0]
    by B4;
    thus P[N] by B2,B3,B5,GROUP_2:59;
  end;
  A6: for a being Element of G()
  for N being strict normal Subgroup of G() st carr N in Fam
  holds H |^ a is Subgroup of N
  proof
    let a be Element of G();
    let N be strict normal Subgroup of G();
    assume carr N in Fam;
    then H is Subgroup of N by A4,A5;
    then H |^ a is Subgroup of N |^ a by Th55;
    hence H |^ a is Subgroup of N by GROUP_3:def 13;
  end;
  A7: for a being Element of G()
  for N being strict normal Subgroup of G() st carr N in Fam
  holds carr(H |^ a) c= carr N
  proof
    let a be Element of G();
    let N be strict normal Subgroup of G();
    assume carr N in Fam;
    then H |^ a is Subgroup of N by A6;
    hence carr(H |^ a) c= carr N by GROUP_2:def 5;
  end;

  for a being Element of G() holds H |^ a is Subgroup of H
  proof
    let a be Element of G();
    B1: for A being Subset of G() st A in Fam holds carr(H |^ a) c= A
    proof
      let A be Subset of G();
      assume A in Fam;
      then consider A0 being Subset of G() such that
      C1: A = A0 and
      C2: ex H0 being strict Subgroup of G()
          st A0 = the carrier of H0 & H0 is normal & P[H0];
      consider H0 being strict Subgroup of G() such that
      C3: A0 = the carrier of H0 & H0 is normal & P[H0]
      by C2;
      reconsider H0 as strict normal Subgroup of G() by C3;
      carr H0 in Fam by C3;
      hence carr(H |^ a) c= A by A7,C1,C3;
    end;
    for x being object st x in carr (H |^ a) holds x in meet Fam
    proof
      let x be object;
      assume C1: x in carr(H |^ a);
      for A being set st A in Fam holds x in A
      proof
        let A be set;
        assume C2: A in Fam;
        then consider A0 being Subset of G() such that
        C3: A0 = A and
            ex H0 being strict Subgroup of G()
            st A0 = the carrier of H0 & H0 is normal & P[H0];
        carr(H |^ a) c= A0 by C2,C3,B1;
        hence thesis by C1,C3;
      end;
      hence thesis by A3,SETFAM_1:def 1;
    end;
    then carr (H |^ a) c= meet Fam;
    hence thesis by A2,GROUP_2:57;
  end;
  hence thesis by GROUP_3:122;
end;
\nwindexdefn{\nwixident{MeetOfNormsIsNormal}}{MeetOfNormsIsNormal}{NW1xOoCH-1pqJEJ-1}\eatline
\nwused{\\{NW1xOoCH-3kq7TJ-1}}\nwidentdefs{\\{{\nwixident{MeetOfNormsIsNormal}}{MeetOfNormsIsNormal}}}\nwendcode{}\nwbegindocs{8}\nwdocspar
\begin{theorem}
Let $G$ be a group, $\mathcal{X}$ be a finite collection of normal
subgroups of $G$.
If $\mathcal{X}\neq\emptyset$, then there exists a normal subgroup
$N\normalSubgroup G$ such that $N=\bigcap\mathcal{X}$.
\end{theorem}

\begin{thm-remark}
Note, unlike the previous scheme, this is a theorem and can be used in
conjunction with other theorems in justifying a claim.
\end{thm-remark}

\nwenddocs{}\nwbegincode{9}\sublabel{NW1xOoCH-35XaBG-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1xOoCH-35XaBG-1}}}\moddef{Theorem: Meet of family of normal subgroups is normal~{\nwtagstyle{}\subpageref{NW1xOoCH-35XaBG-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1xOoCH-3kq7TJ-1}}\nwenddeflinemarkup
theorem Th56:
  for G being Group
  for X being finite set
  st X <> \{\} & (for A being Element of X
                ex N being strict normal Subgroup of G
                st A = the carrier of N)
  ex N being strict normal Subgroup of G
  st the carrier of N = meet X
proof
  let G be Group;
  let X be finite set;
  assume A1: X <> \{\};
  assume A2: for A being Element of X
             ex N being strict normal Subgroup of G
             st A = the carrier of N;
  defpred P[Group] means $1 is normal Subgroup of G & the carrier of $1 in X;
  set Fam = \{A where A is Subset of G : ex N being strict Subgroup of G
                                        st A = the carrier of N & P[N]\};
  set Fam2 = \{A where A is Subset of G : ex N being strict Subgroup of G
                                         st A = the carrier of N &
                                         N is normal & P[N]\};
  A3: ex H being strict Subgroup of G st P[H]
  proof
    consider A being object such that
    B1: A in X by A1,XBOOLE_0:def 1;
    reconsider A as Element of X by B1;
    consider H being strict normal Subgroup of G such that
    B2: A = the carrier of H
    by A2;
    take H;
    thus P[H] by B1,B2;
  end;

  consider N being strict Subgroup of G such that
  A4: the carrier of N = meet Fam
  from GROUP_4:sch 1(A3);

  for A being object holds A in Fam iff A in Fam2
  proof
    let A be object;
    thus A in Fam implies A in Fam2
    proof
      assume A in Fam;
      then consider A0 being Subset of G such that
      B1: A = A0 and
      B2: ex N being strict Subgroup of G st A0 = the carrier of N & P[N];

      consider N being strict Subgroup of G such that
      B3: A0 = the carrier of N & P[N]
      by B2;
      thus A in Fam2 by B1,B3;
    end;
    thus A in Fam2 implies A in Fam
    proof
      assume A in Fam2;
      then consider A0 being Subset of G such that
      B1: A = A0 &
          ex N being strict Subgroup of G
          st A0 = the carrier of N & N is normal & P[N];
      thus A in Fam by B1;
    end;
  end;
  then A5: Fam = Fam2 by TARSKI:2;

  A6: ex H being strict normal Subgroup of G st P[H] by A3;
  for H being strict Subgroup of G st the carrier of H = meet Fam2
  holds H is strict normal Subgroup of G
  from MeetOfNormsIsNormal(A6);
  then reconsider N as strict normal Subgroup of G by A4,A5;
  take N;

  for A being object holds A in Fam iff A in X
  proof
    let A be object;
    thus A in Fam implies A in X
    proof
      assume A in Fam;
      then consider A0 being Subset of G such that
      B1: A = A0 &
          ex N being strict Subgroup of G st A0 = the carrier of N & P[N];
      thus thesis by B1;
    end;
    thus A in X implies A in Fam
    proof
      assume B1: A in X;
      then consider N being strict normal Subgroup of G such that
      B2: A = the carrier of N
      by A2;
      A is Subset of G by B2,GROUP_2:def 5;
      hence A in Fam by B1,B2;
    end;
  end;
  hence the carrier of N = meet X by A4,TARSKI:2;
end;
\nwindexdefn{\nwixident{Th56}}{Th56}{NW1xOoCH-35XaBG-1}\eatline
\nwused{\\{NW1xOoCH-3kq7TJ-1}}\nwidentdefs{\\{{\nwixident{Th56}}{Th56}}}\nwendcode{}\nwfilename{nw/001-characteristic/centralizer.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-

\section{Centralizers of Characteristic Subgroups}\label{sec:characteristic:centralizer}

\nwenddocs{}\nwbegincode{1}\sublabel{NW430QVE-2Y3Nao-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-2Y3Nao-1}}}\moddef{Centralizers of Characteristic Subgroups~{\nwtagstyle{}\subpageref{NW430QVE-2Y3Nao-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWUmZ11-1Vve9X-1}}\nwenddeflinemarkup
\LA{}Definition: Centralizer of Subset~{\nwtagstyle{}\subpageref{NW430QVE-1mdlmG-1}}\RA{}

\LA{}Theorem: $A\subset G$ and $g\in G$, have $g\in C_{G}(A)\iff(\forall a\in A, ga=ag)$~{\nwtagstyle{}\subpageref{NW430QVE-3oR9h1-1}}\RA{}

\LA{}Theorem: $A\subset B\subset G\implies C_{G}(B)\subgroup C_{G}(A)$~{\nwtagstyle{}\subpageref{NW430QVE-3rg69a-1}}\RA{}

\LA{}Definition: Centralizer of Subgroup~{\nwtagstyle{}\subpageref{NW430QVE-1mSO5f-1}}\RA{}

\LA{}Theorem: carrier of $C_{G}(H) = \{b\in G\mid\forall a\in H, ba=ab\}$~{\nwtagstyle{}\subpageref{NW430QVE-3SA8xa-1}}\RA{}

\LA{}Theorem: Let $g\in G$. Then $g\in C_{G}(H)\iff\forall h\in H,gh=hg$~{\nwtagstyle{}\subpageref{NW430QVE-3TgHH7-1}}\RA{}

\LA{}Theorem: $A\subset G\implies A\subset C_{G}(C_{G}(A))$~{\nwtagstyle{}\subpageref{NW430QVE-1nMINk-1}}\RA{}

\LA{}Theorem: Centralizer of characteristic subgroups is characteristic~{\nwtagstyle{}\subpageref{NW430QVE-H5LVi-1}}\RA{}

\LA{}Definition: $\forall a\in G$, $\{a\}\subset G$~{\nwtagstyle{}\subpageref{NW430QVE-kN6Qo-1}}\RA{}

\LA{}Theorem: $\{x\}=\{y\}\iff x=y$~{\nwtagstyle{}\subpageref{NW430QVE-4FQduE-1}}\RA{}

\LA{}Definition: Normalizer of group element~{\nwtagstyle{}\subpageref{NW430QVE-31qtea-1}}\RA{}

\LA{}Theorem: $h\in N_{G}(a)\iff a^{h}=a$~{\nwtagstyle{}\subpageref{NW430QVE-1R1gyw-1}}\RA{}

\LA{}Theorem: $A\subset G$, $C_{G}(A) = \bigcap_{a\in A}N_{G}(a)$~{\nwtagstyle{}\subpageref{NW430QVE-20pkyx-1}}\RA{}

\LA{}Theorem: $|H_{1}\cap H_{2}|=|H_{1}|=|H_{2}|\implies H_{1}=H_{2}$~{\nwtagstyle{}\subpageref{NW430QVE-1Is6lQ-1}}\RA{}

\LA{}Theorem: $\forall a,b,c\in\NN, c\neq0\land c|a\land c|b\implies a|b$~{\nwtagstyle{}\subpageref{NW430QVE-2glx4T-1}}\RA{}

\LA{}Theorem: $a,b,c\in\NN, b|c\land\gcd(ab,c)=1\implies b=1$~{\nwtagstyle{}\subpageref{NW430QVE-2iwTOx-1}}\RA{}

\LA{}Theorem: $G_{1}/N_{1}\iso G_{2}/N_{2}\implies |N_{2}|\cdot|G_{1}|=|N_{1}|\cdot|G_{2}|$~{\nwtagstyle{}\subpageref{NW430QVE-1zJb4f-1}}\RA{}

\LA{}Theorem: $K,N\normalSubgroup G\implies |KN|\cdot|K\cap N|=|K|\cdot|N|$~{\nwtagstyle{}\subpageref{NW430QVE-2r8YQx-1}}\RA{}

\LA{}Theorem: $N\normalSubgroup G$ with $|N|$ and $[G:N]$ coprime implies $N$ is characteristic~{\nwtagstyle{}\subpageref{NW430QVE-1ShwoU-1}}\RA{}

\LA{}Theorem: $f_{2}(f_{1}(A))=(f_{2}\circ f_{1})(A)$ for group morphisms~{\nwtagstyle{}\subpageref{NW430QVE-2e3eIH-1}}\RA{}

\LA{}Theorem: $\varphi\in\Aut(G)$, $\varphi(N)=N$, $\exists\sigma\in\Aut(G/N),\sigma(xN)=\varphi(x)N$~{\nwtagstyle{}\subpageref{NW430QVE-1SL1oX-1}}\RA{}

\LA{}Theorem: $H$ char $G$ and $H\subgroup K\subgroup G$, then $H\normalSubgroup K$~{\nwtagstyle{}\subpageref{NW430QVE-1JPGDx-1}}\RA{}

\LA{}Theorem: $H\subgroup K\subgroup G$, $H$ char $G$, $K/H$ char $G/H$ implies $K$ is characteristic~{\nwtagstyle{}\subpageref{NW430QVE-20SEtU-1}}\RA{}

\LA{}Theorem: $H\subgroup G$, $H\subgroup C_{G}(H)\iff$ $H$ is commutative~{\nwtagstyle{}\subpageref{NW430QVE-1WaraY-1}}\RA{}

\LA{}Theorem: $C_{G}(G)=Z(G)$~{\nwtagstyle{}\subpageref{NW430QVE-WnnkI-1}}\RA{}

\LA{}Theorem: $N\normalSubgroup G\implies C_{G}(H)\normalSubgroup G$~{\nwtagstyle{}\subpageref{NW430QVE-36sPMb-1}}\RA{}

\LA{}Theorem: $\forall h\in H,n\in N_{G}(H), n^{-1}hn\in H$~{\nwtagstyle{}\subpageref{NW430QVE-v2ec6-1}}\RA{}

\LA{}Theorem: $\forall H\subgroup G, H\subgroup N_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-40hsCt-1}}\RA{}

\LA{}Lemma: $C_{G}(H)\subgroup N_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-2s71i7-1}}\RA{}

\LA{}Theorem: $C_{G}(H)\normalSubgroup N_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-3FkwqH-1}}\RA{}
\nwused{\\{NWUmZ11-1Vve9X-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{definition}\label{defn:characteristic-subgroup:centralizer-of-subset}
  Let $G$ be a group, let $A\subset G$ be a subset of $G$.
  We define the \define{Centralizer} of $A$ to be the subgroup of $G$
  given by
  \begin{equation}
C_{G}(A) = \{g\in G\mid \forall a\in A, ag=ga\}.
  \end{equation}
\end{definition}

\begin{def-remark}
We not only need to prove the existence of centralizers, but also the
uniqueness (since we speak of \emph{the} centralizer of $A$).
\end{def-remark}
\begin{def-remark}
Note that \mml{weddwitt} defines the centralizer of a group \emph{element},
but nothing further (well, nothing further about group centralizers).
\end{def-remark}

\begin{proof}[Proof sketch of existence]
Basically, we have four steps to proving the existence of a centralizer
subgroup $C_{G}(A)$:
\begin{enumerate}
\item it contains the identity element $1_{G}\in C_{G}(A)$;
\item its carrier is a subset of $G$, $C_{G}(A)\subset G$;
\item it is closed under the group operation;
\item it is closed under inversion.
\end{enumerate}
Then from these claims, it follows $C_{G}(A)$ is a subgroup.
\end{proof}

\begin{proof}[Proof sketch of uniqueness]
Suppose we have two subgroups $H_{1}\subgroup G$ and $H_{2}\subgroup G$
satisfying the definition of being a centralizer of $A$.
Then $H_{1}=H_{2}$ since they contain the same elements.
\end{proof}

\nwenddocs{}\nwbegincode{3}\sublabel{NW430QVE-1mdlmG-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1mdlmG-1}}}\moddef{Definition: Centralizer of Subset~{\nwtagstyle{}\subpageref{NW430QVE-1mdlmG-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
definition
  let G be Group;
  let A be Subset of G;
  func Centralizer A -> strict Subgroup of G means
  :Def4:
  the carrier of it = \{ b where b is Element of G :
                        for a being Element of G st a in A holds a*b = b*a \};
  existence
  proof
    set Car = \{b where b is Element of G :
               for a being Element of G st a in A holds a*b = b*a \};
    C1: 1_G in Car
    \LA{}Proof: $1_{G}\in C_{G}(A)$~{\nwtagstyle{}\subpageref{NW430QVE-3AKRSd-1}}\RA{}

    for x being object st x in Car holds x in the carrier of G
    \LA{}Proof: $\forall x, x\in C_{G}(A)\implies x\in G$~{\nwtagstyle{}\subpageref{NW430QVE-14hLUr-1}}\RA{}
    then C2: Car is Subset of G by TARSKI:def 3;

    C3: for g1,g2 being Element of G st g1 in Car & g2 in Car
    holds g1*g2 in Car
    \LA{}Proof: $C_{G}(A)$ closed under multiplication~{\nwtagstyle{}\subpageref{NW430QVE-2vNQYo-1}}\RA{}

    C4: for g being Element of G st g in Car holds g" in Car
    \LA{}Proof: $\forall g\in C_{G}(A), g^{-1}\in C_{G}(A)$~{\nwtagstyle{}\subpageref{NW430QVE-2mN6ZZ-1}}\RA{}

    thus thesis by C1,C2,C3,C4,GROUP_2:52;
  end;
  uniqueness
  proof
    let H1,H2 be strict Subgroup of G such that
A1: the carrier of H1 = \{b where b is Element of G : for a being Element of G
                                                     st a in A
                                                     holds a*b = b*a \} and
A2: the carrier of H2 = \{b where b is Element of G : for a being Element of G
                                                     st a in A
                                                     holds a*b = b*a \};
    for g being Element of G holds g in H1 iff g in H2 by A1,A2;
    hence thesis;
  end;
end;
\nwindexdefn{\nwixident{Centralizer}}{Centralizer}{NW430QVE-1mdlmG-1}\nwindexdefn{\nwixident{Def4}}{Def4}{NW430QVE-1mdlmG-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Centralizer}}{Centralizer}}\\{{\nwixident{Def4}}{Def4}}}\nwendcode{}\nwbegindocs{4}\nwdocspar
\nwenddocs{}\nwbegincode{5}\sublabel{NW430QVE-14hLUr-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-14hLUr-1}}}\moddef{Proof: $\forall x, x\in C_{G}(A)\implies x\in G$~{\nwtagstyle{}\subpageref{NW430QVE-14hLUr-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-1mdlmG-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume x in Car;
  then ex g being Element of G
       st (x = g) & (for a being Element of G st a in A holds a*g = g*a);
  hence thesis;
end;

\nwused{\\{NW430QVE-1mdlmG-1}}\nwendcode{}\nwbegindocs{6}\nwdocspar

\nwenddocs{}\nwbegincode{7}\sublabel{NW430QVE-3AKRSd-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-3AKRSd-1}}}\moddef{Proof: $1_{G}\in C_{G}(A)$~{\nwtagstyle{}\subpageref{NW430QVE-3AKRSd-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-1mdlmG-1}}\nwenddeflinemarkup
proof
  for a being Element of G st a in A holds 1_G*a = a*1_G
  proof
    let a be Element of G;
    assume a in A;
    1_G*a = a by GROUP_1:def 4
         .= a*1_G by GROUP_1:def 4;
    hence thesis;
  end;
  hence thesis;
end;
\nwused{\\{NW430QVE-1mdlmG-1}}\nwendcode{}\nwbegindocs{8}\nwdocspar

\nwenddocs{}\nwbegincode{9}\sublabel{NW430QVE-2vNQYo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-2vNQYo-1}}}\moddef{Proof: $C_{G}(A)$ closed under multiplication~{\nwtagstyle{}\subpageref{NW430QVE-2vNQYo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-1mdlmG-1}}\nwenddeflinemarkup
proof
  let g1,g2 be Element of G;
  assume B1: g1 in Car;
  assume B2: g2 in Car;
  B3: ex z1 being Element of G st (z1 = g1) & (for a being Element of G
  st a in A holds a*z1 = z1*a) by B1;
  B4: ex z2 being Element of G st (z2 = g2) & (for a being Element of G
  st a in A holds a*z2 = z2*a) by B2;
  for a being Element of G st a in A holds a*(g1*g2)=(g1*g2)*a
  proof
    let a be Element of G;
    assume Z1: a in A;
    a*(g1*g2) = (a*g1)*g2 by GROUP_1:def 3
             .= (g1*a)*g2 by Z1,B3
             .= g1*(a*g2) by GROUP_1:def 3
             .= g1*(g2*a) by Z1,B4
             .= g1*g2*a by GROUP_1:def 3;
    hence thesis;
  end;
  hence thesis;
end;
\nwused{\\{NW430QVE-1mdlmG-1}}\nwendcode{}\nwbegindocs{10}\nwdocspar

\nwenddocs{}\nwbegincode{11}\sublabel{NW430QVE-2mN6ZZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-2mN6ZZ-1}}}\moddef{Proof: $\forall g\in C_{G}(A), g^{-1}\in C_{G}(A)$~{\nwtagstyle{}\subpageref{NW430QVE-2mN6ZZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-1mdlmG-1}}\nwenddeflinemarkup
proof
  let g be Element of G;
  assume g in Car;
  then Z1: ex z1 being Element of G st (z1 = g) & (for a being
  Element of G st a in A holds z1*a=a*z1);
  for a being Element of G st a in A holds g" * a = a * g"
  proof
    let a be Element of G;
    assume a in A;
    then g" * ((a*g) * g") = g" * ((g*a) * g") by Z1
                          .= (g" * (g * a)) * g" by GROUP_1:def 3
                          .= ((g" * g) * a) * g"  by GROUP_1:def 3
                          .= (1_G * a) * g"  by GROUP_1:def 5
                          .= a * g"  by GROUP_1:def 4;
    hence g" * a = a * g" by GROUP_3:1;
  end;
  hence thesis;
end;
\nwused{\\{NW430QVE-1mdlmG-1}}\nwendcode{}\nwbegindocs{12}\nwdocspar

\begin{theorem}
Let $G$ be a group, $A\subset G$ be any subset, $g\in G$ be any group element.
We have $g\in C_{G}(A)$ if and only if for any $a\in A$, $ag=ga$.
\end{theorem}

\begin{thm-remark}
This allows us to use the fact that $g\in C_{G}(A)$ and $a\in A$ implies
$ag=ga$.
\end{thm-remark}

\nwenddocs{}\nwbegincode{13}\sublabel{NW430QVE-3oR9h1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-3oR9h1-1}}}\moddef{Theorem: $A\subset G$ and $g\in G$, have $g\in C_{G}(A)\iff(\forall a\in A, ga=ag)$~{\nwtagstyle{}\subpageref{NW430QVE-3oR9h1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th57:
  for G being Group
  for A being Subset of G
  for g being Element of G
  holds (for a being Element of G st a in A holds g*a = a*g) iff
        g is Element of Centralizer A
proof
  let G be Group;
  let A be Subset of G;
  let g be Element of G;
A1: the carrier of Centralizer A = \{b where b is Element of G : for a
  being Element of G st a in A holds b*a=a*b\} by Def4;
  hereby
    assume for a being Element of G st a in A holds g*a = a*g;
    then g in the carrier of Centralizer A by A1;
    hence g is Element of Centralizer A;
  end;
  assume g is Element of Centralizer A;
  then g in the carrier of Centralizer A;
  then ex b being Element of G st (b = g) & (for a being Element of G st a in A
  holds b*a = a*b) by A1;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th57}}{Th57}{NW430QVE-3oR9h1-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th57}}{Th57}}}\nwendcode{}\nwbegindocs{14}\nwdocspar

\begin{theorem}
  Let $G$ be a group, let $A\subset B\subset G$ be subsets.
  Then $C_{G}(B)\subgroup C_{G}(A)$.
\end{theorem}

\nwenddocs{}\nwbegincode{15}\sublabel{NW430QVE-3rg69a-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-3rg69a-1}}}\moddef{Theorem: $A\subset B\subset G\implies C_{G}(B)\subgroup C_{G}(A)$~{\nwtagstyle{}\subpageref{NW430QVE-3rg69a-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th58:
  for G being Group
  for A,B being Subset of G
  st A c= B
  holds Centralizer B is Subgroup of Centralizer A
proof
  let G be Group;
  let A,B be Subset of G;
  assume A1: A c= B;
  for g being Element of G st g in Centralizer B
  holds g in Centralizer A
  proof
    let g be Element of G;
    assume g in Centralizer B;
    then for a being Element of G st a in A
    holds g*a = a*g by A1,Th57;
    then g is Element of Centralizer A by Th57;
    hence thesis;
  end;
  hence Centralizer B is Subgroup of Centralizer A by GROUP_2:58;
end;
\nwindexdefn{\nwixident{Th58}}{Th58}{NW430QVE-3rg69a-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th58}}{Th58}}}\nwendcode{}\nwbegindocs{16}\nwdocspar
\begin{definition}
Let $G$ be a group, $H\subgroup G$ be a subgroup.
We define the \define{Centralizer} of $H$ is the subgroup whose
underlying set is
\begin{equation}
C_{G}(H) = \{g\in G\mid \forall h\in H, hg=gh\}.
\end{equation}
\end{definition}

\begin{def-remark}
This basically amounts to Definition~\ref{defn:characteristic-subgroup:centralizer-of-subset}
applied to the underlying set of a subgroup of $G$. The proofs of
existence and uniqueness carry over.
\end{def-remark}
\begin{def-remark}
We also follow Mizar's example in Definition~\mml[def15]{group3} of the
normalizer of $H\subgroup G$, based off the
Definition~\mml[def14]{group3} of the normalizer for a subset $A\subset G$.
Consequently we only need a {\Tt{}correctness;\nwendquote} assertion. This is briefly
mentioned at the very end of \S2 of ``Mizar in a nutshell''.
\end{def-remark}

\nwenddocs{}\nwbegincode{17}\sublabel{NW430QVE-1mSO5f-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1mSO5f-1}}}\moddef{Definition: Centralizer of Subgroup~{\nwtagstyle{}\subpageref{NW430QVE-1mSO5f-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
definition
  let G be Group;
  let H be Subgroup of G;
  func Centralizer H -> strict Subgroup of G means
  :Def5:
  it = Centralizer carr H;
  correctness;
end;
\nwindexdefn{\nwixident{Def5}}{Def5}{NW430QVE-1mSO5f-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Def5}}{Def5}}}\nwendcode{}\nwbegindocs{18}\nwdocspar
\begin{theorem}
  Let $H\subgroup G$. Then the set underlying $C_{G}(H)$ is precisely
  $\{b\in G\mid\forall a\in H, ba=ab\}$.
\end{theorem}

\begin{thm-remark}
  This may seem silly and redundant, but we need to explicitly spell out
  what the underlying set of the centralizer for a subgroup \emph{is},
  if we want to use it later.
\end{thm-remark}

\begin{proof}[Proof outline]
  There are two steps to the proof. First, we prove
  $C_{G}(H) \subset \{b\in G\mid\forall a\in H, ba=ab\}$.
  Next we prove $\{b\in G\mid\forall a\in H, ba=ab\}\subset C_{G}(H)$.
  The result follows.
\end{proof}

\nwenddocs{}\nwbegincode{19}\sublabel{NW430QVE-3SA8xa-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-3SA8xa-1}}}\moddef{Theorem: carrier of $C_{G}(H) = \{b\in G\mid\forall a\in H, ba=ab\}$~{\nwtagstyle{}\subpageref{NW430QVE-3SA8xa-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th59:
  for G being Group
  for H being Subgroup of G
  holds the carrier of Centralizer H = \{b where b is Element of G : for a
  being Element of G st a in H holds b*a=a*b\}
proof
  let G be Group;
  let H be Subgroup of G;
  set A = carr H;
  set Car = \{b where b is Element of G : for a being Element of G st a in H
                                         holds b*a=a*b\};

  A1: the carrier of Centralizer A = \{b where b is Element of G : for a
  being Element of G st a in A holds b*a=a*b\} by Def4;
  for x being object st x in Car holds x in the carrier of Centralizer H
  proof
    let x be object;
    assume B1: x in Car;
    ex b being Element of G
    st (x = b) & (for a being Element of G st a in carr(H) holds b*a=a*b)
    proof
      consider b being Element of G such that
      B2: x = b and
      B3: for a being Element of G st a in H holds b*a=a*b
      by B1;
      for a being Element of G st a in carr H holds b*a=a*b
      proof
        let a be Element of G;
        assume a in carr H;
        then a in H;
        hence b*a=a*b by B3;
      end;
      hence thesis by B2;
    end;
    then x in the carrier of Centralizer carr H by A1;
    hence thesis by Def5;
  end;
  then A3: Car c= the carrier of Centralizer H;

  for x being object st x in the carrier of Centralizer H holds x in Car
  proof
    let x be object;
    assume x in the carrier of Centralizer H;
    then B1: x in the carrier of Centralizer carr H by Def5;
    ex b being Element of G
    st (x=b) & (for a being Element of G st a in H holds b*a=a*b)
    proof
      consider b being Element of G such that
      Z1: x = b  & (for a being Element of G st a in carr H holds b*a=a*b)
      by A1,B1;
      for a being Element of G st a in H holds b*a=a*b by Z1;
      hence thesis by Z1;
    end;
    hence x in Car;
  end;
  then the carrier of Centralizer H c= Car;
  hence thesis by A3,XBOOLE_0:def 10;
end;

\nwindexdefn{\nwixident{Th59}}{Th59}{NW430QVE-3SA8xa-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th59}}{Th59}}}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{theorem}
Let $H\subgroup G$ and $g\in G$.
Then $g\in C_{G}(H)$ if and only if for any $a\in H$ we have $ga=ag$.
\end{theorem}

\begin{proof}[Proof sketch]
This boils down to relying on previous results for the centralizer of
the set underlying $H$.
\end{proof}

\nwenddocs{}\nwbegincode{21}\sublabel{NW430QVE-3TgHH7-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-3TgHH7-1}}}\moddef{Theorem: Let $g\in G$. Then $g\in C_{G}(H)\iff\forall h\in H,gh=hg$~{\nwtagstyle{}\subpageref{NW430QVE-3TgHH7-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th60:
  for G being Group
  for H being Subgroup of G
  for g being Element of G
  holds (for a being Element of G st a in H holds g*a = a*g) iff
        g is Element of Centralizer H
proof
  let G be Group;
  let H be Subgroup of G;
  let g be Element of G;
A1: the carrier of Centralizer H = \{b where b is Element of G : for a
  being Element of G st a in H holds b*a=a*b\} by Th59;
  hereby
    assume for a being Element of G st a in H holds g*a = a*g;
    then g in the carrier of Centralizer H by A1;
    hence g is Element of Centralizer H;
  end;
  assume g is Element of Centralizer H;
  then g in the carrier of Centralizer H;
  then ex b being Element of G st (b = g) & (for a being Element of G st a in H
  holds b*a = a*b) by A1;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th60}}{Th60}{NW430QVE-3TgHH7-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th60}}{Th60}}}\nwendcode{}\nwbegindocs{22}\nwdocspar
\begin{theorem}
Let $A\subset G$ be a subset of a group. Then $A\subset C_{G}(C_{G}(A))$.
\end{theorem}

\nwenddocs{}\nwbegincode{23}\sublabel{NW430QVE-1nMINk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1nMINk-1}}}\moddef{Theorem: $A\subset G\implies A\subset C_{G}(C_{G}(A))$~{\nwtagstyle{}\subpageref{NW430QVE-1nMINk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th61:
  for G being Group
  for A being Subset of G
  holds A is Subset of Centralizer (Centralizer A)
proof
  let G be Group;
  let A be Subset of G;
  set H = Centralizer A;
  for g being object
  st g in A
  holds g in the carrier of Centralizer H
  proof
    let g be object;
    assume B1: g in A;
    then reconsider g as Element of G;
    for h being Element of G st h in H
    holds g*h = h*g by B1,Th57;
    then g is Element of Centralizer H by Th60;
    hence thesis;
  end;
  then A c= the carrier of Centralizer H;
  hence A is Subset of Centralizer H;
end;
\nwindexdefn{\nwixident{Th61}}{Th61}{NW430QVE-1nMINk-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th61}}{Th61}}}\nwendcode{}\nwbegindocs{24}\nwdocspar
\begin{theorem}\label{thm:characteristic:centralizer:centralizer-of-char-group-is-char}
  Let $G$ be a group, let $K\subgroup G$ be a characteristic subgroup.
  Then its centralizer $C_{G}(K)$ is a characteristic subgroup.
\end{theorem}

\nwenddocs{}\nwbegincode{25}\sublabel{NW430QVE-H5LVi-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-H5LVi-1}}}\moddef{Theorem: Centralizer of characteristic subgroups is characteristic~{\nwtagstyle{}\subpageref{NW430QVE-H5LVi-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th62:
  for G being Group
  for K being strict characteristic Subgroup of G
  holds (Centralizer K) is characteristic Subgroup of G
proof
  let G be Group;
  let K be strict characteristic Subgroup of G;
  for phi being Automorphism of G
  for x being Element of G
  st x in Centralizer K
  holds phi.x in Centralizer K
  proof
    let phi be Automorphism of G;
    let x be Element of G;
    assume B1: x in Centralizer K;
    set y = phi.x;
    reconsider psi = phi" as Automorphism of G by GROUP_6:62;
    for k being Element of G st k in K holds y*k = k*y
    proof
      let k be Element of G;
      assume C1: k in K;
      set j = psi.k;
      phi.(x*j) = phi.(j*x) by B1,C1,Th50,Th60
               .= phi.j * phi.x by GROUP_6:def 6;
      then y * phi.(psi.k) = phi.(psi.k) * y by GROUP_6:def 6
                          .= k * y by Th4;
      hence y * k = k * y by Th4;
    end;
    then y is Element of Centralizer K by Th60;
    hence thesis;
  end;
  hence Centralizer K is characteristic Subgroup of G by Th50;
end;
\nwindexdefn{\nwixident{Th62}}{Th62}{NW430QVE-H5LVi-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th62}}{Th62}}}\nwendcode{}\nwbegindocs{26}\nwdocspar
\begin{definition*}
Let $G$ be a group, let $a\in G$ be any group element. Then the
singleton $\{a\}$ is a subset of $G$.
\end{definition*}

\begin{def-remark}
Singletons in Mizar seem to be just a ``generic set'', so this claim is
really a \emph{redefinition} of a singleton set to narrow its type to
\lstinline{Subset of G}. This is necessary for defining the normalizer
of a group element (or the centralizer for a group element).
\end{def-remark}

\nwenddocs{}\nwbegincode{27}\sublabel{NW430QVE-kN6Qo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-kN6Qo-1}}}\moddef{Definition: $\forall a\in G$, $\{a\}\subset G$~{\nwtagstyle{}\subpageref{NW430QVE-kN6Qo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
definition
  let G be Group;
  let a be Element of G;
  redefine func \{a\} -> Subset of G;
  coherence
  proof
    for x being object st x in \{a\}
    holds x in the carrier of G
    proof
      let x be object;
      assume x in \{a\};
      then x = a by TARSKI:def 1;
      hence thesis;
    end;
    then \{a\} c= the carrier of G;
    hence \{a\} is Subset of G;
  end;
end;
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwendcode{}\nwbegindocs{28}\nwdocspar

\begin{definition*}
Let $G$ be a group, let $a\in G$. The \define{Normalizer of $a$} is the
strict subgroup of $G$ given by $N_{G}(\{a\})$.
\end{definition*}

\nwenddocs{}\nwbegincode{29}\sublabel{NW430QVE-31qtea-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-31qtea-1}}}\moddef{Definition: Normalizer of group element~{\nwtagstyle{}\subpageref{NW430QVE-31qtea-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
definition
  let G be Group;
  let a be Element of G;
  func Normalizer a -> strict Subgroup of G equals
  Normalizer\{a\};
  correctness;
end;
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwendcode{}\nwbegindocs{30}\nwdocspar

\begin{theorem}
For any $x$, $y$ we have $\{x\}=\{y\}$ if and only if $x=y$.
\end{theorem}

\nwenddocs{}\nwbegincode{31}\sublabel{NW430QVE-4FQduE-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-4FQduE-1}}}\moddef{Theorem: $\{x\}=\{y\}\iff x=y$~{\nwtagstyle{}\subpageref{NW430QVE-4FQduE-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th63:
  for x,y being object
  holds \{x\} = \{y\} iff x = y by ZFMISC_1:3;
\nwindexdefn{\nwixident{Th63}}{Th63}{NW430QVE-4FQduE-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th63}}{Th63}}}\nwendcode{}\nwbegindocs{32}\nwdocspar
\begin{theorem}
Let $G$ be a group, $a\in G$ an arbitrary group element.
We have $x\in N_{G}(a)$ if and only if there is some $h\in G$
such that $x=h$ and conjugates $a = a^{h}$.
\end{theorem}

\nwenddocs{}\nwbegincode{33}\sublabel{NW430QVE-1R1gyw-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1R1gyw-1}}}\moddef{Theorem: $h\in N_{G}(a)\iff a^{h}=a$~{\nwtagstyle{}\subpageref{NW430QVE-1R1gyw-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th64:
  for G being Group
  for a,x being Element of G
  holds x in Normalizer a iff ex h being Element of G st x = h & a |^ h = a
proof
  let G be Group;
  let a,x be Element of G;
  A1: x in Normalizer\{a\} iff ex h being Element of G st x = h & \{a\} |^ h = \{a\}
  by GROUP_3:129;
  \{a\} |^ x = \{a\} |^ \{x\}
          .= \{a |^ x\} by GROUP_3:37;
  then x in Normalizer\{a\} iff a |^ x = a by A1,Th63;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th64}}{Th64}{NW430QVE-1R1gyw-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th64}}{Th64}}}\nwendcode{}\nwbegindocs{34}\nwdocspar
\begin{theorem}
Let $G$ be a group and $A\subset G$.
Then $C_{G}(A) = \bigcap_{a\in A}N_{G}(a)$.
\end{theorem}

\begin{proof}[Proof outline]
We prove this in two steps. Step one $C_{G}(A)\subset \bigcap_{a\in A} N_{G}(a)$.
Step two $\bigcap_{a\in A} N_{G}(a) \subset C_{G}(A)$.
\end{proof}

\nwenddocs{}\nwbegincode{35}\sublabel{NW430QVE-20pkyx-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-20pkyx-1}}}\moddef{Theorem: $A\subset G$, $C_{G}(A) = \bigcap_{a\in A}N_{G}(a)$~{\nwtagstyle{}\subpageref{NW430QVE-20pkyx-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th65:
  for G being Group
  for A being non empty Subset of G
  holds the carrier of Centralizer A = meet \{B where B is Subset of G :
  ex H being strict Subgroup of G st B = the carrier of H &
  (ex a being Element of G st a in A & H = Normalizer a)\}
proof
  let G be Group;
  let A be non empty Subset of G;
  defpred P[strict Subgroup of G] means (ex a being Element of G
                                         st a in A & $1 = Normalizer a);
  set Fam = \{B where B is Subset of G :
  ex H being strict Subgroup of G st B = the carrier of H & P[H]\};
  A1: Fam <> \{\}
  proof
    consider a being object such that
    B1: a in A
    by XBOOLE_0:def 1;
    reconsider a as Element of G by B1;
    consider H being strict Subgroup of G such that
    B2: H = Normalizer a;
    carr H in Fam by B1,B2;
    hence thesis;
  end;
  for x being object st x in the carrier of Centralizer A
  holds x in meet Fam
  \LA{}Proof: $\forall x, x\in C_{G}(A)\implies x\in\bigcap_{a}N_{G}(a)$~{\nwtagstyle{}\subpageref{NW430QVE-3NviKi-1}}\RA{}
  then A2: the carrier of Centralizer A c= meet Fam;

  for x being object st x in meet Fam
  holds x in the carrier of Centralizer A
  \LA{}Proof: $\forall x, x\in\bigcap_{a}N_{G}(a)\implies x\in C_{G}(A)$~{\nwtagstyle{}\subpageref{NW430QVE-dVccr-1}}\RA{}
  then meet Fam c= the carrier of Centralizer A;
  hence thesis by A2, XBOOLE_0:def 10;
end;
\nwindexdefn{\nwixident{Th65}}{Th65}{NW430QVE-20pkyx-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th65}}{Th65}}}\nwendcode{}\nwbegindocs{36}\nwdocspar
\nwenddocs{}\nwbegincode{37}\sublabel{NW430QVE-3NviKi-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-3NviKi-1}}}\moddef{Proof: $\forall x, x\in C_{G}(A)\implies x\in\bigcap_{a}N_{G}(a)$~{\nwtagstyle{}\subpageref{NW430QVE-3NviKi-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-20pkyx-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume B1: x in the carrier of Centralizer A;
  then x in Centralizer A;
  then x in G by GROUP_2:40;
  then reconsider g = x as Element of G;
  for X being set st X in Fam
  holds x in X
  proof
    let X be set;
    assume X in Fam;
    then consider B being Subset of G such that
    C1: B = X and
    C2: ex H being strict Subgroup of G
        st B = the carrier of H &
           (ex a being Element of G st a in A & H = Normalizer a);
    consider H being strict Subgroup of G, a being Element of G such that
    C3: B = the carrier of H & a in A & H = Normalizer a by C2;
    C4: a |^ g = g" * a * g
              .= g" * (a * g) by GROUP_1:def 3
              .= g" * (g * a) by B1,C3,Th57
              .= (g" * g) * a by GROUP_1:def 3
              .= (1_G) * a by GROUP_1:def 5
              .= a by GROUP_1:def 4;
    \{a\} |^ g = \{a\} |^ \{g\}
            .= \{a |^ g\} by GROUP_3:37
            .= \{a\} by C4;
    then g in Normalizer a by GROUP_3:129;
    hence x in X by C1,C3;
  end;
  hence x in meet Fam by A1,SETFAM_1:def 1;
end;
\nwused{\\{NW430QVE-20pkyx-1}}\nwendcode{}\nwbegindocs{38}\nwdocspar

\nwenddocs{}\nwbegincode{39}\sublabel{NW430QVE-dVccr-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-dVccr-1}}}\moddef{Proof: $\forall x, x\in\bigcap_{a}N_{G}(a)\implies x\in C_{G}(A)$~{\nwtagstyle{}\subpageref{NW430QVE-dVccr-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-20pkyx-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume B1: x in meet Fam;
  B2: ex H being strict Subgroup of G st P[H]
  proof
    consider X being object such that
    C1: X in Fam by A1, XBOOLE_0:def 1;
    consider B being Subset of G such that
    C2: B = X & ex H being strict Subgroup of G st B = the carrier of H & P[H]
    by C1;
    thus thesis by C2;
  end;

  consider K being strict Subgroup of G such that
  B3: the carrier of K = meet Fam
  from GROUP_4:sch 1(B2);

  reconsider g = x as Element of G by B1,B3,GROUP_2:42;
  B4: for a being Element of G st a in A
  holds g in Normalizer a
  proof
    let a be Element of G;
    assume a in A;
    then carr Normalizer a in Fam;
    hence g in Normalizer a by B1,SETFAM_1:def 1;
  end;
  for a being Element of G st a in A holds g*a = a*g
  proof
    let a be Element of G;
    assume a in A;
    then g in Normalizer a by B4;
    then consider h being Element of G such that
    C1: g = h & a |^ h = a
    by Th64;
    C2: a = g" * a * g by C1
         .= g" * (a * g) by GROUP_1:def 3;
    g * a = g * (g" * (a * g)) by C2
         .= (g * g") * (a * g) by GROUP_1:def 3
         .= 1_G * (a * g) by GROUP_1:def 5
         .= a * g by GROUP_1:def 4;
    hence g*a = a*g;
  end;

  then g is Element of Centralizer A by Th57;
  hence thesis;
end;
\nwused{\\{NW430QVE-20pkyx-1}}\nwendcode{}\nwbegindocs{40}\nwdocspar



\begin{theorem}
If $H_{1}\subgroup G$ and $H_{2}\subgroup G$ are subgroups such that
$|H_{1}\cap H_{2}|=|H_{1}|$ and $|H_{1}\cap H_{2}|=|H_{2}|$, then $H_{1}=H_{2}$.
\end{theorem}

\nwenddocs{}\nwbegincode{41}\sublabel{NW430QVE-1Is6lQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1Is6lQ-1}}}\moddef{Theorem: $|H_{1}\cap H_{2}|=|H_{1}|=|H_{2}|\implies H_{1}=H_{2}$~{\nwtagstyle{}\subpageref{NW430QVE-1Is6lQ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th66:
  for G being finite Group
  for H1,H2 being strict Subgroup of G
  st card(H1 /\\ H2) = card H1 & card(H1 /\\ H2) = card H2
  holds H1 = H2
proof
  let G be finite Group;
  let H1,H2 be strict Subgroup of G;
  assume A1: card(H1 /\\ H2) = card H1;
  assume A2: card(H1 /\\ H2) = card H2;
  A3: H1 /\\ H2 = H1
  proof
    reconsider H12 = H1 /\\ H2 as strict Subgroup of H1 by GROUP_2:88;
    multMagma(# the carrier of H12, the multF of H12 #)
    = multMagma(# the carrier of H1, the multF of H1 #) by A1,GROUP_2:73;
    hence thesis;
  end;
  H1 /\\ H2 = H2
  proof
    reconsider H12 = H1 /\\ H2 as strict Subgroup of H2 by GROUP_2:88;
    multMagma(# the carrier of H12, the multF of H12 #)
    = multMagma(# the carrier of H2, the multF of H2 #) by A2,GROUP_2:73;
    hence thesis;
  end;
  hence thesis by A3;
end;
\nwindexdefn{\nwixident{Th66}}{Th66}{NW430QVE-1Is6lQ-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th66}}{Th66}}}\nwendcode{}\nwbegindocs{42}\nwdocspar
\begin{theorem}
For any natural numbers $a,b,c$ with $c\neq0$. If $c|a$ and $c|b$, then $a|b$.
\end{theorem}

\nwenddocs{}\nwbegincode{43}\sublabel{NW430QVE-2glx4T-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-2glx4T-1}}}\moddef{Theorem: $\forall a,b,c\in\NN, c\neq0\land c|a\land c|b\implies a|b$~{\nwtagstyle{}\subpageref{NW430QVE-2glx4T-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th67:
  for a,b,c being Nat
  st c <> 0 & c*a divides c*b
  holds a divides b
proof
  let a,b,c be Nat;
  assume A1: c <> 0;
  assume c*a divides c*b;
  then consider q being Integer such that
  A2: c*b = c*a*q by INT_1:def 3;
  take q;
  b*c = a*q*c by A2;
  hence thesis by A1,XCMPLX_1:5;
end;
\nwindexdefn{\nwixident{Th67}}{Th67}{NW430QVE-2glx4T-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th67}}{Th67}}}\nwendcode{}\nwbegindocs{44}\nwdocspar
\begin{theorem}
For any natural numbers $a,b,c\in\NN$ with $b|c$ and $\gcd(ab,c)=1$, we
have $b=1$.
\end{theorem}

\nwenddocs{}\nwbegincode{45}\sublabel{NW430QVE-2iwTOx-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-2iwTOx-1}}}\moddef{Theorem: $a,b,c\in\NN, b|c\land\gcd(ab,c)=1\implies b=1$~{\nwtagstyle{}\subpageref{NW430QVE-2iwTOx-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th68:
  for a,b,c being Nat
  st b<>0 & b divides c & a*b,c are_coprime
  holds b=1
proof
  let a,b,c be Nat;
  assume b<>0;
  assume A1: b divides c;
  assume A2: a*b,c are_coprime;
  b divides a*b by INT_1:def 3;
  then b divides (a*b gcd c) by A1,INT_2:22;
  then b divides 1 by A2, INT_2:def 3;
  hence b=1 by INT_2:13;
end;
\nwindexdefn{\nwixident{Th68}}{Th68}{NW430QVE-2iwTOx-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th68}}{Th68}}}\nwendcode{}\nwbegindocs{46}\nwdocspar
\begin{theorem}
If $N_{1}\normalSubgroup G_{1}$ and $N_{2}\normalSubgroup G_{2}$ and
$G_{1}/N_{1}\iso G_{2}/N_{2}$, then $|N_{2}|\cdot|G_{1}|=|N_{1}|\cdot|G_{2}|$.
\end{theorem}

\nwenddocs{}\nwbegincode{47}\sublabel{NW430QVE-1zJb4f-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1zJb4f-1}}}\moddef{Theorem: $G_{1}/N_{1}\iso G_{2}/N_{2}\implies |N_{2}|\cdot|G_{1}|=|N_{1}|\cdot|G_{2}|$~{\nwtagstyle{}\subpageref{NW430QVE-1zJb4f-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th69:
  for G1,G2 being finite Group
  for N1 being normal Subgroup of G1
  for N2 being normal Subgroup of G2
  st G1./.N1, G2./.N2 are_isomorphic
  holds card(N2)*card(G1)=card(N1)*card(G2)
proof
  let G1,G2 be finite Group;
  let N1 be normal Subgroup of G1;
  let N2 be normal Subgroup of G2;
  assume G1./.N1, G2./.N2 are_isomorphic;
  then A1: card(G1./.N1) = card(G2./.N2) by GROUP_6:73
                        .= index N2 by GROUP_6:27;
  set k = index N1;
  A2: card(G1) = card(N1) * index(N1) by GROUP_2:147
              .= card(N1) * k;
  card(G2) = card(N2) * index(N2) by GROUP_2:147
          .= card(N2) * k by A1,GROUP_6:27;
  then card(N1)*card(G2) = card(N1)*card(N2)*k
                        .= card(N2)*card(N1)*k
                        .= card(N2)*(card(N1)*k)
                        .= card(N2)*card(G1) by A2;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th69}}{Th69}{NW430QVE-1zJb4f-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th69}}{Th69}}}\nwendcode{}\nwbegindocs{48}\nwdocspar
\begin{theorem}
Let $G$ be a finite group.
If $K\normalSubgroup G$ and $N\normalSubgroup G$ are such that $|K|=|N|$,
then $|K\cap N|\cdot|KN|=|K|\cdot|N|$.
\end{theorem}

\nwenddocs{}\nwbegincode{49}\sublabel{NW430QVE-2r8YQx-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-2r8YQx-1}}}\moddef{Theorem: $K,N\normalSubgroup G\implies |KN|\cdot|K\cap N|=|K|\cdot|N|$~{\nwtagstyle{}\subpageref{NW430QVE-2r8YQx-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th70:
  for G being finite Group
  for K,N being strict normal Subgroup of G
  for m,d being Nat
  st m = card N & m = card K & d = card(K /\\ N)
  holds d*card(N "\\/" K) = m*m
proof
  let G be finite Group;
  let K,N be strict normal Subgroup of G;
  let m,d be Nat;
  assume A1: m = card N;
  assume A2: m = card K;
  assume A3: d = card(K /\\ N);
  reconsider B=K as Subgroup of G;
  A4: N is Subgroup of B "\\/" N by GROUP_4:60;
  (B "\\/" N)./.(B "\\/" N,N)`*`, B./.(B /\\ N) are_isomorphic by GROUP_6:81;
  then d*card(B "\\/" N) = card(B) * card((B "\\/" N,N)`*`) by A3,Th69
                       .= card(B)*card(N) by A4,GROUP_6:def 1
                       .= card(B)*m by A1
                       .= m*m by A2;
  hence d*card(N "\\/" K) = m*m;
end;
\nwindexdefn{\nwixident{Th70}}{Th70}{NW430QVE-2r8YQx-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th70}}{Th70}}}\nwendcode{}\nwbegindocs{50}\nwdocspar
\begin{theorem}[{\cite[Th2.1.3]{gorenstein1980finite}}]
Let $G$ be a finite group, $N\normalSubgroup G$.
If $\gcd(|N|, [G:N])=1$, then $N$ is a characteristic subgroup of $G$.
\end{theorem}

\nwenddocs{}\nwbegincode{51}\sublabel{NW430QVE-1ShwoU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1ShwoU-1}}}\moddef{Theorem: $N\normalSubgroup G$ with $|N|$ and $[G:N]$ coprime implies $N$ is characteristic~{\nwtagstyle{}\subpageref{NW430QVE-1ShwoU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th71:
  for G being finite Group
  for N being strict normal Subgroup of G
  st card N, index N are_coprime
  holds N is characteristic Subgroup of G
proof
  let G be finite Group;
  let N be strict normal Subgroup of G;
  assume A1: card N, index N are_coprime;
  consider m being Nat such that
  A2: m = card N;
  consider n being Nat such that
  A3: n = index N;
  A4: card G = m*n by A2,A3,GROUP_2:147;
  A5: for phi being Automorphism of G holds Image(phi|N) = N
  proof
    let phi be Automorphism of G;
    set K = Image(phi|N);
    reconsider K as strict normal Subgroup of G by Th49;
    K = phi .: N by GRSOLV_1:def 3;
    then B1: card K = card N by Th19,GROUP_6:73;
    set d = card(N /\\ K);
    d divides m
    proof
      N /\\ K is Subgroup of N by GROUP_2:88;
      hence thesis by A2,GROUP_2:148;
    end;
    then consider q being Nat such that
    B2: m = d*q by NAT_D:def 3;
    B3: q<>0 by A2,B2;
    card(N "\\/" K) = m*q
    proof
      K /\\ N = N /\\ K
      proof
        carr(K /\\ N) = (carr K) /\\ (carr N) by GROUP_2:def 10
                    .= carr(N) /\\ carr(K)
                    .= carr(N /\\ K) by GROUP_2:def 10;
        hence thesis by GROUP_2:59;
      end;
      then d*card(N "\\/" K) = m*(d*q) by A2,B1,B2,Th70
                           .= m*d*q
                           .= d*m*q
                           .= d*(m*q);
      hence card(N "\\/" K) = m*q by XCMPLX_1:5;
    end;
    then q divides n by A2,A4,Th67,GROUP_2:148;
    then q=1 by A1,A2,A3,B2,B3,Th68;
    hence Image(phi|N) = N by A2,B1,B2,Th66;
  end;
  thus N is characteristic Subgroup of G by A5,Def3;
end;
\nwindexdefn{\nwixident{Th71}}{Th71}{NW430QVE-1ShwoU-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th71}}{Th71}}}\nwendcode{}\nwbegindocs{52}\nwdocspar
\begin{theorem}
Let $f_{1}\colon G_{1}\to G_{2}$, $f_{2}\colon G_{2}\to G_{3}$ be group morphisms.
If $A\subset G_{1}$, then $f_{2}(f_{1}(A))=(f_{2}\circ f_{1})(A)$.
\end{theorem}

\nwenddocs{}\nwbegincode{53}\sublabel{NW430QVE-2e3eIH-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-2e3eIH-1}}}\moddef{Theorem: $f_{2}(f_{1}(A))=(f_{2}\circ f_{1})(A)$ for group morphisms~{\nwtagstyle{}\subpageref{NW430QVE-2e3eIH-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th72:
  for G1,G2,G3 being Group
  for f1 being Homomorphism of G1,G2
  for f2 being Homomorphism of G2,G3
  for A being Subgroup of G1
  holds the multMagma of f2 .: (f1 .: A) = the multMagma of ((f2 * f1) .: A)
proof
  let G1,G2,G3 be Group;
  let f1 be Homomorphism of G1,G2;
  let f2 be Homomorphism of G2,G3;
  let A be Subgroup of G1;
  for z being Element of G3
  holds z in f2 .: (f1 .: A) iff z in (f2 * f1) .: A
  proof
    let z be Element of G3;
    thus z in f2 .: (f1 .: A) implies z in (f2 * f1) .: A
    proof
      assume z in f2 .: (f1 .: A);
      then z in f2 .: (the carrier of f1 .: A) by GRSOLV_1:8;
      then consider y being object such that
      A2: y in dom f2 and
      A3: y in the carrier of (f1 .: A) and
      A4: z = f2.y by FUNCT_1:def 6;
      y in f1 .: (the carrier of A) by A3,GRSOLV_1:8;
      then consider x being object such that
      A5: x in dom f1 & x in the carrier of A & y = f1.x by FUNCT_1:def 6;
      A6: x in dom(f2 * f1) by A2,A5,FUNCT_1:11;
      then x in the carrier of A & z = (f2 * f1).x by A4,A5,FUNCT_1:12;
      then z in (f2 * f1) .: the carrier of A by A6,FUNCT_1:def 6;
      hence thesis by GRSOLV_1:8;
    end;

    thus z in (f2 * f1) .: A implies z in f2 .: (f1 .: A)
    proof
      assume z in (f2 * f1) .: A;
      then z in (f2 * f1) .: the carrier of A by GRSOLV_1:8;
      then consider x being object such that
      A2: x in dom (f2 * f1) & x in the carrier of A & z = (f2 * f1).x
      by FUNCT_1:def 6;
      A3: x in dom f1 & f1.x in dom f2 by A2,FUNCT_1:11;

      set y = f1.x;
      x in dom f1 & x in the carrier of A & y = f1.x by A2,FUNCT_1:11;
      then A5: y in f1 .: (the carrier of A) by FUNCT_1:def 6;
      z = (f2 * f1).x by A2
       .= f2.(f1.x) by A2,FUNCT_1:12
       .= f2.y;
      then z in f2 .: (f1 .: (the carrier of A)) by A3,A5,FUNCT_1:def 6;
      then z in f2 .: (the carrier of (f1 .: A)) by GRSOLV_1:8;
      hence z in f2 .: (f1 .: A) by GRSOLV_1:8;
    end;

  end;

  hence the multMagma of f2 .: (f1 .: A) = the multMagma of ((f2 * f1) .: A)
  by GROUP_2:60;
end;
\nwindexdefn{\nwixident{Th72}}{Th72}{NW430QVE-2e3eIH-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th72}}{Th72}}}\nwendcode{}\nwbegindocs{54}\nwdocspar
\begin{theorem}
Let $N\normalSubgroup G$, $\varphi\in\Aut(G)$ such that $\varphi(N)=N$.
($N$ need not be characteristic.)
Then there exists an automorphism $\sigma\in\Aut(G/N)$ such that for any
$x\in G$, $\sigma(xN)=\varphi(x)N$.
\end{theorem}

\nwenddocs{}\nwbegincode{55}\sublabel{NW430QVE-1SL1oX-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1SL1oX-1}}}\moddef{Theorem: $\varphi\in\Aut(G)$, $\varphi(N)=N$, $\exists\sigma\in\Aut(G/N),\sigma(xN)=\varphi(x)N$~{\nwtagstyle{}\subpageref{NW430QVE-1SL1oX-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th73:
  for G being Group
  for N being strict normal Subgroup of G
  for phi being Automorphism of G
  st Image(phi|N) = N
  ex sigma being Automorphism of G./.N
  st (for x being Element of G holds sigma.(x*N) = (phi.x)*N)
proof
  let G be Group;
  let N be strict normal Subgroup of G;
  let phi be Automorphism of G;
  assume A1: Image(phi|N) = N;
  defpred P[set,set] means ex a being Element of G st $1 = a*N & $2 = (phi.a)*N;
  A2: for x being Element of G./.N ex y being Element of G./.N st P[x,y]
  proof
    let x be Element of G./.N;
    x in Cosets N;
    then consider a being Element of G such that
    B1: x = a*N by GROUP_2:def 15;
    (phi.a)*N in Cosets N by GROUP_2:def 15;
    then consider y being Element of G./.N such that
    B2: y = (phi.a)*N;
    take y;
    thus P[x,y] by B1,B2;
  end;

  consider sigma being Function of G./.N, G./.N such that
  A3: for x being Element of G./.N holds P[x, sigma.x]
  from FUNCT_2:sch 3(A2);

  A4: for a being Element of G holds sigma.(a*N) = (phi.a)*N
  proof
    let a be Element of G;
    a*N in Cosets N by GROUP_2:def 15;
    then consider x being Element of G./.N such that
    B1: x = a*N;

    consider b being Element of G such that
    B2: x = b*N & sigma.x = (phi.b)*N by A3;
    consider n being Element of G such that
    B3: n = b" * a & n in N by B1,B2,GROUP_2:114;

    B4: b*n = b*(b" * a) by B3
           .= (b * b") * a by GROUP_1:def 3
           .= 1_G * a by GROUP_1:def 5
           .= a by GROUP_1:def 4;

    dom phi = the carrier of G & n in N by B3, FUNCT_2:def 1;
    then phi.n in phi .: (the carrier of N) by FUNCT_1:def 6;
    then phi.n in the carrier of (phi .: N) by GRSOLV_1:8;
    then B5: phi.n in N by A1,GRSOLV_1:def 3;
    phi.a * N = phi.(b * n) * N by B4
             .= (phi.b * phi.n) * N by GROUP_6:def 6
             .= phi.b * (phi.n * N) by GROUP_2:105
             .= phi.b * N by B5, GROUP_2:113
             .= sigma.x by B2;
    hence thesis by B1;
  end;

  for x,y being Element of G./.N holds sigma.(x*y) = sigma.x * sigma.y
  proof
    let x,y be Element of G./.N;
    consider a being Element of G such that
    B1: x = a*N & sigma.x = (phi.a)*N by A3;
    consider b being Element of G such that
    B2: y = b*N & sigma.y = (phi.b)*N by A3;
    B3: for g1,g2 being Element of G holds (g1*N)*(g2*N) = g1*g2*N
    proof
      let g1,g2 be Element of G;
      (g1*N)*(g2*N) = (g1 * N) * (N * g2) by GROUP_3:117
                   .= g1 * N * N * g2 by GROUP_3:11
                   .= g1 * (N*N) * g2 by GROUP_4:45
                   .= g1 * N * g2 by GROUP_2:76
                   .= g1 * (N * g2) by GROUP_2:106
                   .= g1 * (g2 * N) by GROUP_3:117
                   .= g1 * g2 * N by GROUP_2:105;
      hence thesis;
    end;

    B4: x * y = @x * @y by GROUP_6:def 3
             .= (a * N) * (b * N) by B1,B2
             .= a * b * N by B3;

    B5: (sigma.x) * (sigma.y) = phi.(a*b) * N
    proof
      sigma.x * sigma.y = @(sigma.x) * @(sigma.y) by GROUP_6:def 3
                       .= ((phi.a)*N) * ((phi.b) * N) by B1,B2
                       .= (phi.a) * (phi.b) * N by B3
                       .= phi.(a*b) * N by GROUP_6:def 6;
      hence thesis;
    end;
    sigma.(x * y) = sigma.(a * b * N) by B4
                 .= phi.(a*b) * N by A4
                 .= sigma.x * sigma.y by B5;
    hence sigma.(x*y) = sigma.x * sigma.y;
  end;

  then reconsider sigma as Homomorphism of G./.N, G./.N by GROUP_6:def 6;
  sigma is bijective
  proof
    B1: for x being Element of G holds x*N in Ker sigma iff x in N
    proof
      let x be Element of G;
      reconsider z = x*N as Element of G./.N by GROUP_2:def 15;
      C1: (phi").(phi.x) = x by FUNCT_2:26;
      thus x*N in Ker sigma implies x in N
      proof
        assume (x*N) in Ker sigma;
        then sigma.z = 1_(G./.N) by GROUP_6:41;
        then D1: sigma.(x*N) = 1_(G./.N)
                            .= carr N by GROUP_6:24;
        (phi.x)*N = sigma.(x*N) by A4
                 .= carr N by D1;
        then phi.x in Image(phi|N) by A1,GROUP_2:113;
        then D2: phi.x in phi .: N by GRSOLV_1:def 3;
        consider psi being Automorphism of G such that
        D3: psi = phi" and
            Image(phi|Image(psi|N)) = the multMagma of N
        by Th17;
        reconsider i = id the carrier of G as Automorphism of G by GROUP_6:38;
        the carrier of G <> \{\} & phi is onto;
        then D4: psi * phi = id the carrier of G by D3,FUNCT_2:29;
        dom psi = the carrier of G by FUNCT_2:def 1;
        then psi.(phi.x) in psi .: (the carrier of (phi .: N))
        by D2,FUNCT_1:def 6;
        then psi.(phi.x) in the carrier of (psi .: (phi .: N)) by GRSOLV_1:8;
        then x in i .: N by C1,D3,D4,Th72;
        then D5: x in (id the carrier of G) .: (the carrier of N) by GRSOLV_1:8;
        the carrier of N is Subset of the carrier of G by GROUP_2:def 5;
        hence x in N by D5,FUNCT_1:92;
      end;
      thus x in N implies x*N in Ker sigma
      proof
        assume x in N;
        then D1: x * N = carr N by GROUP_2:113
                      .= 1_(G./.N) by GROUP_6:24;
        then sigma.(x*N) = 1_(G./.N) by GROUP_6:31;
        hence x*N in Ker sigma by D1,GROUP_6:41;
      end;
    end;
    for x being Element of G./.N holds x in Ker sigma iff x in (1).(G./.N)
    proof
      let x be Element of G./.N;
      thus x in Ker sigma implies x in (1).(G./.N)
      proof
        assume C1: x in Ker sigma;
        x in G./.N;
        then consider g being Element of G such that
        C2: x = g*N by GROUP_2:def 15;
        g*N = carr N by B1,C1,C2,GROUP_2:113;
        then g*N = 1_(G./.N) by GROUP_6:24;
        then g*N in \{1_(G./.N)\} by TARSKI:def 1;
        hence x in (1).(G./.N) by C2,GROUP_2:def 7;
      end;
      thus x in (1).(G./.N) implies x in Ker sigma
      proof
        assume x in (1).(G./.N);
        then x in \{1_(G./.N)\} by GROUP_2:def 7;
        then x = 1_(G./.N) by TARSKI:def 1;
        then sigma.x = 1_(G./.N) by GROUP_6:31;
        hence x in Ker sigma by GROUP_6:41;
      end;
    end;

    then Ker sigma = (1).(G./.N);
    hence sigma is one-to-one by GROUP_6:56;

    for y being Element of G./.N holds y in Image sigma
    proof
      let y be Element of G./.N;
      y in G./.N;
      then consider b being Element of G such that
      C1: y = b*N by GROUP_2:def 15;
      reconsider psi = phi" as Automorphism of G by GROUP_6:62;
      consider a being Element of G such that
      C2: a = psi.b;
      a*N in G./.N by GROUP_2:def 15;
      then consider x being Element of G./.N such that
      C3: x = a*N;
      C4: phi.a = phi.((phi").b) by C2
               .= b by Th4;
      sigma.x = sigma.(a*N) by C3
             .= (phi.a)*N by A4
             .= b*N by C4
             .= y by C1;
      hence y in Image sigma by GROUP_6:45;
    end;
    hence sigma is onto by GROUP_2:62,GROUP_6:57;
  end;
  then reconsider sigma as Automorphism of G./.N;
  take sigma;
  let x be Element of G;
  thus sigma.(x*N) = (phi.x)*N by A4;
end;
\nwindexdefn{\nwixident{Th73}}{Th73}{NW430QVE-1SL1oX-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th73}}{Th73}}}\nwendcode{}\nwbegindocs{56}\nwdocspar
\begin{theorem}
Let $G$ be a finite group $H\subgroup K\subgroup G$ and $H$ be a characteristic
subgroup. Then $H$ is a normal subgroup of $K$.
\end{theorem}

\nwenddocs{}\nwbegincode{57}\sublabel{NW430QVE-1JPGDx-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1JPGDx-1}}}\moddef{Theorem: $H$ char $G$ and $H\subgroup K\subgroup G$, then $H\normalSubgroup K$~{\nwtagstyle{}\subpageref{NW430QVE-1JPGDx-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th74:
  for G being finite Group
  for H being strict characteristic Subgroup of G
  for K being strict Subgroup of G
  st H is Subgroup of K
  holds H is normal Subgroup of K
proof
  let G be finite Group;
  let H be strict characteristic Subgroup of G;
  let K be strict Subgroup of G;
  assume A1: H is Subgroup of K;
  A2: for g being Element of G
  holds g in Ker (nat_hom H) iff g in H by GROUP_6:43;

  reconsider R = Ker ((nat_hom H)|K) as strict Subgroup of K;

  A3: for k being Element of K
  holds k in H iff k in Ker ((nat_hom H)|K)
  proof
    let k be Element of K;
    reconsider g=k as Element of G by GROUP_2:42;
    B1: g in K;
    thus k in H implies k in Ker ((nat_hom H)|K)
    proof
      assume C1: k in H;
      C2: g in K;
      (nat_hom H).g = 1_(G./.H) by A2,C1,GROUP_6:41;
      then ((nat_hom H)|K).g = 1_(G./.H) by C2,Th1;
      hence k in Ker ((nat_hom H)|K) by GROUP_6:41;
    end;
    thus k in Ker ((nat_hom H)|K) implies k in H
    proof
      assume C1: k in Ker ((nat_hom H)|K);
      ((nat_hom H)|K).g = (nat_hom H).g by B1,Th1;
      then (nat_hom H).g = 1_(G./.H) by C1,GROUP_6:41;
      then g in Ker (nat_hom H) by GROUP_6:41;
      hence k in H by GROUP_6:43;
    end;

  end;
  reconsider H1=H as strict Subgroup of K by A1;
  the multMagma of R = the multMagma of H1 by A3,GROUP_2:60;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th74}}{Th74}{NW430QVE-1JPGDx-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th74}}{Th74}}}\nwendcode{}\nwbegindocs{58}\nwdocspar
\begin{theorem}[{Gorenstein~\cite[Th2.1.2(iv)]{gorenstein1980finite}}]
Let $G$ be a finite group, $H$ a characteristic subgroup of $G$, and
$H\subgroup K\subgroup G$. If $K/H$ is a characteristic subgroup of $G/H$,
then $K$ is a characteristic subgroup of $G$.
\end{theorem}

\nwenddocs{}\nwbegincode{59}\sublabel{NW430QVE-20SEtU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-20SEtU-1}}}\moddef{Theorem: $H\subgroup K\subgroup G$, $H$ char $G$, $K/H$ char $G/H$ implies $K$ is characteristic~{\nwtagstyle{}\subpageref{NW430QVE-20SEtU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
:: Gorenstein, Finite Groups, Theorem 2.1.2 (iv)
theorem Th75:
  for G being finite Group
  for H being strict characteristic Subgroup of G
  for K being strict Subgroup of G
  st H is Subgroup of K &
  K./.(K,H)`*` is characteristic Subgroup of G./.H
  holds K is characteristic Subgroup of G
proof
  let G be finite Group;
  let H be strict characteristic Subgroup of G;
  let K be strict Subgroup of G;
  assume A1: H is Subgroup of K;
  assume A2: K./.(K,H)`*` is characteristic Subgroup of G./.H;
  A3: (K,H)`*` = H by A1,GROUP_6:def 1;
  for phi being Automorphism of G
  for k being Element of G st k in K
  holds phi.k in K
  proof
    let phi be Automorphism of G;
    let k be Element of G;
    assume B1: k in K;
    Image(phi|H) = H by Def3;
    then consider sigma being Automorphism of G./.H such that
    B2: for x being Element of G holds sigma.(x*H) = (phi.x)*H
    by Th73;
    consider J being strict characteristic Subgroup of G./.H such that
    B3: J = (K./.(K,H)`*`) by A2;

    B4: for k1 being Element of G st k1*H in J holds k1 in K
    proof
      let k1 be Element of G;
      assume C1: k1*H in J;
      C2: k1*H = k1*(carr H)
              .= k1*(K,H)`*` by A1,GROUP_6:def 1;
      set x = k1*(K,H)`*`;
      consider a being Element of K such that
      C3: x = a*(K,H)`*` by B3,C1,C2,GROUP_2:def 15;

      reconsider a1 = a as Element of G by GROUP_2:42;
      C4: a1 in K;
      for j1 being object holds j1 in a*(K,H)`*` iff j1 in a1*H
      proof
        let j1 be object;
        thus j1 in a*(K,H)`*` implies j1 in a1*H
        proof
          assume j1 in a*(K,H)`*`;
          then consider g1 being Element of K such that
          D1: j1 = a*g1 & g1 in (K,H)`*` by GROUP_2:103;
          reconsider g=g1 as Element of G by GROUP_2:42;
          D2: j1 = a1*g by D1,GROUP_2:43;
          g in H by D1,A1,GROUP_6:def 1;
          hence j1 in a1*H by D2,GROUP_2:103;
        end;

        thus j1 in a1*H implies j1 in a*(K,H)`*`
        proof
          assume j1 in a1*H;
          then consider g1 being Element of G such that
          D1: j1 = a1*g1 & g1 in H by GROUP_2:103;
          reconsider g=g1 as Element of K by A1,D1,GROUP_2:42;
          D2: j1 = a*g by D1,GROUP_2:43;
          g in (K,H)`*` by D1,A1, GROUP_6:def 1;
          hence j1 in a*(K,H)`*` by D2,GROUP_2:103;
        end;

      end;
      then a1*H = x by TARSKI:2,C3
               .= k1*H by C2;
      then (a1") * k1 in H by GROUP_2:114;
      then C5: (a1") * k1 in K by A1,GROUP_2:41;
      a1 * ((a1") * k1) = (a1 * a1") * k1 by GROUP_1:def 3
                       .= 1_G * k1 by GROUP_1:def 5
                       .= k1 by GROUP_1:def 4;
      hence k1 in K by C4,C5,GROUP_2:50;
    end;

    B5: for k1 being Element of G holds k1 in K iff k1*H in J
    proof
      let k1 be Element of G;
      thus k1 in K implies k1*H in J
      proof
        assume k1 in K;
        then reconsider k2=k1 as Element of K;
        C1: k2*((K,H)`*`) in J by B3, GROUP_2:def 15;
        for x being object holds x in k2*carr((K,H)`*`) iff x in k1*carr(H)
        proof
          let x be object;
          thus x in k2*carr((K,H)`*`) implies x in k1*carr(H)
          proof
            assume E1: x in k2*carr((K,H)`*`);
            x in k2*((K,H)`*`) iff
            ex g being Element of K st (x = k2*g & g in (K,H)`*`)
            by GROUP_2:103;
            then consider huh being Element of K such that
            E2: x = k2*huh & huh in (K,H)`*` by E1;
            E3: huh in H by A1,E2,GROUP_6:def 1;
            reconsider huh2=huh as Element of G by GROUP_2:42;
            set x2 = k1*huh2;
            x = k1*huh2 by E2,GROUP_2:43;
            hence thesis by E3,GROUP_2:27;
          end;
          assume x in k1*carr(H);
          then consider h1 being Element of G such that
          D1: x = k1*h1 & h1 in carr(H) by GROUP_2:27;
          reconsider h2=h1 as Element of K by A1,D1,GROUP_2:42;
          reconsider H1=H as normal Subgroup of K by A3;
          D2: the carrier of H = the carrier of ((K,H)`*`) by A1,GROUP_6:def 1;
          k2*h2 in k2*carr(H1) by D1,GROUP_2:27;
          hence x in k2*carr((K,H)`*`) by D1,D2,GROUP_2:43;
        end;

        then k2*carr(((K,H)`*`)) = k1*carr(H) by TARSKI:2
                                .= k1*H;
        hence k1*H in J by C1;
      end;
      thus k1*H in J implies k1 in K by B4;
    end;
    then k*H in J by B1;
    then reconsider kH = k*H as Element of G./.H by GROUP_2:42;
    sigma.(kH) in J by Th50,B1,B5;
    then sigma.(k*H) in J & sigma.(k*H) = (phi.k)*H by B2;
    hence phi.k in K by B4;
  end;

  hence K is characteristic Subgroup of G by Th50;
end;
\nwindexdefn{\nwixident{Th75}}{Th75}{NW430QVE-20SEtU-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th75}}{Th75}}}\nwendcode{}\nwbegindocs{60}\nwdocspar
\begin{theorem}
Let $H\subgroup G$.
Then $H\subgroup C_{G}(H)$ if and only if $H$ is a commutative group.
\end{theorem}

\nwenddocs{}\nwbegincode{61}\sublabel{NW430QVE-1WaraY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1WaraY-1}}}\moddef{Theorem: $H\subgroup G$, $H\subgroup C_{G}(H)\iff$ $H$ is commutative~{\nwtagstyle{}\subpageref{NW430QVE-1WaraY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th76:
  for G being Group
  for H being Subgroup of G
  holds H is Subgroup of Centralizer H iff H is commutative Group
proof
  let G be Group;
  let H be Subgroup of G;
  thus H is Subgroup of Centralizer H implies H is commutative Group
  proof
    assume A1: H is Subgroup of Centralizer H;
    A2: for g,h being Element of G st g in H & h in H holds g*h=h*g
    proof
      let g,h be Element of G;
      assume B1: g in H;
      assume B2: h in H;
      g in Centralizer H by B1,A1,GROUP_2:40;
      hence g*h=h*g by B2,Th60;
    end;
    for g,h being Element of H holds g*h=h*g
    proof
      let g,h be Element of H;
      B1: g in H & h in H;
      reconsider g1=g, h1=h as Element of G by GROUP_2:42;
      g*h = g1*h1 by GROUP_2:43
         .= h1*g1 by A2,B1
         .= h*g by GROUP_2:43;
      hence thesis;
    end;
    hence thesis by GROUP_1:def 12;
  end;

  thus H is commutative Group implies H is Subgroup of Centralizer H
  proof
    assume A1: H is commutative Group;
    A2: for g,h being Element of G st g in H & h in H holds g*h=h*g
    proof
      let g,h be Element of G;
      assume B1: g in H;
      assume B2: h in H;
      reconsider g1=g,h1=h as Element of H by B1,B2;
      g*h = g1*h1 by GROUP_2:43
         .= h1*g1 by A1,GROUP_1:def 12
         .= h*g by GROUP_2:43;
      hence g*h=h*g;
    end;
    for g being Element of G st g in H holds g in Centralizer H
    proof
      let g be Element of G;
      assume B1: g in H;
      for a being Element of G st a in H holds g*a = a*g by B1,A2;
      then g is Element of Centralizer H by Th60;
      hence g in Centralizer H;
    end;
    hence thesis by GROUP_2:58;
  end;
end;
\nwindexdefn{\nwixident{Th76}}{Th76}{NW430QVE-1WaraY-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th76}}{Th76}}}\nwendcode{}\nwbegindocs{62}\nwdocspar
\begin{theorem}
For any group $G$, $C_{G}(G)=Z(G)$.
\end{theorem}

\nwenddocs{}\nwbegincode{63}\sublabel{NW430QVE-WnnkI-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-WnnkI-1}}}\moddef{Theorem: $C_{G}(G)=Z(G)$~{\nwtagstyle{}\subpageref{NW430QVE-WnnkI-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th77:
  for G being Group
  holds Centralizer (Omega).G = center G
proof
  let G be Group;
  for g being Element of G holds g in Centralizer (Omega).G iff g in center G
  proof
    let g be Element of G;
    thus g in Centralizer (Omega).G implies g in center G
    proof
      assume A1: g in Centralizer (Omega).G;
      for a being Element of G holds g*a = a*g
      proof
        let a be Element of G;
        a in (Omega).G;
        hence g*a = a*g by A1,Th60;
      end;
      hence g in center G by GROUP_5:77;
    end;

    thus g in center G implies g in Centralizer (Omega).G
    proof
      assume g in center G;
      then for b being Element of G st b in (Omega).G holds g*b = b*g
      by GROUP_5:77;
      then g is Element of Centralizer (Omega).G by Th60;
      hence thesis;
    end;

  end;
  hence Centralizer (Omega).G = center G;
end;
\nwindexdefn{\nwixident{Th77}}{Th77}{NW430QVE-WnnkI-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th77}}{Th77}}}\nwendcode{}\nwbegindocs{64}\nwdocspar
\begin{theorem}
Let $N\normalSubgroup G$ be a subgroup. Then $C_{G}(N)\normalSubgroup G$.
\end{theorem}

\nwenddocs{}\nwbegincode{65}\sublabel{NW430QVE-36sPMb-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-36sPMb-1}}}\moddef{Theorem: $N\normalSubgroup G\implies C_{G}(H)\normalSubgroup G$~{\nwtagstyle{}\subpageref{NW430QVE-36sPMb-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th78:
  for G being Group
  for N being normal Subgroup of G
  holds Centralizer N is normal Subgroup of G
proof
  let G be Group;
  let N be normal Subgroup of G;

  A1: for g,n being Element of G st n in N holds n |^ g in N
  proof
    let g,n be Element of G;
    assume B1: n in N;
    B2: the multMagma of N = the multMagma of (N |^ g) by GROUP_3:def 13;
    n |^ g in N |^ g by B1,GROUP_3:58;
    hence thesis by B2;
  end;

  A2: for g,x,n being Element of G st x in Centralizer N & n in N
  holds (x |^ g)*n = n*(x |^ g)
  proof
    let g,x,n be Element of G;
    assume B1: x in Centralizer N;
    assume B2: n in N;
    consider n2 being Element of G such that
    B3: n2 = g * n * g";
    B4: n2 = n |^ g" by B3;
    then (x * n2) |^ g = (n2 * x) |^ g by B1,B2,A1,Th60
                      .= (n2 |^ g) * (x |^ g) by GROUP_3:23;
    then (x |^ g) * (n2 |^ g) = (n2 |^ g) * (x |^ g) by GROUP_3:23
                             .= n * (x |^ g) by B4,GROUP_3:25;
    hence (x |^ g) * n = n * (x |^ g) by B4,GROUP_3:25;
  end;

  A3: for g,z being Element of G st z in Centralizer N
  holds z |^ g in Centralizer N
  proof
    let g,z be Element of G;
    assume z in Centralizer N;
    then for n being Element of G st n in N holds
    (z |^ g)*n = n*(z |^ g) by A2;
    then (z |^ g) is Element of Centralizer N by Th60;
    hence z |^ g in Centralizer N;
  end;


  for g being Element of G holds (Centralizer N) |^ g = Centralizer N
  proof
    let g be Element of G;
    for z being Element of G
    holds z in (Centralizer N) |^ g iff z in (Centralizer N)
    proof
      let z be Element of G;
      hereby
        assume z in (Centralizer N) |^ g;
        then (z |^ g") in ((Centralizer N) |^ g) |^ g" by GROUP_3:58;
        then (z |^ g") in Centralizer N by GROUP_3:62;
        then (z |^ g") |^ g in Centralizer N by A3;
        hence z in (Centralizer N) by GROUP_3:25;
      end;
      assume z in (Centralizer N);
      then (z |^ g") |^ g in (Centralizer N) |^ g by A3,GROUP_3:58;
      hence z in (Centralizer N) |^ g by GROUP_3:25;
    end;

    hence (Centralizer N) |^ g = Centralizer N;
  end;
  hence Centralizer N is normal Subgroup of G by GROUP_3:def 13;
end;
\nwindexdefn{\nwixident{Th78}}{Th78}{NW430QVE-36sPMb-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th78}}{Th78}}}\nwendcode{}\nwbegindocs{66}\nwdocspar
\begin{theorem}
Let $H\subgroup G$, $h\in H$ and $n\in N_{G}(H)$. Then
$h^{n}=n^{-1}hn\in H$.
\end{theorem}

\nwenddocs{}\nwbegincode{67}\sublabel{NW430QVE-v2ec6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-v2ec6-1}}}\moddef{Theorem: $\forall h\in H,n\in N_{G}(H), n^{-1}hn\in H$~{\nwtagstyle{}\subpageref{NW430QVE-v2ec6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th79:
  for G being Group
  for H being Subgroup of G
  for h,n being Element of G
  st h in H & n in Normalizer H
  holds h |^ n in H
proof
  let G be Group;
  let H be Subgroup of G;
  let h,n be Element of G;
  assume A1: h in H;
  assume n in Normalizer H;
  then consider g being Element of G such that
  A2: n" = g & (carr H) |^ g = carr H by GROUP_2:51,GROUP_3:129;
  consider h1 being Element of G such that
  A3: h = h1 |^ g & h1 in carr H by A1,A2,GROUP_3:41;
  h |^ n = (h1 |^ (n")) |^ n by A2,A3
        .= h1 by GROUP_3:25;
  hence h |^ n in H by A3;
end;
\nwindexdefn{\nwixident{Th79}}{Th79}{NW430QVE-v2ec6-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th79}}{Th79}}}\nwendcode{}\nwbegindocs{68}\nwdocspar
\begin{theorem}
For any subgroup $H\subgroup G$, we have $H\subgroup N_{G}(H)$.
\end{theorem}

\nwenddocs{}\nwbegincode{69}\sublabel{NW430QVE-40hsCt-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-40hsCt-1}}}\moddef{Theorem: $\forall H\subgroup G, H\subgroup N_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-40hsCt-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th80:
  for G being Group
  for H being Subgroup of G
  holds H is Subgroup of Normalizer H
proof
  let G be Group;
  let H be Subgroup of G;
  A1: for g being Element of G st g in H
  for x being Element of G st x in (carr H) |^ g holds x in carr H
  proof
    let g be Element of G;
    assume B1: g in H;
    let x be Element of G;
    assume x in (carr H) |^ g;
    then consider h being Element of G such that
    B2: x = h |^ g & h in carr H by GROUP_3:41;
    B3: h in H by B2;
    g" in H by B1,GROUP_2:51;
    then g" * h in H by B3, GROUP_2:50;
    then x in H by B1,B2, GROUP_2:50;
    hence x in carr H;
  end;

  for g being Element of G st g in H holds g in Normalizer H
  proof
    let g be Element of G;
    assume B1: g in H;
    for x being Element of G st x in carr H holds x in (carr H) |^ g
    proof
      let x be Element of G;
      thus x in carr H implies x in (carr H) |^ g
      proof
        assume x in carr H;
        then C1: x in H;
        set h = x |^ g";
        g" in H by B1,GROUP_2:51;
        then x * g" in H by C1,GROUP_2:50;
        then g * (x * g") in H by B1,GROUP_2:50;
        then C2: h in (carr H) by GROUP_1:def 3;
        C3: h |^ g = (x |^ g") |^ g
                  .= x by GROUP_3:25;
        thus x in (carr H) |^ g by C2,C3,GROUP_3:41;
      end;
    end;
    then (carr H) |^ g c= carr H & carr H c= (carr H) |^ g by A1,B1;
    then (carr H) |^ g = carr H by XBOOLE_0:def 10;
    hence g in Normalizer H by GROUP_3:129;
  end;

  hence H is Subgroup of Normalizer H by GROUP_2:58;
end;
\nwindexdefn{\nwixident{Th80}}{Th80}{NW430QVE-40hsCt-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th80}}{Th80}}}\nwendcode{}\nwbegindocs{70}\nwdocspar
\begin{lemma}
Let $H\subgroup G$ be a subgroup. Then $C_{G}(H)\subgroup N_{G}(H)$.
\end{lemma}

\begin{proof}[Proof sketch]
We find every $g\in C_{G}(H)$ also lives in $g\in N_{G}(H)$. The result
follows immediately.
\end{proof}

\nwenddocs{}\nwbegincode{71}\sublabel{NW430QVE-2s71i7-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-2s71i7-1}}}\moddef{Lemma: $C_{G}(H)\subgroup N_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-2s71i7-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
Lm8:
  for G being Group
  for H being Subgroup of G
  holds Centralizer H is strict Subgroup of Normalizer H
proof
  let G be Group;
  let H be Subgroup of G;
  set Z = Centralizer H;
  for g being Element of G st g in Centralizer H holds g in Normalizer H
  \LA{}Proof: $\forall g\in G, g\in C_{G}(H)\implies g\in N_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-j3DVn-1}}\RA{}
  hence Centralizer H is strict Subgroup of Normalizer H by GROUP_2:58;
end;
\nwindexdefn{\nwixident{Lm8}}{Lm8}{NW430QVE-2s71i7-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Lm8}}{Lm8}}}\nwendcode{}\nwbegindocs{72}\nwdocspar
\begin{proof}[Proof step ($\forall g\in G, g\in C_{G}(H)\implies g\in N_{G}(H)$).]
We will show, for any arbitrary $g\in C_{G}(H)$, that $H^{g} = H$. This
implies $g\in N_{G}(H)$ by definition of the normalizer.
\end{proof}

\nwenddocs{}\nwbegincode{73}\sublabel{NW430QVE-j3DVn-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-j3DVn-1}}}\moddef{Proof: $\forall g\in G, g\in C_{G}(H)\implies g\in N_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-j3DVn-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2s71i7-1}}\nwenddeflinemarkup
proof
  let g be Element of G;
  assume A1: g in Centralizer H;
  A2: for a being Element of G st a in H holds a = (g")*a*g
  proof
    let a be Element of G;
    assume a in H;
    then g" * (a * g) = g" * (g*a) by A1,Th60
                     .= (g" * g)*a by GROUP_1:def 3
                     .= (1_G)*a by GROUP_1:def 5
                     .= a by GROUP_1:def 4;
    hence a = (g")*a*g by GROUP_1:def 3;
  end;

  for a being Element of G holds a in H iff a in (H |^ g)
  proof
    let a be Element of G;
    thus a in H implies a in H |^ g
    proof
      assume B1: a in H;
      then a = a |^ g by A2;
      hence a in H |^ g by B1, GROUP_3:58;
    end;
    thus a in H |^ g implies a in H
    proof
      assume a in H |^ g;
      then consider h being Element of G such that
      B1: a = h |^ g & h in H
      by GROUP_3:58;
      thus a in H by A2,B1;
    end;
  end;
  then the multMagma of H = the multMagma of (H |^ g) by GROUP_2:60;
  then carr H = carr(H) |^ g by GROUP_3:def 6;
  hence g in Normalizer H by GROUP_3:129;
end;
\nwused{\\{NW430QVE-2s71i7-1}}\nwendcode{}\nwbegindocs{74}\nwdocspar

\begin{theorem}
Let $H\subgroup G$. Then $C_{G}(H)\normalSubgroup N_{G}(H)$.
\end{theorem}

\begin{proof}[Proof sketch]
We will show $(B_{4})$, for arbitrary $z\in C_{G}(H)$ and $n\in N_{G}(H)$, that
$z^{n}=n^{-1}zn$ commutes with any $h\in H$. This implies $(B_{5})$ that
$z^{n}\in C_{G}(H)$ and thus $C_{G}(H)\subgroup n^{-1}C_{G}(H)n$. It
follows that $C_{G}(H)\normalSubgroup N_{G}(H)$.
\end{proof}

\nwenddocs{}\nwbegincode{75}\sublabel{NW430QVE-3FkwqH-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-3FkwqH-1}}}\moddef{Theorem: $C_{G}(H)\normalSubgroup N_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-3FkwqH-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-2Y3Nao-1}}\nwenddeflinemarkup
theorem Th81:
  for G being Group
  for H being Subgroup of G
  holds Centralizer H is strict normal Subgroup of Normalizer H
proof
  let G be Group;
  let H be Subgroup of G;

  (Centralizer H) is normal Subgroup of Normalizer H
  proof
    reconsider Z=Centralizer H as strict Subgroup of Normalizer H by Lm8;
    set N = Normalizer H;

    B60: for z being Element of N
    holds (for n being Element of N st n in H holds z*n = n*z) iff
          z is Element of Z
    \LA{}Proof: $\forall z\in N_{G}(H), (\forall n\in N_{G}(H), n\in H\implies zn=nz)\iff z\in C_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-1ZsXpI-1}}\RA{}


    B1: for z,n,h being Element of N
    st z in Z & n in N & h in H
    holds h |^ (z |^ n) = h
    proof
      let z,n,h be Element of N;
      assume C1: z in Z;
      assume n in N;
      assume C2: h in H;
      C3: h |^ (z |^ n) = (z |^ n)" * h * (z |^ n)
      .= (z" |^ n) * h * (z |^ n) by GROUP_3:26
      .= (n" * z" * n) * h * (n" * z * n)
      .= ((n" * z") * n) * h * (n" * (z * n)) by GROUP_1:def 3
      .= ((n" * z") * n) * (h * (n" * (z * n))) by GROUP_1:def 3
      .= (n" * z") * (n * (h * (n" * (z * n)))) by GROUP_1:def 3
      .= (n" * z") * (n * h * (n" * (z * n))) by GROUP_1:def 3
      .= (n" * z") * ((n * h) * (n" * (z * n)))
      .= (n" * z") * (((n * h) * n") * (z * n)) by GROUP_1:def 3
      .= (n" * z") * ((n * h) * n") * (z * n) by GROUP_1:def 3
      .= (n" * z") * (n * h * n") * (z * n);

      C4: for a,b being Element of G
      holds a in N & b in H & b in N implies a*b*a" in H & a*b*a" in N
      proof
        let a,b be Element of G;
        assume D1: a in N;
        assume D2: b in H;
        assume D3: b in N;
        D4: a*b in N by D1,D3,GROUP_2:50;
        D5: a" in N & b in H by D1,D2,GROUP_2:51;
        then b |^ a" in H by Th79;
        hence a*b*a" in H;
        thus a*b*a" in N by D4,D5,GROUP_2:50;
      end;

      n * h * n" in H
      proof
        reconsider h1=h,n1=n as Element of G by GROUP_2:42;
        n1" = n" by GROUP_2:48;
        then h1*n1" = h*n" by GROUP_2:43;
        then n1*(h1*n1") = n*(h*n") by GROUP_2:43
                        .= n*h*n" by GROUP_1:def 3;
        then D1: n1*h1*n1" = n*h*n" by GROUP_1:def 3;
        h1 in N & n1 in N & h1 in H by C2;
        hence thesis by C4,D1;
      end;
      then consider h2 being Element of N such that
      C5: n * h * n" = h2 & h2 in H;

      z*h2 = h2*z by B60,C1,C5;
      then (z" * z) * h2 = z" * (h2 * z) by GROUP_1:def 3
                        .= (z" * h2) * z by GROUP_1:def 3;
      then (z" * h2) * z = (z" * z) * h2
                        .= 1_N * h2 by GROUP_1:def 5
                        .= h2 by GROUP_1:def 4;
      then C6: h2 * z" = ((z" * h2) * z) * z"
                      .= (z" * h2) * (z * z") by GROUP_1:def 3
                      .= (z" * h2) * 1_N by GROUP_1:def 5
                      .= z" * h2 by GROUP_1:def 4;
      h |^ (z |^ n) = (n" * z") * (n * h * n") * (z * n) by C3
                   .= (n" * z") * h2 * (z * n) by C5
                   .= (n" * z") * (h2 * (z * n)) by GROUP_1:def 3
                   .= n" * (z" * (h2 * (z * n))) by GROUP_1:def 3
                   .= n" * ((z" * h2) * (z * n)) by GROUP_1:def 3
                   .= n" * ((h2 * z") * (z * n)) by C6
                   .= n" * (h2 * (z" * (z * n))) by GROUP_1:def 3
                   .= n" * (h2 * ((z" * z) * n)) by GROUP_1:def 3
                   .= n" * (h2 * (1_N * n)) by GROUP_1:def 5
                   .= n" * (h2 * n) by GROUP_1:def 4
                   .= n" * h2 * n by GROUP_1:def 3
                   .= h2 |^ n
                   .= (n * h * n") |^ n by C5
                   .= (h |^ n") |^ n
                   .= h by GROUP_3:25;
      hence h |^ (z |^ n) = h;
    end;


    B2: for z,n,h being Element of N
    st z in Z & h in H
    holds (z |^ n)*h = h*(z |^ n)
    proof
      let z,n,h be Element of N;
      assume C1: z in Z;
      assume C2: h in H;
      n in N;
      then h |^ (z |^ n) = h by C1,C2,B1;
      hence (z |^ n)*h = h*(z |^ n) by GROUP_3:22;
    end;


    B3: for n being Element of N
    for z being Element of N st z in Z holds (z |^ n) in Z
    proof
      let n be Element of N;
      let z be Element of N;
      assume C1: z in Z;
      set g = z |^ n;
      for h being Element of N st h in H holds g*h = h*g by C1,B2;
      then g is Element of Z by B60;
      hence thesis;
    end;

    for n being Element of Normalizer H
    holds Z is Subgroup of Z |^ n
    proof
      let n be Element of Normalizer H;
      for z being Element of N st z in Z holds z in Z |^ n
      proof
        let z be Element of N;
        assume z in Z;
        then (z |^ n") |^ n in (Z |^ n) by B3,GROUP_3:58;
        hence z in Z |^ n by GROUP_3:25;
      end;

      hence Z is Subgroup of Z |^ n by GROUP_2:58;
    end;
    hence thesis by GROUP_3:121;
  end;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th81}}{Th81}{NW430QVE-3FkwqH-1}\eatline
\nwused{\\{NW430QVE-2Y3Nao-1}}\nwidentdefs{\\{{\nwixident{Th81}}{Th81}}}\nwendcode{}\nwbegindocs{76}\nwdocspar
\begin{proof}[Proof step ($B_{60}$).]
We prove the analogous result from theorem 60, but when restricting
quantifiers to the normalizer.
\end{proof}

\nwenddocs{}\nwbegincode{77}\sublabel{NW430QVE-1ZsXpI-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW430QVE-1ZsXpI-1}}}\moddef{Proof: $\forall z\in N_{G}(H), (\forall n\in N_{G}(H), n\in H\implies zn=nz)\iff z\in C_{G}(H)$~{\nwtagstyle{}\subpageref{NW430QVE-1ZsXpI-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW430QVE-3FkwqH-1}}\nwenddeflinemarkup
proof
  let z be Element of N;
  reconsider z1=z as Element of G by GROUP_2:42;

  C1: z is Element of Z implies (for n being Element of N st n in H
                                 holds z*n = n*z)
  proof
    assume D1: z is Element of Z;
    let n be Element of N;
    assume D2: n in H;
    reconsider n1=n as Element of G by GROUP_2:42;
    z1*n1 = n1*z1 by D1,D2,Th60
         .= n*z by GROUP_2:43;
    hence z*n = n*z by GROUP_2:43;
  end;
  not (z is Element of Z) implies not (for n being Element of N st n in H
  holds z*n = n*z)
  proof
    assume not z is Element of Z;
    then consider g being Element of G such that
    D1: g in H & g*z1 <> z1 * g by Th60;
    H is Subgroup of Normalizer H by Th80;
    then g in Normalizer H by D1, GROUP_2:41;
    then reconsider n=g as Element of N;
    D2: g*z1 = n*z by GROUP_2:43;
    take n;
    thus thesis by D1,D2,GROUP_2:43;
  end;
  hence (for n being Element of N st n in H holds z*n = n*z) implies
  z is Element of Z;

  thus z is Element of Z implies (for n being Element of N st n in H
  holds z*n = n*z) by C1;
end;
\nwused{\\{NW430QVE-3FkwqH-1}}\nwendcode{}\nwbegindocs{78}\nwdocspar
\nwenddocs{}

\nwixlogsorted{c}{{$\exists a\in\varphi^{-1}(H),g=\varphi(a)$}{NW3gc01d-41Hbi6-1}{\nwixu{NW3gc01d-47FJLD-1}\nwixd{NW3gc01d-41Hbi6-1}}}%
\nwixlogsorted{c}{{$\exists b\in H, a = \varphi^{-1}(b)$}{NW3gc01d-2rS80d-1}{\nwixu{NW3gc01d-47FJLD-1}\nwixd{NW3gc01d-2rS80d-1}}}%
\nwixlogsorted{c}{{$\varphi(x)\in G$}{NW3gc01d-4JfXI9-1}{\nwixu{NW3gc01d-39h8sj-1}\nwixd{NW3gc01d-4JfXI9-1}}}%
\nwixlogsorted{c}{{$\varphi(x)\notin\varphi(H)$}{NW3gc01d-476s7N-1}{\nwixu{NW3gc01d-39h8sj-1}\nwixd{NW3gc01d-476s7N-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} article body}{NWUmZ11-1Vve9X-1}{\nwixu{NW2U3g6J-KmSke-1}\nwixd{NWUmZ11-1Vve9X-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} constructors}{NW2aknDh-BOc6W-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-BOc6W-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} definitions}{NW2aknDh-3c241H-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-3c241H-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} equalities}{NW2aknDh-RMPxd-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-RMPxd-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} expansions}{NW2aknDh-22IB3u-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-22IB3u-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} notations}{NW2aknDh-4R7z6a-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-4R7z6a-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} registrations}{NW2aknDh-4Kp0yM-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-4Kp0yM-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} requirements}{NW2aknDh-tou4m-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-tou4m-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} schemes}{NW2aknDh-4ZgZmN-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-4ZgZmN-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} theorems}{NW2aknDh-lydFc-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-lydFc-1}}}%
\nwixlogsorted{c}{{\code{}group{\_}22.miz\edoc{} vocabularies}{NW2aknDh-1uaatY-1}{\nwixu{NW2aknDh-FK1ys-1}\nwixd{NW2aknDh-1uaatY-1}}}%
\nwixlogsorted{c}{{Automorphisms of Groups}{NW3gc01d-1CMOm-1}{\nwixu{NWUmZ11-1Vve9X-1}\nwixd{NW3gc01d-1CMOm-1}}}%
\nwixlogsorted{c}{{Centralizers of Characteristic Subgroups}{NW430QVE-2Y3Nao-1}{\nwixu{NWUmZ11-1Vve9X-1}\nwixd{NW430QVE-2Y3Nao-1}}}%
\nwixlogsorted{c}{{Characteristic subgroups}{NW2llOmu-3NltVm-1}{\nwixu{NWUmZ11-1Vve9X-1}\nwixd{NW2llOmu-3NltVm-1}}}%
\nwixlogsorted{c}{{Cluster \code{}proper\ normal\ Subgroup\edoc{}}{NWUmZ11-2YhlIY-1}{\nwixu{NWUmZ11-1x35KZ-1}\nwixd{NWUmZ11-2YhlIY-1}}}%
\nwixlogsorted{c}{{Cluster \code{}strict\ proper\ normal\ Subgroup\edoc{}}{NWUmZ11-3A6xup-1}{\nwixu{NWUmZ11-1x35KZ-1}\nwixd{NWUmZ11-3A6xup-1}}}%
\nwixlogsorted{c}{{Corollary: conjugation of given element is an \emph{inner} automorphism}{NW2hIK2S-47V7KL-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-47V7KL-1}}}%
\nwixlogsorted{c}{{Definition: $\forall a\in G$, $\{a\}\subset G$}{NW430QVE-kN6Qo-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-kN6Qo-1}}}%
\nwixlogsorted{c}{{Definition: \code{}Automorphism\edoc{}}{NW3gc01d-2qSYW4-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-2qSYW4-1}}}%
\nwixlogsorted{c}{{Definition: \code{}characteristic\edoc{} attribute}{NW2llOmu-qejLV-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-qejLV-1}}}%
\nwixlogsorted{c}{{Definition: \code{}Endomorphism\edoc{}}{NW3gc01d-1U3x3j-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-1U3x3j-1}}}%
\nwixlogsorted{c}{{Definition: \code{}inner\edoc{} for Automorphism}{NW2hIK2S-1Tb4wZ-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-1Tb4wZ-1}}}%
\nwixlogsorted{c}{{Definition: Centralizer of Subgroup}{NW430QVE-1mSO5f-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1mSO5f-1}}}%
\nwixlogsorted{c}{{Definition: Centralizer of Subset}{NW430QVE-1mdlmG-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1mdlmG-1}}}%
\nwixlogsorted{c}{{Definition: Normalizer of group element}{NW430QVE-31qtea-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-31qtea-1}}}%
\nwixlogsorted{c}{{Definition: proper subgroup}{NWUmZ11-RKCxZ-1}{\nwixu{NWUmZ11-KQsbx-1}\nwixd{NWUmZ11-RKCxZ-1}}}%
\nwixlogsorted{c}{{DICT/GROUP-22.VOC}{NW2U3g6J-1hUeyM-1}{\nwixd{NW2U3g6J-1hUeyM-1}\nwixd{NW2hIK2S-1hUeyM-1}\nwixd{NW2llOmu-1hUeyM-1}}}%
\nwixlogsorted{c}{{Environment for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-FK1ys-1}{\nwixu{NW2U3g6J-KmSke-1}\nwixd{NW2aknDh-FK1ys-1}}}%
\nwixlogsorted{c}{{Establish $f^{-1}$ is an Endomorphism}{NW2hIK2S-lTiQo-1}{\nwixu{NW2hIK2S-a3qbq-1}\nwixd{NW2hIK2S-lTiQo-1}}}%
\nwixlogsorted{c}{{Establish $f^{-1}$ is the inverse function of $f$}{NW2hIK2S-oixct-1}{\nwixu{NW2hIK2S-a3qbq-1}\nwixd{NW2hIK2S-oixct-1}}}%
\nwixlogsorted{c}{{Functions and subset tokens}{NW2aknDh-1ATTd1-1}{\nwixu{NW2aknDh-1uaatY-1}\nwixd{NW2aknDh-1ATTd1-1}}}%
\nwixlogsorted{c}{{Group and subgroups tokens}{NW2aknDh-5jMsk-1}{\nwixu{NW2aknDh-1uaatY-1}\nwixd{NW2aknDh-5jMsk-1}}}%
\nwixlogsorted{c}{{Group conjugation and normal subgroups tokens}{NW2aknDh-40Iyod-1}{\nwixu{NW2aknDh-1uaatY-1}\nwixd{NW2aknDh-40Iyod-1}}}%
\nwixlogsorted{c}{{Group theoretic definitions for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-2qQNX4-1}{\nwixu{NW2aknDh-3c241H-1}\nwixd{NW2aknDh-2qQNX4-1}}}%
\nwixlogsorted{c}{{Group theory constructors for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-4A8g9y-1}{\nwixu{NW2aknDh-BOc6W-1}\nwixd{NW2aknDh-4A8g9y-1}}}%
\nwixlogsorted{c}{{Helper lemmas and registrations for \code{}group{\_}22.miz\edoc{}}{NWUmZ11-2pzjB9-1}{\nwixu{NWUmZ11-1Vve9X-1}\nwixd{NWUmZ11-2pzjB9-1}}}%
\nwixlogsorted{c}{{Import group-theoretic theorems for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-3iw38Z-1}{\nwixu{NW2aknDh-lydFc-1}\nwixd{NW2aknDh-3iw38Z-1}}}%
\nwixlogsorted{c}{{Import set-theoretic theorems for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-2UoAMk-1}{\nwixu{NW2aknDh-lydFc-1}\nwixd{NW2aknDh-2UoAMk-1}}}%
\nwixlogsorted{c}{{Include set theoretic definitions for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-2hxaIL-1}{\nwixu{NW2aknDh-3c241H-1}\nwixd{NW2aknDh-2hxaIL-1}}}%
\nwixlogsorted{c}{{Inner Automorphisms}{NW2hIK2S-UGF1u-1}{\nwixu{NWUmZ11-1Vve9X-1}\nwixd{NW2hIK2S-UGF1u-1}}}%
\nwixlogsorted{c}{{Lemma: $C_{G}(H)\subgroup N_{G}(H)$}{NW430QVE-2s71i7-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-2s71i7-1}}}%
\nwixlogsorted{c}{{Lemma: $H\subgroup G$ and $\trivialSubgroup\subgroup H$ implies $H=\trivialSubgroup$}{NW3gc01d-3CeuwY-1}{\nwixd{NW3gc01d-3CeuwY-1}\nwixu{NW3gc01d-2Beici-1}}}%
\nwixlogsorted{c}{{Lemma: Elements of \code{}InnAut\ G\edoc{} are automorphisms}{NW2hIK2S-3eJW7Q-1}{\nwixu{NW2hIK2S-2gUxot-1}\nwixd{NW2hIK2S-3eJW7Q-1}}}%
\nwixlogsorted{c}{{Lemma: Existence of finite nontrivial groups}{NWUmZ11-3WaVwt-1}{\nwixd{NWUmZ11-3WaVwt-1}\nwixu{NWUmZ11-OpWr6-1}}}%
\nwixlogsorted{c}{{Lemma: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have monomorphism $\varphi|_{H}$}{NW3gc01d-2Beici-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-2Beici-1}}}%
\nwixlogsorted{c}{{Lemma: if $H\subgroup\trivialGroup$, then $H=\trivialGroup$}{NW2llOmu-1tYS7d-1}{\nwixu{NW2llOmu-HjATr-1}\nwixd{NW2llOmu-1tYS7d-1}}}%
\nwixlogsorted{c}{{Lemma: maximal subgroups are proper}{NWUmZ11-KtuAy-1}{\nwixu{NWUmZ11-KQsbx-1}\nwixd{NWUmZ11-KtuAy-1}}}%
\nwixlogsorted{c}{{Lemma: trivial subgroup is \code{}characteristic\edoc{}}{NW2llOmu-HjATr-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-HjATr-1}}}%
\nwixlogsorted{c}{{License for \code{}group{\_}22.miz\edoc{}}{NW2U3g6J-2EFGfY-1}{\nwixu{NW2U3g6J-KmSke-1}\nwixd{NW2U3g6J-2EFGfY-1}}}%
\nwixlogsorted{c}{{Meets of families of subgroups}{NW1xOoCH-3kq7TJ-1}{\nwixu{NWUmZ11-1Vve9X-1}\nwixd{NW1xOoCH-3kq7TJ-1}}}%
\nwixlogsorted{c}{{Nontrivial Groups}{NWUmZ11-1xRFQU-1}{\nwixu{NWUmZ11-1Vve9X-1}\nwixd{NWUmZ11-1xRFQU-1}}}%
\nwixlogsorted{c}{{Number constructors for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-2Rb2PP-1}{\nwixu{NW2aknDh-BOc6W-1}\nwixd{NW2aknDh-2Rb2PP-1}}}%
\nwixlogsorted{c}{{Outer as antonym of inner}{NW2hIK2S-RgKDM-1}{\nwixu{NW2hIK2S-1Tb4wZ-1}\nwixd{NW2hIK2S-RgKDM-1}}}%
\nwixlogsorted{c}{{Proof $\forall y\in G, y \in f(H)\impliedby y\in H^{a}$}{NW2hIK2S-1b1ocA-1}{\nwixu{NW2hIK2S-2zspfg-1}\nwixd{NW2hIK2S-1b1ocA-1}}}%
\nwixlogsorted{c}{{Proof $\forall y\in G, y\in f(H)\implies y\in H^{a}$}{NW2hIK2S-1BjobC-1}{\nwixu{NW2hIK2S-2zspfg-1}\nwixd{NW2hIK2S-1BjobC-1}}}%
\nwixlogsorted{c}{{Proof $\ker(f)\subset\trivialSubgroup$}{NW2hIK2S-1msO16-1}{\nwixu{NW2hIK2S-3fLhao-1}\nwixd{NW2hIK2S-1msO16-1}}}%
\nwixlogsorted{c}{{Proof $f$ is in \code{}InnAut\ G\edoc{} $\implies$ ($f$ is inner automorphism)}{NW2hIK2S-18aBqf-1}{\nwixu{NW2hIK2S-2gUxot-1}\nwixd{NW2hIK2S-18aBqf-1}}}%
\nwixlogsorted{c}{{Proof $f\in\aut(G)\implies f$ is \code{}Automorphism\ of\ G\edoc{}}{NW2hIK2S-wlMQo-1}{\nwixu{NW2hIK2S-2VuNZX-1}\nwixd{NW2hIK2S-wlMQo-1}}}%
\nwixlogsorted{c}{{Proof ($f$ is inner automorphism) $\implies$ $f$ is in \code{}InnAut\ G\edoc{}}{NW2hIK2S-2maG0l-1}{\nwixu{NW2hIK2S-2gUxot-1}\nwixd{NW2hIK2S-2maG0l-1}}}%
\nwixlogsorted{c}{{Proof an endomorphism $f^{-1}$ exists}{NW2hIK2S-a3qbq-1}{\nwixu{NW2hIK2S-VBRVv-1}\nwixd{NW2hIK2S-a3qbq-1}}}%
\nwixlogsorted{c}{{Proof by contradiction: fixed by inner automorphisms implies normal}{NW2hIK2S-3U116k-1}{\nwixu{NW2hIK2S-4Qqcti-1}\nwixd{NW2hIK2S-3U116k-1}}}%
\nwixlogsorted{c}{{Proof of existence of an inner Automorphism}{NW2hIK2S-9idpO-1}{\nwixu{NW2hIK2S-4IjmGJ-1}\nwixd{NW2hIK2S-9idpO-1}}}%
\nwixlogsorted{c}{{Proof step: $\forall\varphi_{0}\in\Aut(G),\forall x, x\in\bigcap\mathcal{F}\implies\varphi_{0}(x)\in\bigcap\mathcal{F}$}{NW2llOmu-yNumc-1}{\nwixu{NW2llOmu-3pFvE5-1}\nwixd{NW2llOmu-yNumc-1}}}%
\nwixlogsorted{c}{{Proof step: $\mathcal{F}\neq\emptyset$}{NW2llOmu-1m2Gqf-1}{\nwixu{NW2llOmu-3pFvE5-1}\nwixd{NW2llOmu-1m2Gqf-1}}}%
\nwixlogsorted{c}{{Proof step: $x\in\bigcap\mathcal{F}\implies x\in\varphi(\bigcap\mathcal{F})$}{NW2llOmu-2pu6zi-1}{\nwixu{NW2llOmu-3pFvE5-1}\nwixd{NW2llOmu-2pu6zi-1}}}%
\nwixlogsorted{c}{{Proof step: $y\in\varphi(\bigcap\mathcal{F})\implies y\in\bigcap\mathcal{F}$}{NW2llOmu-3LSeN1-1}{\nwixu{NW2llOmu-3pFvE5-1}\nwixd{NW2llOmu-3LSeN1-1}}}%
\nwixlogsorted{c}{{Proof: $1_{G}\in C_{G}(A)$}{NW430QVE-3AKRSd-1}{\nwixu{NW430QVE-1mdlmG-1}\nwixd{NW430QVE-3AKRSd-1}}}%
\nwixlogsorted{c}{{Proof: $\forall a\in G, K^{a}=K$}{NW2llOmu-4CFIX3-1}{\nwixu{NW2llOmu-4WQdGY-1}\nwixd{NW2llOmu-4CFIX3-1}}}%
\nwixlogsorted{c}{{Proof: $\forall g\in C_{G}(A), g^{-1}\in C_{G}(A)$}{NW430QVE-2mN6ZZ-1}{\nwixu{NW430QVE-1mdlmG-1}\nwixd{NW430QVE-2mN6ZZ-1}}}%
\nwixlogsorted{c}{{Proof: $\forall g\in G$, $g\in\varphi[\varphi^{-1}(H)]\iff g\in H$}{NW3gc01d-1ZaFZM-1}{\nwixu{NW3gc01d-xUcSR-1}\nwixd{NW3gc01d-1ZaFZM-1}}}%
\nwixlogsorted{c}{{Proof: $\forall g\in G, g\in C_{G}(H)\implies g\in N_{G}(H)$}{NW430QVE-j3DVn-1}{\nwixu{NW430QVE-2s71i7-1}\nwixd{NW430QVE-j3DVn-1}}}%
\nwixlogsorted{c}{{Proof: $\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$}{NW3gc01d-1MwKaZ-1}{\nwixu{NW3gc01d-2Q8R0t-1}\nwixd{NW3gc01d-1MwKaZ-1}}}%
\nwixlogsorted{c}{{Proof: $\forall h\in G, h\in H\implies \varphi(h)\in H$}{NW2llOmu-2L8lh-1}{\nwixu{NW2llOmu-3lDAoY-1}\nwixd{NW2llOmu-2L8lh-1}}}%
\nwixlogsorted{c}{{Proof: $\forall x, x\in C_{G}(A)\implies x\in G$}{NW430QVE-14hLUr-1}{\nwixu{NW430QVE-1mdlmG-1}\nwixd{NW430QVE-14hLUr-1}}}%
\nwixlogsorted{c}{{Proof: $\forall x, x\in C_{G}(A)\implies x\in\bigcap_{a}N_{G}(a)$}{NW430QVE-3NviKi-1}{\nwixu{NW430QVE-20pkyx-1}\nwixd{NW430QVE-3NviKi-1}}}%
\nwixlogsorted{c}{{Proof: $\forall x, x\in X\implies h(x) = f(x)$}{NWUmZ11-1bDmhU-1}{\nwixu{NWUmZ11-l92FA-1}\nwixd{NWUmZ11-1bDmhU-1}}}%
\nwixlogsorted{c}{{Proof: $\forall x, x\in\bigcap_{a}N_{G}(a)\implies x\in C_{G}(A)$}{NW430QVE-dVccr-1}{\nwixu{NW430QVE-20pkyx-1}\nwixd{NW430QVE-dVccr-1}}}%
\nwixlogsorted{c}{{Proof: $\forall z\in N_{G}(H), (\forall n\in N_{G}(H), n\in H\implies zn=nz)\iff z\in C_{G}(H)$}{NW430QVE-1ZsXpI-1}{\nwixu{NW430QVE-3FkwqH-1}\nwixd{NW430QVE-1ZsXpI-1}}}%
\nwixlogsorted{c}{{Proof: $\forall\varphi\in\Aut(G),H\subgroup\varphi(H)$}{NW2llOmu-2AHwGO-1}{\nwixu{NW2llOmu-1WVJgD-1}\nwixd{NW2llOmu-2AHwGO-1}}}%
\nwixlogsorted{c}{{Proof: $\psi(k)\in L$}{NW3gc01d-rcjUo-1}{\nwixu{NW3gc01d-2sFwyR-1}\nwixd{NW3gc01d-rcjUo-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi(\Commutators(G))\subset\Commutators(G)$}{NW2llOmu-3odp3Y-1}{\nwixu{NW2llOmu-1BwBWL-1}\nwixd{NW2llOmu-3odp3Y-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi(\Commutators(G))\supset\Commutators(G)$}{NW2llOmu-22edeY-1}{\nwixu{NW2llOmu-1BwBWL-1}\nwixd{NW2llOmu-22edeY-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi(L) = K$}{NW3gc01d-3oqpnZ-1}{\nwixu{NW3gc01d-2sFwyR-1}\nwixd{NW3gc01d-3oqpnZ-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi(L)=G$}{NW3gc01d-13ZzHL-1}{\nwixu{NW3gc01d-2sFwyR-1}\nwixd{NW3gc01d-13ZzHL-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi|_{H}$ is surjective}{NW3gc01d-41Pxbq-1}{\nwixd{NW3gc01d-41Pxbq-1}}}%
\nwixlogsorted{c}{{Proof: $C_{G}(A)$ closed under multiplication}{NW430QVE-2vNQYo-1}{\nwixu{NW430QVE-1mdlmG-1}\nwixd{NW430QVE-2vNQYo-1}}}%
\nwixlogsorted{c}{{Proof: $H$ is maximal implies $K=G$}{NW3gc01d-2sFwyR-1}{\nwixu{NW3gc01d-39Q49p-1}\nwixd{NW3gc01d-2sFwyR-1}}}%
\nwixlogsorted{c}{{Proof: $H\charSubgroup G\impliedby\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$}{NW2llOmu-1WVJgD-1}{\nwixu{NW2llOmu-4Z20G4-1}\nwixd{NW2llOmu-1WVJgD-1}}}%
\nwixlogsorted{c}{{Proof: $H\charSubgroup G\implies\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$}{NW2llOmu-ikrOm-1}{\nwixu{NW2llOmu-4Z20G4-1}\nwixd{NW2llOmu-ikrOm-1}}}%
\nwixlogsorted{c}{{Proof: $H\neq L$}{NW3gc01d-aXEjM-1}{\nwixu{NW3gc01d-2sFwyR-1}\nwixd{NW3gc01d-aXEjM-1}}}%
\nwixlogsorted{c}{{Proof: $y\in f(K)\iff y\in g(K)$}{NW2llOmu-1JehLA-1}{\nwixu{NW2llOmu-2MyoVP-1}\nwixd{NW2llOmu-1JehLA-1}}}%
\nwixlogsorted{c}{{Proof: $y\in f(K)\implies y\in g(K)$}{NW2llOmu-1yCGg9-1}{\nwixu{NW2llOmu-1JehLA-1}\nwixd{NW2llOmu-1yCGg9-1}}}%
\nwixlogsorted{c}{{Proof: $y\in g(K)\implies y\in f(K)$}{NW2llOmu-1aEga6-1}{\nwixu{NW2llOmu-1JehLA-1}\nwixd{NW2llOmu-1aEga6-1}}}%
\nwixlogsorted{c}{{Proof: ${\rm Commutators}(H,K)\subset\varphi({\rm Commutators}(H,K))$}{NW2llOmu-412Ya0-1}{\nwixu{NW2llOmu-41VHSD-1}\nwixd{NW2llOmu-412Ya0-1}}}%
\nwixlogsorted{c}{{Proof: ${\rm Commutators}(H,K)\supset\varphi({\rm Commutators}(H,K))$}{NW2llOmu-1RjAjC-1}{\nwixu{NW2llOmu-41VHSD-1}\nwixd{NW2llOmu-1RjAjC-1}}}%
\nwixlogsorted{c}{{Proof: existence of strict nontrivial subgroup of $G$}{NWUmZ11-lTKq-1}{\nwixu{NWUmZ11-2RiGxf-1}\nwixd{NWUmZ11-lTKq-1}}}%
\nwixlogsorted{c}{{Proof: normal implies fixed by inner automorphisms}{NW2hIK2S-ZiHjv-1}{\nwixu{NW2hIK2S-4Qqcti-1}\nwixd{NW2hIK2S-ZiHjv-1}}}%
\nwixlogsorted{c}{{Proper Subgroups}{NWUmZ11-KQsbx-1}{\nwixu{NWUmZ11-1Vve9X-1}\nwixd{NWUmZ11-KQsbx-1}}}%
\nwixlogsorted{c}{{Prove $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$}{NW2llOmu-1dPqXM-1}{\nwixu{NW2llOmu-g56Nl-1}\nwixd{NW2llOmu-1dPqXM-1}}}%
\nwixlogsorted{c}{{Register \code{}bijective\edoc{} for \code{}Endomorphism\edoc{}}{NW3gc01d-6ndaE-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-6ndaE-1}}}%
\nwixlogsorted{c}{{Register \code{}characteristic\edoc{} as attribute for Subgroup}{NW2llOmu-1HIoHq-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-1HIoHq-1}\nwixd{NW2llOmu-1HIoHq-2}}}%
\nwixlogsorted{c}{{Register \code{}inner\edoc{} for \code{}Automorphism\edoc{}}{NW2hIK2S-4IjmGJ-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-4IjmGJ-1}}}%
\nwixlogsorted{c}{{Register \code{}strict\edoc{} \code{}characteristic\edoc{} for Subgroups}{NW2llOmu-2iAFXC-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-2iAFXC-1}}}%
\nwixlogsorted{c}{{Register characteristic subgroups are normal}{NW2llOmu-24pxt5-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-24pxt5-1}}}%
\nwixlogsorted{c}{{Register group theoretic clusters for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-2mrFCy-1}{\nwixu{NW2aknDh-4Kp0yM-1}\nwixd{NW2aknDh-2mrFCy-1}}}%
\nwixlogsorted{c}{{Register number clusters for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-3CpoAk-1}{\nwixu{NW2aknDh-4Kp0yM-1}\nwixd{NW2aknDh-3CpoAk-1}}}%
\nwixlogsorted{c}{{Register set theoretic clusters for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-4BFxVB-1}{\nwixu{NW2aknDh-4Kp0yM-1}\nwixd{NW2aknDh-4BFxVB-1}}}%
\nwixlogsorted{c}{{Register: maximal subgroups are proper}{NWUmZ11-3ZDEGc-1}{\nwixu{NWUmZ11-KQsbx-1}\nwixd{NWUmZ11-3ZDEGc-1}}}%
\nwixlogsorted{c}{{Register: non trivial for Group}{NWUmZ11-47kVo6-1}{\nwixu{NWUmZ11-1xRFQU-1}\nwixd{NWUmZ11-47kVo6-1}}}%
\nwixlogsorted{c}{{Register: non trivial for Subgroup}{NWUmZ11-2RiGxf-1}{\nwixu{NWUmZ11-1xRFQU-1}\nwixd{NWUmZ11-2RiGxf-1}}}%
\nwixlogsorted{c}{{Register: nontrivial for "finite group"}{NWUmZ11-OpWr6-1}{\nwixu{NWUmZ11-1xRFQU-1}\nwixd{NWUmZ11-OpWr6-1}}}%
\nwixlogsorted{c}{{Register: proper subgroup for nontrivial groups}{NWUmZ11-1x35KZ-1}{\nwixu{NWUmZ11-KQsbx-1}\nwixd{NWUmZ11-1x35KZ-1}}}%
\nwixlogsorted{c}{{Register: the identity function is surjective and bijective}{NWUmZ11-1ouPZe-1}{\nwixu{NWUmZ11-2pzjB9-1}\nwixd{NWUmZ11-1ouPZe-1}}}%
\nwixlogsorted{c}{{Register: trivial groups and trivial subgroups}{NWUmZ11-1APuWV-1}{\nwixu{NWUmZ11-1xRFQU-1}\nwixd{NWUmZ11-1APuWV-1}}}%
\nwixlogsorted{c}{{Reserve: $\varphi$ for \code{}Automorphism\edoc{}}{NW3gc01d-1FGfaH-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-1FGfaH-1}}}%
\nwixlogsorted{c}{{Reserve: $f$ for \code{}Endomorphism\edoc{}}{NW3gc01d-18sdY2-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-18sdY2-1}}}%
\nwixlogsorted{c}{{Scheme: $\bigcap\mathcal{F}$ is minimal}{NW1xOoCH-3ty16D-1}{\nwixu{NW1xOoCH-3kq7TJ-1}\nwixd{NW1xOoCH-3ty16D-1}}}%
\nwixlogsorted{c}{{Scheme: $\bigcap\{A\subset G\mid\exists H\subgroup G, A=H, P[H]\}$ is characteristic}{NW2llOmu-5CDvr-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-5CDvr-1}}}%
\nwixlogsorted{c}{{Scheme: $\bigcap\{N\normalSubgroup G\mid P[N]\}\normalSubgroup G$}{NW1xOoCH-1pqJEJ-1}{\nwixu{NW1xOoCH-3kq7TJ-1}\nwixd{NW1xOoCH-1pqJEJ-1}}}%
\nwixlogsorted{c}{{Scheme: if $H\subgroup G\land P[H]$ and $\forall\varphi\in\Aut(G),P[\varphi(H)]$, then $\bigcap\{H\subgroup G\mid P[H]\}$ is $\Aut(G)$-invariant}{NW2llOmu-3pFvE5-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-3pFvE5-1}}}%
\nwixlogsorted{c}{{Set theoretic constructors for \code{}group{\_}22.miz\edoc{}}{NW2aknDh-4OYzVK-1}{\nwixu{NW2aknDh-BOc6W-1}\nwixd{NW2aknDh-4OYzVK-1}}}%
\nwixlogsorted{c}{{Step 1: $\forall\varphi\in\Aut(G)\forall y\in G\forall z\in Z(G), \varphi(z)y = y\varphi(z)$}{NW2llOmu-3ZyLrF-1}{\nwixu{NW2llOmu-1dPqXM-1}\nwixd{NW2llOmu-3ZyLrF-1}}}%
\nwixlogsorted{c}{{Step 1: $g\in\varphi[\varphi^{-1}(H)]\implies g\in H$}{NW3gc01d-47FJLD-1}{\nwixu{NW3gc01d-1ZaFZM-1}\nwixd{NW3gc01d-47FJLD-1}}}%
\nwixlogsorted{c}{{Step 2: $\forall\varphi\in\Aut(G)\forall z\in G, z\in Z(G)\implies \varphi(z)\in Z(G)$}{NW2llOmu-1r6gW0-1}{\nwixu{NW2llOmu-1dPqXM-1}\nwixd{NW2llOmu-1r6gW0-1}}}%
\nwixlogsorted{c}{{Step 2: $g\in\varphi[\varphi^{-1}(H)]\impliedby g\in H$}{NW3gc01d-WRyHP-1}{\nwixu{NW3gc01d-1ZaFZM-1}\nwixd{NW3gc01d-WRyHP-1}}}%
\nwixlogsorted{c}{{Step 3: $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$}{NW2llOmu-10qnyb-1}{\nwixu{NW2llOmu-1dPqXM-1}\nwixd{NW2llOmu-10qnyb-1}}}%
\nwixlogsorted{c}{{Sub-proof: $H\properSubgroup G\impliedby G\setminus H\neq\emptyset$}{NWUmZ11-dfIXQ-1}{\nwixu{NWUmZ11-17X1oO-1}\nwixd{NWUmZ11-dfIXQ-1}}}%
\nwixlogsorted{c}{{Sub-proof: $H\properSubgroup G\implies G\setminus H\neq\emptyset$}{NWUmZ11-4cgubz-1}{\nwixu{NWUmZ11-17X1oO-1}\nwixd{NWUmZ11-4cgubz-1}}}%
\nwixlogsorted{c}{{Sub-proof: characteristic subgroups invariant under conjugation}{NW2llOmu-2mkOw1-1}{\nwixu{NW2llOmu-xos9m-1}\nwixd{NW2llOmu-2mkOw1-1}}}%
\nwixlogsorted{c}{{Sub-step 1: $a\in\varphi^{-1}(H)$}{NW3gc01d-3vZPH1-1}{\nwixu{NW3gc01d-WRyHP-1}\nwixd{NW3gc01d-3vZPH1-1}}}%
\nwixlogsorted{c}{{Sub-step 2: $b\in\varphi[\varphi^{-1}(H)]$}{NW3gc01d-2IWBBW-1}{\nwixu{NW3gc01d-WRyHP-1}\nwixd{NW3gc01d-2IWBBW-1}}}%
\nwixlogsorted{c}{{Sub-step 3.1: $\forall w\in G,w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$}{NW2llOmu-2KjPoO-1}{\nwixu{NW2llOmu-10qnyb-1}\nwixd{NW2llOmu-2KjPoO-1}}}%
\nwixlogsorted{c}{{Sub-step 3: $g\in\varphi[\varphi^{-1}(H)]$}{NW3gc01d-kMqjk-1}{\nwixu{NW3gc01d-WRyHP-1}\nwixd{NW3gc01d-kMqjk-1}}}%
\nwixlogsorted{c}{{TEXT/group-22.miz}{NW2U3g6J-KmSke-1}{\nwixd{NW2U3g6J-KmSke-1}}}%
\nwixlogsorted{c}{{Theorem: $(\forall\varphi\in\Aut(G),\varphi(H)\subgroup H)\implies\varphi[\varphi^{-1}(H)]\subgroup \varphi(H)$}{NW3gc01d-g7029-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-g7029-1}}}%
\nwixlogsorted{c}{{Theorem: $\forall a,b,c\in\NN, c\neq0\land c|a\land c|b\implies a|b$}{NW430QVE-2glx4T-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-2glx4T-1}}}%
\nwixlogsorted{c}{{Theorem: $\forall h\in H,\varphi(h)\in H$ implies $\varphi(H)\subgroup H$}{NW2llOmu-3M3ox1-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-3M3ox1-1}}}%
\nwixlogsorted{c}{{Theorem: $\forall h\in H,n\in N_{G}(H), n^{-1}hn\in H$}{NW430QVE-v2ec6-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-v2ec6-1}}}%
\nwixlogsorted{c}{{Theorem: $\forall H\subgroup G, H\subgroup N_{G}(H)$}{NW430QVE-40hsCt-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-40hsCt-1}}}%
\nwixlogsorted{c}{{Theorem: $\forall\varphi\in G,\varphi(\Commutators(G))=\Commutators(G)$}{NW2llOmu-1BwBWL-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-1BwBWL-1}}}%
\nwixlogsorted{c}{{Theorem: $\forall\varphi\in\Aut(G), \varphi[\varphi^{-1}(H)]=H$}{NW3gc01d-xUcSR-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-xUcSR-1}}}%
\nwixlogsorted{c}{{Theorem: $\FrattiniSubgroup(G)$ is characteristic}{NW2llOmu-1wEepZ-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-1wEepZ-1}}}%
\nwixlogsorted{c}{{Theorem: $\varphi(H)\subgroup K\implies H\subgroup\varphi^{-1}(K)$}{NW3gc01d-zRHLm-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-zRHLm-1}}}%
\nwixlogsorted{c}{{Theorem: $\varphi\in\Aut(G)$ and $H\properSubgroup G$ implies $\varphi(H)\properSubgroup G$}{NW3gc01d-39h8sj-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-39h8sj-1}}}%
\nwixlogsorted{c}{{Theorem: $\varphi\in\Aut(G)$ and $H\subgroup G$ such that $\varphi(H)=H$ implies $\varphi|H\in\Aut(H)$}{NW3gc01d-1QHEJY-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-1QHEJY-1}}}%
\nwixlogsorted{c}{{Theorem: $\varphi\in\Aut(G)$, $\varphi(N)=N$, $\exists\sigma\in\Aut(G/N),\sigma(xN)=\varphi(x)N$}{NW430QVE-1SL1oX-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1SL1oX-1}}}%
\nwixlogsorted{c}{{Theorem: $\{x\}=\{y\}\iff x=y$}{NW430QVE-4FQduE-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-4FQduE-1}}}%
\nwixlogsorted{c}{{Theorem: $a,b,c\in\NN, b|c\land\gcd(ab,c)=1\implies b=1$}{NW430QVE-2iwTOx-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-2iwTOx-1}}}%
\nwixlogsorted{c}{{Theorem: $A\subset B\subset G\implies C_{G}(B)\subgroup C_{G}(A)$}{NW430QVE-3rg69a-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-3rg69a-1}}}%
\nwixlogsorted{c}{{Theorem: $A\subset G$ and $g\in G$, have $g\in C_{G}(A)\iff(\forall a\in A, ga=ag)$}{NW430QVE-3oR9h1-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-3oR9h1-1}}}%
\nwixlogsorted{c}{{Theorem: $A\subset G$ s.t. $\forall\varphi\in\Aut(G),\varphi(A)=A$, then $\langle A\rangle$ is characteristic}{NW2llOmu-3lDAoY-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-3lDAoY-1}}}%
\nwixlogsorted{c}{{Theorem: $A\subset G$, $C_{G}(A) = \bigcap_{a\in A}N_{G}(a)$}{NW430QVE-20pkyx-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-20pkyx-1}}}%
\nwixlogsorted{c}{{Theorem: $A\subset G\implies A\subset C_{G}(C_{G}(A))$}{NW430QVE-1nMINk-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1nMINk-1}}}%
\nwixlogsorted{c}{{Theorem: $C_{G}(G)=Z(G)$}{NW430QVE-WnnkI-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-WnnkI-1}}}%
\nwixlogsorted{c}{{Theorem: $C_{G}(H)\normalSubgroup N_{G}(H)$}{NW430QVE-3FkwqH-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-3FkwqH-1}}}%
\nwixlogsorted{c}{{Theorem: $f$ in \code{}InnAut\ G\edoc{} iff $f$ is \code{}inner\ Automorphism\ of\ G\edoc{}}{NW2hIK2S-2gUxot-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-2gUxot-1}}}%
\nwixlogsorted{c}{{Theorem: $f\colon X\into Y$ and $x\notin A\subset X$ implies $f(x)\notin f(A)$}{NWUmZ11-17dzpg-1}{\nwixu{NWUmZ11-2pzjB9-1}\nwixd{NWUmZ11-17dzpg-1}}}%
\nwixlogsorted{c}{{Theorem: $f_{2}(f_{1}(A))=(f_{2}\circ f_{1})(A)$ for group morphisms}{NW430QVE-2e3eIH-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-2e3eIH-1}}}%
\nwixlogsorted{c}{{Theorem: $G_{1}/N_{1}\iso G_{2}/N_{2}\implies |N_{2}|\cdot|G_{1}|=|N_{1}|\cdot|G_{2}|$}{NW430QVE-1zJb4f-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1zJb4f-1}}}%
\nwixlogsorted{c}{{Theorem: $H$ char $G$ and $H\subgroup K\subgroup G$, then $H\normalSubgroup K$}{NW430QVE-1JPGDx-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1JPGDx-1}}}%
\nwixlogsorted{c}{{Theorem: $H,K\subgroup G$ characteristic implies $[H,K]$ is characteristic}{NW2llOmu-E9Ys0-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-E9Ys0-1}}}%
\nwixlogsorted{c}{{Theorem: $H,K\subgroup G$ characteristic implies $\langle H, K\rangle$ is characteristic}{NW2llOmu-2FHlHr-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-2FHlHr-1}}}%
\nwixlogsorted{c}{{Theorem: $H,K\subgroup G$ characteristic implies $H\cap K$ characteristic}{NW2llOmu-ycPYy-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-ycPYy-1}}}%
\nwixlogsorted{c}{{Theorem: $H,K\subgroup G$ characteristic implies ${\rm Commutators}(H,K)$ is stable}{NW2llOmu-41VHSD-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-41VHSD-1}}}%
\nwixlogsorted{c}{{Theorem: $h\in N_{G}(a)\iff a^{h}=a$}{NW430QVE-1R1gyw-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1R1gyw-1}}}%
\nwixlogsorted{c}{{Theorem: $H\properSubgroup K\subgroup G$ and $H\neq K$ implies $K$ is nontrivial}{NWUmZ11-2DotbH-1}{\nwixu{NWUmZ11-KQsbx-1}\nwixd{NWUmZ11-2DotbH-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$ characteristic $\iff\forall\varphi\in\Aut(G)\forall x\in H,\varphi(x)\in H$}{NW2llOmu-2u8tjJ-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-2u8tjJ-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$ is characteristic iff $\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$}{NW2llOmu-4Z20G4-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-4Z20G4-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$ is proper iff $G\setminus H\neq\emptyset$}{NWUmZ11-17X1oO-1}{\nwixu{NWUmZ11-KQsbx-1}\nwixd{NWUmZ11-17X1oO-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$ is proper iff the underlying sets are different}{NWUmZ11-3PEt35-1}{\nwixu{NWUmZ11-KQsbx-1}\nwixd{NWUmZ11-3PEt35-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$, $H$ is trivial implies $H=\trivialSubgroup_{G}$}{NWUmZ11-3Oqgqd-1}{\nwixu{NWUmZ11-1xRFQU-1}\nwixd{NWUmZ11-3Oqgqd-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$, $H\subgroup C_{G}(H)\iff$ $H$ is commutative}{NW430QVE-1WaraY-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1WaraY-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G, a\in G$, $\varphi(aH)=\varphi(a)\varphi(H)$}{NW2llOmu-TIqNK-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-TIqNK-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G, a\in G$, $\varphi(Ha)=\varphi(H)\varphi(a)$}{NW2llOmu-4LQhDT-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-4LQhDT-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup K$ and $K\subgroup G$, then $K=\trivialSubgroup\implies H=\trivialSubgroup$}{NWUmZ11-A6DSQ-1}{\nwixu{NWUmZ11-1xRFQU-1}\nwixd{NWUmZ11-A6DSQ-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup K\subgroup G$, $H$ char $G$, $K/H$ char $G/H$ implies $K$ is characteristic}{NW430QVE-20SEtU-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-20SEtU-1}}}%
\nwixlogsorted{c}{{Theorem: $H_{1}\subgroup H_{2}\subgroup G$ and $a\in G$ implies ${H_{1}}^{a}\subgroup {H_{2}}^{a}$}{NW1xOoCH-2LUja1-1}{\nwixu{NW1xOoCH-3kq7TJ-1}\nwixd{NW1xOoCH-2LUja1-1}}}%
\nwixlogsorted{c}{{Theorem: $K,N\normalSubgroup G\implies |KN|\cdot|K\cap N|=|K|\cdot|N|$}{NW430QVE-2r8YQx-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-2r8YQx-1}}}%
\nwixlogsorted{c}{{Theorem: $N\normalSubgroup G$ with $|N|$ and $[G:N]$ coprime implies $N$ is characteristic}{NW430QVE-1ShwoU-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1ShwoU-1}}}%
\nwixlogsorted{c}{{Theorem: $N\normalSubgroup G$, $\varphi\in\Aut(G)$ implies $\varphi(N)\normalSubgroup G$}{NW2llOmu-17HxJc-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-17HxJc-1}}}%
\nwixlogsorted{c}{{Theorem: $N\normalSubgroup G\implies C_{G}(H)\normalSubgroup G$}{NW430QVE-36sPMb-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-36sPMb-1}}}%
\nwixlogsorted{c}{{Theorem: $Z(G)$ is characteristic subgroup}{NW2llOmu-g56Nl-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-g56Nl-1}}}%
\nwixlogsorted{c}{{Theorem: $|H_{1}\cap H_{2}|=|H_{1}|=|H_{2}|\implies H_{1}=H_{2}$}{NW430QVE-1Is6lQ-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-1Is6lQ-1}}}%
\nwixlogsorted{c}{{Theorem: \code{}id\ G\edoc{} is effectively inner}{NW2hIK2S-4YoKSm-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-4YoKSm-1}}}%
\nwixlogsorted{c}{{Theorem: Automorphisms map maximal subgroups to maximal subgroups}{NW3gc01d-39Q49p-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-39Q49p-1}}}%
\nwixlogsorted{c}{{Theorem: Automorphisms map trivial subgroups to themselves}{NW3gc01d-49bqr6-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-49bqr6-1}}}%
\nwixlogsorted{c}{{Theorem: carrier of $C_{G}(H) = \{b\in G\mid\forall a\in H, ba=ab\}$}{NW430QVE-3SA8xa-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-3SA8xa-1}}}%
\nwixlogsorted{c}{{Theorem: Centralizer of characteristic subgroups is characteristic}{NW430QVE-H5LVi-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-H5LVi-1}}}%
\nwixlogsorted{c}{{Theorem: characteristic subgroup of a normal subgroup is normal}{NW2llOmu-4WQdGY-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-4WQdGY-1}}}%
\nwixlogsorted{c}{{Theorem: characteristic subgroups are normal}{NW2llOmu-xos9m-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-xos9m-1}}}%
\nwixlogsorted{c}{{Theorem: Conjugation by fixed element is an automorphism}{NW2hIK2S-VBRVv-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-VBRVv-1}}}%
\nwixlogsorted{c}{{Theorem: constructing inner automorphisms from group elements}{NW2hIK2S-arh13-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-arh13-1}}}%
\nwixlogsorted{c}{{Theorem: Endomorphisms preserve the trivial subgroup}{NW3gc01d-3pJfHu-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-3pJfHu-1}}}%
\nwixlogsorted{c}{{Theorem: Existence of characteristic subgroups}{NW2llOmu-3KEBxf-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-3KEBxf-1}}}%
\nwixlogsorted{c}{{Theorem: for $\varphi\in\Aut(G)$ and $H\subgroup G$, we have $\ker(\varphi|H)\subgroup\ker(\varphi)$}{NW3gc01d-2Q8R0t-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-2Q8R0t-1}}}%
\nwixlogsorted{c}{{Theorem: for $H\subgroup G$ and $K\subgroup G$ both trivial, $H=K$}{NWUmZ11-4EQBnP-1}{\nwixu{NWUmZ11-1xRFQU-1}\nwixd{NWUmZ11-4EQBnP-1}}}%
\nwixlogsorted{c}{{Theorem: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have $H\iso\varphi(H)$}{NW3gc01d-3WScXE-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-3WScXE-1}}}%
\nwixlogsorted{c}{{Theorem: if $f$ is bijective, then $(f^{-1})^{-1}=f$}{NWUmZ11-l92FA-1}{\nwixu{NWUmZ11-2pzjB9-1}\nwixd{NWUmZ11-l92FA-1}}}%
\nwixlogsorted{c}{{Theorem: if $f\colon X\to Y$ is bijective, then $f\circ f^{-1}=\id_{Y}$}{NWUmZ11-1Brdpy-1}{\nwixu{NWUmZ11-2pzjB9-1}\nwixd{NWUmZ11-1Brdpy-1}}}%
\nwixlogsorted{c}{{Theorem: inner automorphism acting on subgroup is conjugate of argument}{NW2hIK2S-2zspfg-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-2zspfg-1}}}%
\nwixlogsorted{c}{{Theorem: inner Automorphisms fix only normal Subgroups}{NW2hIK2S-4Qqcti-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-4Qqcti-1}}}%
\nwixlogsorted{c}{{Theorem: isomorphic subgroups have equal indices}{NW3gc01d-2VpvPR-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-2VpvPR-1}}}%
\nwixlogsorted{c}{{Theorem: Kernel of conjugation as endomorphism}{NW2hIK2S-3fLhao-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-3fLhao-1}}}%
\nwixlogsorted{c}{{Theorem: Let $g\in G$. Then $g\in C_{G}(H)\iff\forall h\in H,gh=hg$}{NW430QVE-3TgHH7-1}{\nwixu{NW430QVE-2Y3Nao-1}\nwixd{NW430QVE-3TgHH7-1}}}%
\nwixlogsorted{c}{{Theorem: Meet of family of normal subgroups is normal}{NW1xOoCH-35XaBG-1}{\nwixu{NW1xOoCH-3kq7TJ-1}\nwixd{NW1xOoCH-35XaBG-1}}}%
\nwixlogsorted{c}{{Theorem: Relate \code{}Automorphism\ of\ G\edoc{} to elements of \code{}Aut\ G\edoc{}}{NW2hIK2S-2VuNZX-1}{\nwixu{NW2hIK2S-UGF1u-1}\nwixd{NW2hIK2S-2VuNZX-1}}}%
\nwixlogsorted{c}{{Theorem: restriction of group morphism acts on elements like the original}{NWUmZ11-32pfqx-1}{\nwixu{NWUmZ11-2pzjB9-1}\nwixd{NWUmZ11-32pfqx-1}}}%
\nwixlogsorted{c}{{Theorem: Subgroups invariant under conjugation are normal}{NWUmZ11-4Nsdji-1}{\nwixu{NWUmZ11-2pzjB9-1}\nwixd{NWUmZ11-4Nsdji-1}}}%
\nwixlogsorted{c}{{Theorem: Sylow $p$-Subgroups invariant under $\Aut(G)$}{NW3gc01d-3PWeZI-1}{\nwixu{NW3gc01d-1CMOm-1}\nwixd{NW3gc01d-3PWeZI-1}}}%
\nwixlogsorted{c}{{Theorem: The derived subgroup is characteristic}{NW2llOmu-44iz0d-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-44iz0d-1}}}%
\nwixlogsorted{c}{{Theorem: transitivity of characteristic subgroups}{NW2llOmu-2ur0LT-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-2ur0LT-1}}}%
\nwixlogsorted{c}{{Theorem: trivial groups look like $\trivialSubgroup$}{NWUmZ11-2jhymB-1}{\nwixu{NWUmZ11-1xRFQU-1}\nwixd{NWUmZ11-2jhymB-1}}}%
\nwixlogsorted{c}{{Theorem: two group morphisms which coincide on subgroup have the same image}{NW2llOmu-2MyoVP-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-2MyoVP-1}}}%
\nwixlogsorted{c}{{Theorem: unique subgroup of order $n$ is \code{}characteristic\edoc{}}{NW2llOmu-3r3l0M-1}{\nwixu{NW2llOmu-3NltVm-1}\nwixd{NW2llOmu-3r3l0M-1}}}%
\nwixlogsorted{i}{{\nwixident{Automorphism}}{Automorphism}}%
\nwixlogsorted{i}{{\nwixident{Centralizer}}{Centralizer}}%
\nwixlogsorted{i}{{\nwixident{characteristic}}{characteristic}}%
\nwixlogsorted{i}{{\nwixident{CharMeet}}{CharMeet}}%
\nwixlogsorted{i}{{\nwixident{Def10}}{Def10}}%
\nwixlogsorted{i}{{\nwixident{Def2}}{Def2}}%
\nwixlogsorted{i}{{\nwixident{Def3}}{Def3}}%
\nwixlogsorted{i}{{\nwixident{Def4}}{Def4}}%
\nwixlogsorted{i}{{\nwixident{Def5}}{Def5}}%
\nwixlogsorted{i}{{\nwixident{Endomorphism}}{Endomorphism}}%
\nwixlogsorted{i}{{\nwixident{inner}}{inner}}%
\nwixlogsorted{i}{{\nwixident{Lm1}}{Lm1}}%
\nwixlogsorted{i}{{\nwixident{Lm2}}{Lm2}}%
\nwixlogsorted{i}{{\nwixident{Lm3}}{Lm3}}%
\nwixlogsorted{i}{{\nwixident{Lm6}}{Lm6}}%
\nwixlogsorted{i}{{\nwixident{Lm7}}{Lm7}}%
\nwixlogsorted{i}{{\nwixident{Lm8}}{Lm8}}%
\nwixlogsorted{i}{{\nwixident{LmFiniteNontrivial}}{LmFiniteNontrivial}}%
\nwixlogsorted{i}{{\nwixident{MeetIsChar}}{MeetIsChar}}%
\nwixlogsorted{i}{{\nwixident{MeetIsMinimal}}{MeetIsMinimal}}%
\nwixlogsorted{i}{{\nwixident{MeetOfNormsIsNormal}}{MeetOfNormsIsNormal}}%
\nwixlogsorted{i}{{\nwixident{outer}}{outer}}%
\nwixlogsorted{i}{{\nwixident{proper}}{proper}}%
\nwixlogsorted{i}{{\nwixident{Th1}}{Th1}}%
\nwixlogsorted{i}{{\nwixident{Th10}}{Th10}}%
\nwixlogsorted{i}{{\nwixident{Th11}}{Th11}}%
\nwixlogsorted{i}{{\nwixident{Th12}}{Th12}}%
\nwixlogsorted{i}{{\nwixident{Th13}}{Th13}}%
\nwixlogsorted{i}{{\nwixident{Th14}}{Th14}}%
\nwixlogsorted{i}{{\nwixident{Th15}}{Th15}}%
\nwixlogsorted{i}{{\nwixident{Th16}}{Th16}}%
\nwixlogsorted{i}{{\nwixident{Th17}}{Th17}}%
\nwixlogsorted{i}{{\nwixident{Th18}}{Th18}}%
\nwixlogsorted{i}{{\nwixident{Th19}}{Th19}}%
\nwixlogsorted{i}{{\nwixident{Th2}}{Th2}}%
\nwixlogsorted{i}{{\nwixident{Th20}}{Th20}}%
\nwixlogsorted{i}{{\nwixident{Th21}}{Th21}}%
\nwixlogsorted{i}{{\nwixident{Th22}}{Th22}}%
\nwixlogsorted{i}{{\nwixident{Th23}}{Th23}}%
\nwixlogsorted{i}{{\nwixident{Th24}}{Th24}}%
\nwixlogsorted{i}{{\nwixident{Th25}}{Th25}}%
\nwixlogsorted{i}{{\nwixident{Th26}}{Th26}}%
\nwixlogsorted{i}{{\nwixident{Th27}}{Th27}}%
\nwixlogsorted{i}{{\nwixident{Th28}}{Th28}}%
\nwixlogsorted{i}{{\nwixident{Th29}}{Th29}}%
\nwixlogsorted{i}{{\nwixident{Th3}}{Th3}}%
\nwixlogsorted{i}{{\nwixident{Th30}}{Th30}}%
\nwixlogsorted{i}{{\nwixident{Th31}}{Th31}}%
\nwixlogsorted{i}{{\nwixident{Th32}}{Th32}}%
\nwixlogsorted{i}{{\nwixident{Th33}}{Th33}}%
\nwixlogsorted{i}{{\nwixident{Th34}}{Th34}}%
\nwixlogsorted{i}{{\nwixident{Th35}}{Th35}}%
\nwixlogsorted{i}{{\nwixident{Th36}}{Th36}}%
\nwixlogsorted{i}{{\nwixident{Th37}}{Th37}}%
\nwixlogsorted{i}{{\nwixident{Th38}}{Th38}}%
\nwixlogsorted{i}{{\nwixident{Th39}}{Th39}}%
\nwixlogsorted{i}{{\nwixident{Th4}}{Th4}}%
\nwixlogsorted{i}{{\nwixident{Th40}}{Th40}}%
\nwixlogsorted{i}{{\nwixident{Th41}}{Th41}}%
\nwixlogsorted{i}{{\nwixident{Th42}}{Th42}}%
\nwixlogsorted{i}{{\nwixident{Th43}}{Th43}}%
\nwixlogsorted{i}{{\nwixident{Th44}}{Th44}}%
\nwixlogsorted{i}{{\nwixident{Th45}}{Th45}}%
\nwixlogsorted{i}{{\nwixident{Th46}}{Th46}}%
\nwixlogsorted{i}{{\nwixident{Th47}}{Th47}}%
\nwixlogsorted{i}{{\nwixident{Th48}}{Th48}}%
\nwixlogsorted{i}{{\nwixident{Th49}}{Th49}}%
\nwixlogsorted{i}{{\nwixident{Th5}}{Th5}}%
\nwixlogsorted{i}{{\nwixident{Th50}}{Th50}}%
\nwixlogsorted{i}{{\nwixident{Th51}}{Th51}}%
\nwixlogsorted{i}{{\nwixident{Th52}}{Th52}}%
\nwixlogsorted{i}{{\nwixident{Th53}}{Th53}}%
\nwixlogsorted{i}{{\nwixident{Th54}}{Th54}}%
\nwixlogsorted{i}{{\nwixident{Th55}}{Th55}}%
\nwixlogsorted{i}{{\nwixident{Th56}}{Th56}}%
\nwixlogsorted{i}{{\nwixident{Th57}}{Th57}}%
\nwixlogsorted{i}{{\nwixident{Th58}}{Th58}}%
\nwixlogsorted{i}{{\nwixident{Th59}}{Th59}}%
\nwixlogsorted{i}{{\nwixident{Th6}}{Th6}}%
\nwixlogsorted{i}{{\nwixident{Th60}}{Th60}}%
\nwixlogsorted{i}{{\nwixident{Th61}}{Th61}}%
\nwixlogsorted{i}{{\nwixident{Th62}}{Th62}}%
\nwixlogsorted{i}{{\nwixident{Th63}}{Th63}}%
\nwixlogsorted{i}{{\nwixident{Th64}}{Th64}}%
\nwixlogsorted{i}{{\nwixident{Th65}}{Th65}}%
\nwixlogsorted{i}{{\nwixident{Th66}}{Th66}}%
\nwixlogsorted{i}{{\nwixident{Th67}}{Th67}}%
\nwixlogsorted{i}{{\nwixident{Th68}}{Th68}}%
\nwixlogsorted{i}{{\nwixident{Th69}}{Th69}}%
\nwixlogsorted{i}{{\nwixident{Th7}}{Th7}}%
\nwixlogsorted{i}{{\nwixident{Th70}}{Th70}}%
\nwixlogsorted{i}{{\nwixident{Th71}}{Th71}}%
\nwixlogsorted{i}{{\nwixident{Th72}}{Th72}}%
\nwixlogsorted{i}{{\nwixident{Th73}}{Th73}}%
\nwixlogsorted{i}{{\nwixident{Th74}}{Th74}}%
\nwixlogsorted{i}{{\nwixident{Th75}}{Th75}}%
\nwixlogsorted{i}{{\nwixident{Th76}}{Th76}}%
\nwixlogsorted{i}{{\nwixident{Th77}}{Th77}}%
\nwixlogsorted{i}{{\nwixident{Th78}}{Th78}}%
\nwixlogsorted{i}{{\nwixident{Th79}}{Th79}}%
\nwixlogsorted{i}{{\nwixident{Th8}}{Th8}}%
\nwixlogsorted{i}{{\nwixident{Th80}}{Th80}}%
\nwixlogsorted{i}{{\nwixident{Th81}}{Th81}}%
\nwixlogsorted{i}{{\nwixident{Th9}}{Th9}}%
\nwixlogsorted{i}{{\nwixident{trivial}}{trivial}}%

