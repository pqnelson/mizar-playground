% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-% ===> this file was generated automatically by noweave --- better not edit it
\chapter{Characteristic Subgroups}

We will begin with formalizing results concerning characteristic
subgroups. In section 1 we will briefly discuss the environment part of
a Mizar article. In section 2 we will formalize preliminary material,
including trivial subgroups and proper subgroups. In section 3, we
formalize automorphisms and inner automorphisms. In section 4, we
formalize the notion of a characteristic subgroup, prove the center
subgroup is characteristic, among other results.

\subsection*{Mizar Article}
We call a Mizar file/script an ``article''. While developing a Mizar
article, the main body is stored in a {\Tt{}TEXT/\nwendquote} subdirectory. As I
understand it, the casing of the directory matters (because there are
DOS computers which have case-sensitive file systems\dots or something).
Every Mizar article looks like:

\nwfilename{nw/characteristic.nw}\nwbegincode{1}\sublabel{NWoaARJ-2sCaVS-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWoaARJ-2sCaVS-1}}}\moddef{TEXT/char.miz~{\nwtagstyle{}\subpageref{NWoaARJ-2sCaVS-1}}}\endmoddef\nwstartdeflinemarkup\nwenddeflinemarkup
\LA{}License~{\nwtagstyle{}\subpageref{NWoaARJ-1lOApn-1}}\RA{}

\LA{}Environment for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-3ZQoFX-1}}\RA{}

\LA{}\code{}char.miz\edoc{} article body~{\nwtagstyle{}\subpageref{NW18nMBU-2TX9wk-1}}\RA{}
\nwnotused{TEXT/char.miz}\nwendcode{}\nwbegindocs{2}\nwdocspar

\bigskip
\index{Vocabulary!File|(}
\subsection*{Vocabulary File}
Each Mizar article has an associated ``vocabulary file'' which lists the
\emph{new} terms introduced. It's stored in a {\Tt{}DICT/\nwendquote}\index{Dict@\texttt{DICT/}}
subdirectory. Terms are prefixed with the following:
\begin{itemize}
\item\index{R@\texttt{R}|see{Vocabulary, File}} {\Tt{}R\nwendquote} for predicate (like {\Tt{}Rare{\_}isomorphic\nwendquote} for a new predicate {\Tt{}are{\_}isomorphic\nwendquote})
\item\index{O@\texttt{O}|see{Vocabulary, File}} {\Tt{}O\nwendquote} for functor (e.g., {\Tt{}Oid\nwendquote} for {\Tt{}id\nwendquote})
\item\index{M@\texttt{M}|see{Vocabulary, File}} {\Tt{}M\nwendquote} for mode (e.g., {\Tt{}MSubgroup\nwendquote} for {\Tt{}Subgroup\nwendquote})
\item\index{G@\texttt{G}|see{Vocabulary, File}} {\Tt{}G\nwendquote} for structure (e.g., {\Tt{}GmultLoopStr{\_}0\nwendquote} for {\Tt{}multLoopStr{\_}0\nwendquote})
\item\index{U@\texttt{U}|see{Vocabulary, File}} {\Tt{}U\nwendquote} for selectors (e.g., {\Tt{}Ucarrier\nwendquote} in {\Tt{}STRUCT{\_}0\nwendquote} gives us a
  way to write {\Tt{}the\ carrier\ of\ X\nwendquote})
\item\index{V@\texttt{V}|see{Vocabulary, File}} {\Tt{}V\nwendquote} for attributes (so {\Tt{}Vcharacteristic\nwendquote} is a new attribute ``characteristic'')
\item\index{K@\texttt{K}|see{Vocabulary, File}} {\Tt{}K\nwendquote} for left functor brackets (like \verb#[:# in {\Tt{}ZFMISC{\_}1\nwendquote})
\item\index{L@\texttt{L}|see{Vocabulary, File}} {\Tt{}L\nwendquote} for right functor brackets (like the corresponding \verb#:]#
  in {\Tt{}ZFMISC{\_}1\nwendquote})
\end{itemize}
\index{Vocabulary!File|)}

Right now, we have just started, so we need an empty vocabulary file:

\nwenddocs{}\nwbegincode{3}\sublabel{NWoaARJ-4FyAEL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWoaARJ-4FyAEL-1}}}\moddef{DICT/CHAR.VOC~{\nwtagstyle{}\subpageref{NWoaARJ-4FyAEL-1}}}\endmoddef\nwstartdeflinemarkup\nwprevnextdefs{\relax}{NW3Mfp8C-4FyAEL-1}\nwenddeflinemarkup

\nwalsodefined{\\{NW3Mfp8C-4FyAEL-1}\\{NW47t2dy-4FyAEL-1}\\{NW47t2dy-4FyAEL-2}}\nwnotused{DICT/CHAR.VOC}\nwendcode{}\nwbegindocs{4}\nwdocspar

\subsection*{License}
The license for the MML seems to be the same for each article, I will
just copy it over.

\nwenddocs{}\nwbegincode{5}\sublabel{NWoaARJ-1lOApn-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWoaARJ-1lOApn-1}}}\moddef{License~{\nwtagstyle{}\subpageref{NWoaARJ-1lOApn-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWoaARJ-2sCaVS-1}}\nwenddeflinemarkup
:: Characteristic Subgroups.
::  by Alex Nelson
::
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

\nwused{\\{NWoaARJ-2sCaVS-1}}\nwendcode{}\nwbegindocs{6}\nwdocspar
\nwenddocs{}\nwfilename{nw/characteristic/environ.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\section{Environment}

% TODO: notation remove

%\M
The header, or ``environment part'', tells Mizar what mathematics needs
to be imported from existing Mizar articles found in the MML. The idea
is we can define new terms [``functors''], new predicates, or new types
[``modes''], but we have to specify which articles we want to use for
their definitions, results, and notations.

This is complicated and kind of a distraction. The reader can skip ahead
to where we start proving theorems and defining concepts in
\S\ref{sec:characteristic:preparatory:start}.

\nwenddocs{}\nwbegincode{1}\sublabel{NW4bbsBH-3ZQoFX-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-3ZQoFX-1}}}\moddef{Environment for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-3ZQoFX-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWoaARJ-2sCaVS-1}}\nwenddeflinemarkup
environ

 \LA{}\code{}char.miz\edoc{} vocabularies~{\nwtagstyle{}\subpageref{NW4bbsBH-3Tf8w1-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} constructors~{\nwtagstyle{}\subpageref{NW4bbsBH-45oKpZ-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} notations~{\nwtagstyle{}\subpageref{NW4bbsBH-40mYXi-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} registrations~{\nwtagstyle{}\subpageref{NW4bbsBH-PI8yt-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} requirements~{\nwtagstyle{}\subpageref{NW4bbsBH-4BdAzJ-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} definitions~{\nwtagstyle{}\subpageref{NW4bbsBH-25lITS-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} equalities~{\nwtagstyle{}\subpageref{NW4bbsBH-1aojze-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} expansions~{\nwtagstyle{}\subpageref{NW4bbsBH-aWL85-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} theorems~{\nwtagstyle{}\subpageref{NW4bbsBH-1CXYUa-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} schemes~{\nwtagstyle{}\subpageref{NW4bbsBH-21wWTp-1}}\RA{};
\nwused{\\{NWoaARJ-2sCaVS-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{remark}
In practice, we often just copy/paste the {\Tt{}environ\nwendquote} of an article
proving results about similar topics. This is probably the easiest way
to get started, but it leaves one wondering what exactly this elaborate
section \emph{does} in Mizar.
\end{remark}

\subsection{Vocabularies, Notations, Constructors}

\subsubsection{Vocabularies}\label{par:characteristic:vocabularies}
The {\Tt{}vocabularies\nwendquote} refers to the identifiers defined. As I understand
it, Mizar is actually using the {\Tt{}vocabularies\nwendquote} for the user to add new
tokens to the language. Then Mizar will parse the file and treat
user-defined terms \emph{as} terms. The meaning associated to them will
be spelled out in the other parts of the {\Tt{}environ\nwendquote}.

For example, {\Tt{}Isomorphism\nwendquote} may be found in {\Tt{}RING{\_}3\nwendquote}. If I wanted to
define an {\Tt{}Isomorphism\nwendquote} of groups, then I must use {\Tt{}Isomorphism\nwendquote} as
a token. Thus I would need to add {\Tt{}RING{\_}3\nwendquote} to the vocabularies list.
(Earlier versions of this text made me think this was a good idea, but
it turned out to be a huge distraction.)

Similarly, {\Tt{}MOD{\_}4\nwendquote} introduces the tokens {\Tt{}\nwlinkedidentq{Endomorphism}{NW1Nnu7l-1U3x3j-1}\nwendquote} and
{\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-2qSYW4-1}\nwendquote}, which I want to use, so I add them, too.

\nwenddocs{}\nwbegincode{3}\sublabel{NW4bbsBH-3Tf8w1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-3Tf8w1-1}}}\moddef{\code{}char.miz\edoc{} vocabularies~{\nwtagstyle{}\subpageref{NW4bbsBH-3Tf8w1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
vocabularies MOD_4, CHAR, CARD_3,
  \LA{}Functions and subset tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-1ATTd1-1}}\RA{},
  \LA{}Group and subgroups tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-5jMsk-1}}\RA{},
  \LA{}Group conjugation and normal subgroups tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-40Iyod-1}}\RA{}
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{4}\nwdocspar

\begin{remark}[VOC file]\index{Voc File@\texttt{.VOC} File}
For our article, we will need to define new tokens. They are placed in
{\Tt{}./DICT/CHAR.VOC\nwendquote} (relative to whatever directory we have made our
Mizar workstation). As we introduce new terms, we will check if it
exists already in Mizar by running ``{\Tt{}findvoc\ -w\ "term"\nwendquote}''.\index{Findvoc@\texttt{findvoc}} If Mizar
is unfamiliar with the term, then nothing will be reported, and we will
have to add it to our {\Tt{}VOC\nwendquote} file. Otherwise, if {\Tt{}term\nwendquote} is introduced
in another article, we add it to our {\Tt{}vocabularies\nwendquote} environ directive.
\end{remark}

We need to recognize the tokens found in rudimentary set theory, so we
begin with importing the usual suspects. For {\Tt{}bijective\nwendquote} and {\Tt{}onto\nwendquote},
we need {\Tt{}FUNCT{\_}2\nwendquote}. We will also be proving properties concerning the
cardinality of subgroups, so we load {\Tt{}CARD{\_}1\nwendquote}.

We'll also make use of the fact that the real numbers form a group, and
some basics of arithmetic (the {\Tt{}ARYTM{\_}\nwendquote} supply us with what we need).

For proving the Frattini subgroup is characteristic, we need to use
{\Tt{}meet\nwendquote} from {\Tt{}SETFAM{\_}1\nwendquote}.

For finite cyclic groups, we need {\Tt{}ORDINAL1\nwendquote} since the underlying set
of $\cyclicGroup{n}$ is the ordinal $n$.

\nwenddocs{}\nwbegincode{5}\sublabel{NW4bbsBH-1ATTd1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1ATTd1-1}}}\moddef{Functions and subset tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-1ATTd1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3Tf8w1-1}}\nwenddeflinemarkup
RELAT_1, TARSKI, FUNCT_1, ZFMISC_1, XXREAL_1, FINSEQ_1,
FINSET_1, NUMBERS, WELLORD1, SUBSET_1, XBOOLE_0, PARTFUN1,
FUNCT_2, CARD_1, ARYTM_3, CQC_SIM1, ORDINAL1
\nwused{\\{NW4bbsBH-3Tf8w1-1}}\nwendcode{}\nwbegindocs{6}\nwdocspar

%\M
Characteristic subgroups requires recognizing tokens about\dots groups,
and subgroups.

\nwenddocs{}\nwbegincode{7}\sublabel{NW4bbsBH-5jMsk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-5jMsk-1}}}\moddef{Group and subgroups tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-5jMsk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3Tf8w1-1}}\nwenddeflinemarkup
STRUCT_0, GROUP_1, GROUP_2, GROUP_4, GROUP_5,
GROUP_6, BINOP_2, ALGSTR_0, REALSET1, AUTGROUP, GR_CY_1
\nwused{\\{NW4bbsBH-3Tf8w1-1}}\nwendcode{}\nwbegindocs{8}\nwdocspar

%\M
{\Tt{}NEWTON\nwendquote} defines the token {\Tt{}|{\char94}\nwendquote}, used as infix operator {\Tt{}a\ |{\char94}\ b\nwendquote}
which is Mizar notation for $a^{b}$. Mizar follows group theorist
notation of writing $g^{h} = h^{-1}gh$ for conjugation. Also observe
that {\Tt{}normal\nwendquote} is introduced in {\Tt{}PRE{\_}TOPC\nwendquote}, so we need to include
that, as well.

\nwenddocs{}\nwbegincode{9}\sublabel{NW4bbsBH-40Iyod-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-40Iyod-1}}}\moddef{Group conjugation and normal subgroups tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-40Iyod-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3Tf8w1-1}}\nwenddeflinemarkup
NAT_1, INT_2, SETFAM_1, NEWTON, PRE_TOPC, GROUP_10
\nwused{\\{NW4bbsBH-3Tf8w1-1}}\nwendcode{}\nwbegindocs{10}\nwdocspar

\subsubsection{Constructors}
But the vocabularies just permits Mizar's parser to \emph{recognize}
terms. For the \emph{meaning} of these terms, we need to import the
\emph{constructors}. But if a constructor uses \emph{another article}'s
constructors, we need to also import that other article as well.

Often we just copy the articles imported for the notations section, but
in my experience it's often a strict subset of the notations. I'm lazy,
so I'll just copy the constructor imports:

\nwenddocs{}\nwbegincode{11}\sublabel{NW4bbsBH-45oKpZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-45oKpZ-1}}}\moddef{\code{}char.miz\edoc{} constructors~{\nwtagstyle{}\subpageref{NW4bbsBH-45oKpZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
constructors \LA{}Ste theoretic constructors for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-1oVli-1}}\RA{}
  \LA{}Number constructors for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-1FgKzw-1}}\RA{}
  \LA{}Group theory constructors for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-2UphIM-1}}\RA{}
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{12}\nwdocspar

\nwenddocs{}\nwbegincode{13}\sublabel{NW4bbsBH-1oVli-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1oVli-1}}}\moddef{Ste theoretic constructors for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-1oVli-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-45oKpZ-1}}\nwenddeflinemarkup
TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, FUNCT_1,
RELSET_1, PARTFUN1, FUNCT_2, FUNCOP_1, FINSEQ_1, FINSEQ_2, FINSOP_1,
\nwused{\\{NW4bbsBH-45oKpZ-1}}\nwendcode{}\nwbegindocs{14}\nwdocspar

\nwenddocs{}\nwbegincode{15}\sublabel{NW4bbsBH-1FgKzw-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1FgKzw-1}}}\moddef{Number constructors for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-1FgKzw-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-45oKpZ-1}}\nwenddeflinemarkup
CARD_1, NUMBERS, REAL_1, SETWISEO,
ARYTM_2, ARYTM_3, ORDINAL2, SQUARE_1,
SETFAM_1, ORDINAL1,INT_1, INT_2,
XXREAL_2, XCMPLX_0, XXREAL_0, XREAL_0,  NAT_1, NAT_D,
\nwused{\\{NW4bbsBH-45oKpZ-1}}\nwendcode{}\nwbegindocs{16}\nwdocspar

\nwenddocs{}\nwbegincode{17}\sublabel{NW4bbsBH-2UphIM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-2UphIM-1}}}\moddef{Group theory constructors for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-2UphIM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-45oKpZ-1}}\nwenddeflinemarkup
BINOP_1, BINOP_2, FINSET_1, STRUCT_0, ALGSTR_0, REALSET1,
GROUP_1, GROUP_2, GROUP_3, GROUP_4, GROUP_5, GROUP_6, GRSOLV_1,
AUTGROUP, GROUP_9, GROUP_10, GR_CY_1, NEWTON
\nwused{\\{NW4bbsBH-45oKpZ-1}}\nwendcode{}\nwbegindocs{18}\nwdocspar

\subsubsection{Notations}
Now we need to import the functor patterns to ``couple'' the definitions
and notations. Usually this is just the constructor list.

The basics of Tarski--Grothendieck set theory may be found in
{\Tt{}TARSKI\nwendquote}. Partial functions are introduced in {\Tt{}PARTFUN1\nwendquote}. Binary
operations applied to functions {\Tt{}FUNCOP{\_}1\nwendquote} will be necessary later
on. And fancy functions from sets to sets, like {\Tt{}Permutation\nwendquote}, is
defined in {\Tt{}FUNCT{\_}2\nwendquote}. There are few random odds and ends, like
{\Tt{}NUMBERS\nwendquote} for subsets of complex numbers and {\Tt{}XXREAL{\_}0\nwendquote} for the real
numbers.

We also use {\Tt{}SETFAM{\_}1\nwendquote} for {\Tt{}meet\nwendquote}, necessary when proving the
Frattini subgroup is characteristic.

For the numbers notations, it's\dots difficult to disentangle.

The group theoretic notions are a grab bag of binary operators
({\Tt{}BINOP{\_}1\nwendquote} and {\Tt{}BINOP{\_}2\nwendquote}), prerequisites for algebraic structures
({\Tt{}STRUCT{\_}0\nwendquote} and {\Tt{}ALGSTR{\_}0\nwendquote}), primordial group theoretic articles
({\Tt{}REALSET1\nwendquote}), and the relevant group theory articles.

\nwenddocs{}\nwbegincode{19}\sublabel{NW4bbsBH-40mYXi-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-40mYXi-1}}}\moddef{\code{}char.miz\edoc{} notations~{\nwtagstyle{}\subpageref{NW4bbsBH-40mYXi-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
notations TARSKI, XBOOLE_0, SUBSET_1, XCMPLX_0, ORDINAL1, RELAT_1,
  FUNCT_1, RELSET_1, FUNCT_2, FUNCOP_1, SETWISEO, PARTFUN1,
  FINSEQ_1, ZFMISC_1, CARD_1, INT_1, NAT_1, INT_2, ARYTM_2, ARYTM_3,
  FINSEQ_2, REAL_1, SETFAM_1, NUMBERS, MEMBERED, BINOP_1,
  BINOP_2, FINSET_1, STRUCT_0, ALGSTR_0, XXREAL_0, GROUP_1, GROUP_2,
  GROUP_3, GROUP_4, GROUP_5, REALSET1, GROUP_6, NAT_D, GRSOLV_1,
  AUTGROUP, GROUP_9, GROUP_10, GR_CY_1, NEWTON
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{20}\nwdocspar

\subsection{Registrations, Definitions, Theorems, Schemes}

\subsubsection{Registrations}
We often cluster adjectives together with registrations, or have one
adjective imply another automatically (like how a characteristic
Subgroup is always normal). We import these using the registrations
portion of the environment. For our purposes, we may need basic facts
about relations ({\Tt{}RELAT{\_}1\nwendquote}), functions and partial functions ({\Tt{}FUNCT{\_}1\nwendquote},
{\Tt{}PARTFUN1\nwendquote}, {\Tt{}FUNCT{\_}2\nwendquote}), relations between sets ({\Tt{}RELSET{\_}1\nwendquote}).

\nwenddocs{}\nwbegincode{21}\sublabel{NW4bbsBH-PI8yt-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-PI8yt-1}}}\moddef{\code{}char.miz\edoc{} registrations~{\nwtagstyle{}\subpageref{NW4bbsBH-PI8yt-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
registrations \LA{}Register set theoretic clusters for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-2rYbJz-1}}\RA{},
  \LA{}Register number clusters for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-kCYBG-1}}\RA{},
  \LA{}Register group theoretic clusters for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-3SNFzZ-1}}\RA{}
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{22}\nwdocspar

%\M
The clusters we want to use from set theory are defined in the ``same''
scattering of places.

\nwenddocs{}\nwbegincode{23}\sublabel{NW4bbsBH-2rYbJz-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-2rYbJz-1}}}\moddef{Register set theoretic clusters for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-2rYbJz-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-PI8yt-1}}\nwenddeflinemarkup
XBOOLE_0, RELAT_1, FUNCT_1, PARTFUN1, RELSET_1, FUNCT_2
\nwused{\\{NW4bbsBH-PI8yt-1}}\nwendcode{}\nwbegindocs{24}\nwdocspar

\nwenddocs{}\nwbegincode{25}\sublabel{NW4bbsBH-kCYBG-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-kCYBG-1}}}\moddef{Register number clusters for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-kCYBG-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-PI8yt-1}}\nwenddeflinemarkup
ORDINAL1, FINSET_1, FINSEQ_1, NUMBERS, NAT_1, INT_1, INT_2, XCMPLX_0,
ARYTM_3, XREAL_0, ARYTM_2, SETWISEO, CARD_1, NEWTON, FINSEQ_2
\nwused{\\{NW4bbsBH-PI8yt-1}}\nwendcode{}\nwbegindocs{26}\nwdocspar

%\M
We also need to register adjectives germane to group theory.

\nwenddocs{}\nwbegincode{27}\sublabel{NW4bbsBH-3SNFzZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-3SNFzZ-1}}}\moddef{Register group theoretic clusters for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-3SNFzZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-PI8yt-1}}\nwenddeflinemarkup
STRUCT_0, GROUP_1, GROUP_2, GROUP_3, GROUP_6, GR_CY_1
\nwused{\\{NW4bbsBH-PI8yt-1}}\nwendcode{}\nwbegindocs{28}\nwdocspar

\subsubsection{Definitions} When using a definition $f := M$, we need to cite it in
a proof. Specifically, automatically unfolding predicates from specific
articles. If we want this to be automated, we can cite the article in
the {\Tt{}definitions\nwendquote} portion of the {\Tt{}environ\nwendquote}.

\nwenddocs{}\nwbegincode{29}\sublabel{NW4bbsBH-25lITS-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-25lITS-1}}}\moddef{\code{}char.miz\edoc{} definitions~{\nwtagstyle{}\subpageref{NW4bbsBH-25lITS-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
definitions \LA{}Include set theoretic definitions for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-2JcmrV-1}}\RA{},
  \LA{}Group theoretic definitions for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-LUUHe-1}}\RA{}
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{30}\nwdocspar

\begin{remark}
  Kornilowicz~\cite[see \S{5.1}]{kornilowicz2015definitional} that:
  ``Environment directive {\Tt{}definitions\nwendquote} is used for importing two different kinds of information from the database: definitional expansions used by REASONER and expansions of terms defined by equals used by EQUALIZER.''
\end{remark}

%\M
Arguably, we want to be using basic predicates concerning subsets
({\Tt{}SUBSET{\_}1\nwendquote}), functions ({\Tt{}FUNCT{\_}1\nwendquote} and {\Tt{}FUNCT{\_}2\nwendquote}), and set theory
({\Tt{}TARSKI\nwendquote}), so let's just add them.

\nwenddocs{}\nwbegincode{31}\sublabel{NW4bbsBH-2JcmrV-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-2JcmrV-1}}}\moddef{Include set theoretic definitions for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-2JcmrV-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-25lITS-1}}\nwenddeflinemarkup
SUBSET_1, FUNCT_1, TARSKI, FUNCT_2, ARYTM_2, FINSEQ_1
\nwused{\\{NW4bbsBH-25lITS-1}}\nwendcode{}\nwbegindocs{32}\nwdocspar

%\M
But we also want to use facts concerning normal subgroups ({\Tt{}GROUP{\_}3\nwendquote})
and the automorphism group $\aut(G)$ ({\Tt{}AUTGROUP\nwendquote}).

\nwenddocs{}\nwbegincode{33}\sublabel{NW4bbsBH-LUUHe-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-LUUHe-1}}}\moddef{Group theoretic definitions for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-LUUHe-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-25lITS-1}}\nwenddeflinemarkup
GROUP_1, GROUP_3, GROUP_4, GROUP_5, GROUP_6, AUTGROUP, NEWTON, XXREAL_0
\nwused{\\{NW4bbsBH-25lITS-1}}\nwendcode{}\nwbegindocs{34}\nwdocspar

\subsubsection{Theorems}
The {\Tt{}vocabularies\nwendquote} allows Mizar's scanner and parser to
\emph{recognize} terms. The {\Tt{}constructors\nwendquote} and {\Tt{}notations\nwendquote} allows us
to use the patterns and constructors for terms. But if we want to cite
theorems and definitions in proofs (i.e., if we want to use the
\emph{results} of previous articles), then we need to add those cited
articles to the {\Tt{}theorems\nwendquote} environment.

\nwenddocs{}\nwbegincode{35}\sublabel{NW4bbsBH-1CXYUa-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1CXYUa-1}}}\moddef{\code{}char.miz\edoc{} theorems~{\nwtagstyle{}\subpageref{NW4bbsBH-1CXYUa-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
theorems
  \LA{}Import set-theoretic theorems for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-4KRCaJ-1}}\RA{},
  \LA{}Import group-theoretic theorems for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-30lw0c-1}}\RA{}, XCMPLX_1
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{36}\nwdocspar

%\M
We have the usual cast of set theoretic characters. There are a large
number of articles we refer to for using the real numbers.

\nwenddocs{}\nwbegincode{37}\sublabel{NW4bbsBH-4KRCaJ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-4KRCaJ-1}}}\moddef{Import set-theoretic theorems for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-4KRCaJ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-1CXYUa-1}}\nwenddeflinemarkup
TARSKI, SUBSET_1, RELSET_1, FUNCT_1, FUNCT_2, XBOOLE_0,
SETFAM_1, FINSEQ_3, PARTFUN1, ORDINAL1
\nwused{\\{NW4bbsBH-1CXYUa-1}}\nwendcode{}\nwbegindocs{38}\nwdocspar

%\M
Again, we import the usual group theoretic theorems.
\nwenddocs{}\nwbegincode{39}\sublabel{NW4bbsBH-30lw0c-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-30lw0c-1}}}\moddef{Import group-theoretic theorems for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-30lw0c-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-1CXYUa-1}}\nwenddeflinemarkup
GROUP_1, GROUP_2, GROUP_3, GROUP_4, GROUP_5, GROUP_6, STRUCT_0, GRSOLV_1,
AUTGROUP, GROUP_9, GROUP_10, GR_CY_1
\nwused{\\{NW4bbsBH-1CXYUa-1}}\nwendcode{}\nwbegindocs{40}\nwdocspar

\subsubsection{Schemes}
If we want to cite and use a scheme defined elsewhere, then we need the
article's name cited in the {\Tt{}schemes\nwendquote} portion of the environment.

\nwenddocs{}\nwbegincode{41}\sublabel{NW4bbsBH-21wWTp-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-21wWTp-1}}}\moddef{\code{}char.miz\edoc{} schemes~{\nwtagstyle{}\subpageref{NW4bbsBH-21wWTp-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
schemes FUNCT_2, GROUP_4, FINSEQ_1
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{42}\nwdocspar

\subsection{\dots and the rest}

\subsubsection{Equalities}
This seems to be introduced around 2015, the only documentation I could
find was in Kornilowics~\cite{kornilowicz2015definitional}.
Expansions of terms defined by {\Tt{}equals\nwendquote} are imported by a new
{\Tt{}environ\nwendquote} directive {\Tt{}equalities\nwendquote}.

\nwenddocs{}\nwbegincode{43}\sublabel{NW4bbsBH-1aojze-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1aojze-1}}}\moddef{\code{}char.miz\edoc{} equalities~{\nwtagstyle{}\subpageref{NW4bbsBH-1aojze-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
equalities PARTFUN1, FINSET_1, BINOP_1, REALSET1, STRUCT_0, GROUP_2,
  GROUP_3, GROUP_4, GROUP_5, GROUP_6, GR_CY_1,
  ALGSTR_0, NEWTON
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{44}\nwdocspar

\subsubsection{Expansions}
Import expansions of predicates and adjectives from the specified
articles.

\nwenddocs{}\nwbegincode{45}\sublabel{NW4bbsBH-aWL85-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-aWL85-1}}}\moddef{\code{}char.miz\edoc{} expansions~{\nwtagstyle{}\subpageref{NW4bbsBH-aWL85-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
expansions FINSET_1, GROUP_1, GROUP_2, GROUP_6, STRUCT_0, BINOP_1,
  FUNCT_2, NEWTON
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{46}\nwdocspar

\subsubsection{Requirements} Within mathematics, there's a lot of implicit
knowledge. Mizar automates some of that with {\Tt{}requirements\nwendquote}
inclusions. For example, if we want to show {\Tt{}x\ in\ X\nwendquote}
(Mizar for the primitive binary predicate $x\in X$) implies
the typing relation {\Tt{}x\ is\ Element\ of\ X\nwendquote}, well, that's ``obvious'' to
us humans, and we can make it obvious to Mizar as well using the proper
requirements.

\begin{remark}
As I understand it (from Wiedijk's excellent ``Writing a Mizar Article
in 9 easy steps''), the only possibilities for the {\Tt{}requirements\nwendquote} are:
{\Tt{}BOOLE\nwendquote}, {\Tt{}SUBSET\nwendquote}, {\Tt{}NUMERALS\nwendquote}, {\Tt{}ARITHM\nwendquote}, {\Tt{}REAL\nwendquote}.
\end{remark}

\nwenddocs{}\nwbegincode{47}\sublabel{NW4bbsBH-4BdAzJ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-4BdAzJ-1}}}\moddef{\code{}char.miz\edoc{} requirements~{\nwtagstyle{}\subpageref{NW4bbsBH-4BdAzJ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
requirements BOOLE, SUBSET, NUMERALS, ARITHM, REAL
\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{48}\nwdocspar
\nwenddocs{}\nwfilename{nw/characteristic/preparatory.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
% This is placed here so the LaTeX is organized correctly, thanks to
% problems with noweb :(
\section{Article Body}\label{sec:characteristic:preparatory:start}

The article body is where the magic happens. Now we can start making
definitions, stating theorems, proving results. The basic structure of
our article can be cleaved in two: first we state and prove ``helper
lemmas'', which probably belong somewhere else, but currently are not
located anywhere in the Mizar library. The second half are our results
concerning characteristic subgroups.

Just to give some idea of what we're doing, we will have to define a
notion of {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-2qSYW4-1}\nwendquote}. We will also have to prove a number of
results concerning {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-2qSYW4-1}\nwendquote}s. After all, a characteristic
subgroup is one which is left invariant under any automorphism of its
parent group.

Once that has been squared away, we will define a notion of a
{\Tt{}\nwlinkedidentq{characteristic}{NW47t2dy-qejLV-1}\nwendquote} subgroup. Then we will prove results right away.

\nwenddocs{}\nwbegincode{1}\sublabel{NW18nMBU-2TX9wk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-2TX9wk-1}}}\moddef{\code{}char.miz\edoc{} article body~{\nwtagstyle{}\subpageref{NW18nMBU-2TX9wk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWoaARJ-2sCaVS-1}}\nwenddeflinemarkup
begin :: Preparatory Work
\LA{}Helper lemmas and registrations for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW18nMBU-oqDk7-1}}\RA{}

begin :: Nontrivial Groups and Subgroups
\LA{}Nontrivial Groups~{\nwtagstyle{}\subpageref{NW18nMBU-1xRFQU-1}}\RA{}

begin :: Proper Subgroups
\LA{}Proper Subgroups~{\nwtagstyle{}\subpageref{NW18nMBU-KQsbx-1}}\RA{}

begin :: Automorphisms
\LA{}Automorphisms of Groups~{\nwtagstyle{}\subpageref{NW1Nnu7l-1CMOm-1}}\RA{}

begin :: Inner Automorphisms
\LA{}Inner Automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-UGF1u-1}}\RA{}

begin :: Characteristic Subgroups
\LA{}Characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-3NltVm-1}}\RA{}
\nwused{\\{NWoaARJ-2sCaVS-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\section{Preparatory results}
There are a lot of recurring patterns which can be isolated into helper
functions---err, lemmas. I'm sure many (if not all) are already present
somewhere in the Mizar Mathematical Library, but I couldn't find them. I
am placing them within their own ``section'', because if I ever submit
the result to the Mizar Mathematical Library, they will either be
removed (and relocated to the relevant articles) or the editors will
know what I should have done instead.

\nwenddocs{}\nwbegincode{3}\sublabel{NW18nMBU-oqDk7-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-oqDk7-1}}}\moddef{Helper lemmas and registrations for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW18nMBU-oqDk7-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2TX9wk-1}}\nwenddeflinemarkup
reserve X for set;

\LA{}Register: the identity function is surjective and bijective~{\nwtagstyle{}\subpageref{NW18nMBU-1ouPZe-1}}\RA{}

\LA{}Theorem: $g\in H\subgroup G$ and $K\subgroup G$, then $H\subgroup K\implies g\in K$~{\nwtagstyle{}\subpageref{NW18nMBU-q3KUi-1}}\RA{}

\LA{}Theorem: restriction of group morphism acts on elements like the original~{\nwtagstyle{}\subpageref{NW18nMBU-32pfqx-1}}\RA{}

\LA{}Theorem: Subgroups invariant under conjugation are normal~{\nwtagstyle{}\subpageref{NW18nMBU-4Nsdji-1}}\RA{}

\LA{}Theorem: if $f$ is bijective, then $(f^{-1})^{-1}=f$~{\nwtagstyle{}\subpageref{NW18nMBU-l92FA-1}}\RA{}

\LA{}Theorem: if $f\colon X\to Y$ is bijective, then $f\circ f^{-1}=\id_{Y}$~{\nwtagstyle{}\subpageref{NW18nMBU-1Brdpy-1}}\RA{}

\LA{}Theorem: $f\colon X\into Y$ and $x\notin A\subset X$ implies $f(x)\notin f(A)$~{\nwtagstyle{}\subpageref{NW18nMBU-17dzpg-1}}\RA{}
\nwused{\\{NW18nMBU-2TX9wk-1}}\nwendcode{}\nwbegindocs{4}\nwdocspar


\begin{registration}
We begin by registering the identity function as being surjective and
bijective. This should have been done in \mml{funct2}, but hey, what can
you do?
\end{registration}

\nwenddocs{}\nwbegincode{5}\sublabel{NW18nMBU-1ouPZe-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1ouPZe-1}}}\moddef{Register: the identity function is surjective and bijective~{\nwtagstyle{}\subpageref{NW18nMBU-1ouPZe-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
registration
  let X;
  cluster id X -> onto;
  coherence;
end;

registration
  let X;
  cluster id X -> bijective;
  coherence;
end;
\nwused{\\{NW18nMBU-oqDk7-1}}\nwendcode{}\nwbegindocs{6}\nwdocspar

\begin{theorem}
  Let $G$ be a group and $g\in G$ be any element of the group,
  $H_{1}\subgroup G$ and $H_{2}\subgroup G$ be subgroups.
  If $H_{1}\subgroup H_{2}$ and $g\in H_{1}$, then $g\in H_{2}$.
\end{theorem}

This is another ``Well, duh'' lemma that I couldn't find in Mizar's library.

\nwenddocs{}\nwbegincode{7}\sublabel{NW18nMBU-q3KUi-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-q3KUi-1}}}\moddef{Theorem: $g\in H\subgroup G$ and $K\subgroup G$, then $H\subgroup K\implies g\in K$~{\nwtagstyle{}\subpageref{NW18nMBU-q3KUi-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{LmSubgroupEltTrans}{NW18nMBU-q3KUi-1}:
  for G being Group
  for H1,H2 being Subgroup of G
  for g being Element of G
  st g in H1 & H1 is Subgroup of H2
  holds g in H2 by GROUP_2:40;
\nwindexdefn{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}{NW18nMBU-q3KUi-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}}}\nwendcode{}\nwbegindocs{8}\nwdocspar
\begin{theorem}[{Restriction of Group Morphisms to Subgroups}]\label{thm:characteristic:preparatory:restrict-group-morphism-to-subgroups}
If $f\colon G_{1}\to G_{2}$ is a group morphism and $H\subgroup G_{1}$
is a subgroup, then for any $h\in H$ we have $f(h) = f|_{H}(h)$.
\end{theorem}

\begin{lem-remark}
Mizar proves that, if $f\colon X\to Y$ is a set theoretic function and
$A\subset X$ is an arbitrary subset, then $\forall a\in X$ we have
$a\in A\implies f|_{A}(a)=f(a)$. But this doesn't generalize to
morphisms, sadly, because a group is like a chocolate-covered set.

So we just prove for any pair of groups $G_{1}$ and $G_{2}$,
for any subgroup $H\subgroup G_{1}$,
for any group morphism $f\colon G_{1}\to G_{2}$, and for arbitrary $h\in G_{1}$,
we have $h\in H\implies f|_{H}(h) = f(h)$. The reasoning is that we can
always look at the set-theoretic function $U(f)$ underlying $f$, then
piggie-back off earlier results establishing the desired claim
(Theorem~\mml[Th49]{funct1}\MizThm{FUNCT\_1}{49}, to be precise).
\end{lem-remark}


\nwenddocs{}\nwbegincode{9}\sublabel{NW18nMBU-32pfqx-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-32pfqx-1}}}\moddef{Theorem: restriction of group morphism acts on elements like the original~{\nwtagstyle{}\subpageref{NW18nMBU-32pfqx-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1}:
  for G1,G2 being Group
  for H being Subgroup of G1
  for f being Homomorphism of G1,G2
  for h being Element of G1
  st h in H
  holds (f|H).h = f.h
proof
  let G1,G2 be Group;
  let H be Subgroup of G1;
  let f be Homomorphism of G1,G2;
  let h be Element of G1;
  assume h in H;
  then (f|(the carrier of H)).h = f.h by FUNCT_1:49;
  hence (f|H).h = f.h by GRSOLV_1:def 2;
end;
\nwindexdefn{\nwixident{Th2}}{Th2}{NW18nMBU-32pfqx-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Th2}}{Th2}}}\nwendcode{}\nwbegindocs{10}\nwdocspar
\begin{theorem}
Let $H_{1}\subgroup G$ and $H_{2}\subgroup G$.
If $H_{1}\subgroup H_{2}$ and $H_{2}\subgroup H_{1}$, then
$H_{1}=H_{2}$.
\end{theorem}

\begin{lem-remark}
Pretty simple, right? \dots I'm not sure I'll need this, but here it is if I do.
\end{lem-remark}

\nwenddocs{}\nwbegincode{11}\sublabel{NW18nMBU-2pqevM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-2pqevM-1}}}\moddef{Theorem: Sandwich Subgroup Equality Theorem~{\nwtagstyle{}\subpageref{NW18nMBU-2pqevM-1}}}\endmoddef\nwstartdeflinemarkup\nwenddeflinemarkup
theorem \nwlinkedidentc{Th3}{NW18nMBU-2pqevM-1}:
  for H1 being strict Subgroup of G
  for H2 being strict Subgroup of G
  st (H1 is Subgroup of H2) & (H2 is Subgroup of H1)
  holds H1 = H2
proof
  let H1 be strict Subgroup of G;
  let H2 be strict Subgroup of G;
  assume H1 is Subgroup of H2 & H2 is Subgroup of H1;
  then the multMagma of H1 = the multMagma of H2 by GROUP_2:55;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th3}}{Th3}{NW18nMBU-2pqevM-1}\eatline
\nwnotused{Theorem: Sandwich Subgroup Equality Theorem}\nwidentdefs{\\{{\nwixident{Th3}}{Th3}}}\nwendcode{}\nwbegindocs{12}\nwdocspar
\begin{theorem}\label{thm:characteristic:preparatory:normal-subgroup}
Let $H\subgroup G$ be such that $\forall a\in G, a^{-1}Ha=H$.
Then $H\normalSubgroup G$ is a normal subgroup.
\end{theorem}

\begin{lem-remark}
The current theorems in~\mml{group3} require $H$ to be a \emph{strict}
subgroup, but this strictness condition is not necessary.
\end{lem-remark}


\nwenddocs{}\nwbegincode{13}\sublabel{NW18nMBU-4Nsdji-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-4Nsdji-1}}}\moddef{Theorem: Subgroups invariant under conjugation are normal~{\nwtagstyle{}\subpageref{NW18nMBU-4Nsdji-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th4}{NW18nMBU-4Nsdji-1}:
  for G being Group
  for H being Subgroup of G
  st (for a being Element of G holds H |^ a = H)
  holds H is normal Subgroup of G
proof
  let G be Group;
  let H be Subgroup of G;
  assume for a being Element of G holds H |^ a = H;
  then for a being Element of G holds the carrier of H |^ a = the carrier of H;
  then for a being Element of G holds the multMagma of H = H |^ a by GROUP_2:59;
  hence H is normal Subgroup of G by GROUP_3:def 13;
end;
\nwindexdefn{\nwixident{Th4}}{Th4}{NW18nMBU-4Nsdji-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Th4}}{Th4}}}\nwendcode{}\nwbegindocs{14}\nwdocspar
\begin{theorem}\label{thm:characteristic:preparatory:lm10}
If $f\colon X\to Y$ is a bijective function of non-empty sets, then $(f^{-1})^{-1}=f$.
\end{theorem}

\begin{proof}[Proof outline]
Let $f\colon X\to Y$ be bijective. Then $g=f^{-1}$ is a bijective
function from $Y$ to $X$. And $h=g^{-1}$ is a bijective function from
$X$ to $Y$. Then for any $x\in X$, we have $f(x)=h(x)$. This proves the claim.
\end{proof}

\nwenddocs{}\nwbegincode{15}\sublabel{NW18nMBU-l92FA-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-l92FA-1}}}\moddef{Theorem: if $f$ is bijective, then $(f^{-1})^{-1}=f$~{\nwtagstyle{}\subpageref{NW18nMBU-l92FA-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th5}{NW18nMBU-l92FA-1}:
  for X,Y being non empty set
  for f being Function of X,Y
  st f is bijective
  holds (f")" = f
proof
  let X,Y be non empty set;
  let f be Function of X,Y;
  assume A1: f is bijective;
  then A2: dom f = X & rng f = Y & f is one-to-one by FUNCT_2:def 3,def 1;
  reconsider g = f" as Function of Y,X by A2,FUNCT_2:25;
  A3: g is bijective by A1,GROUP_6:63;
  g is one-to-one & rng g = X implies g" is Function of X,Y
  by FUNCT_2:25;
  then reconsider h = g" as Function of X,Y by A3,FUNCT_2:def 3;

  for x being object st x in X holds h.x = f.x
  \LA{}Proof: $\forall x, x\in X\implies h(x) = f(x)$~{\nwtagstyle{}\subpageref{NW18nMBU-1bDmhU-1}}\RA{}
  then h = f;
  hence (f")" = f;
end;
\nwindexdefn{\nwixident{Th5}}{Th5}{NW18nMBU-l92FA-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Th5}}{Th5}}}\nwendcode{}\nwbegindocs{16}\nwdocspar
\begin{proof}[Proof step ($\forall x\in X, h(x)=f(x)$)]
  Let $x\in X$ be arbitrary. Consider
  \begin{subequations}\label{eq:characteristic:preparatory:lm-finvinv-is-inv}
  \begin{equation}
    y=f(x).
  \end{equation}
  Then $x=g(y)$ --- i.e.,
  $x = f^{-1}(y)$ --- implies
  \begin{equation}
  h(x) = g^{-1}(x) = y.
  \end{equation}
  \end{subequations}
  But since $y=y$ we from
  Eqs~\eqref{eq:characteristic:preparatory:lm-finvinv-is-inv}
  prove $h(x)=f(x)$.
\end{proof}

\nwenddocs{}\nwbegincode{17}\sublabel{NW18nMBU-1bDmhU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1bDmhU-1}}}\moddef{Proof: $\forall x, x\in X\implies h(x) = f(x)$~{\nwtagstyle{}\subpageref{NW18nMBU-1bDmhU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-l92FA-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume x in X;
  then reconsider x as Element of X;
  consider y being object such that
  Z1: y = f.x;
  x = g.y by A1,Z1,FUNCT_2:26;
  then h.x = y by A1,Z1,FUNCT_2:26
          .= f.x by Z1;
  hence thesis;
end;
\nwused{\\{NW18nMBU-l92FA-1}}\nwendcode{}\nwbegindocs{18}\nwdocspar

\begin{theorem}\label{thm:characteristic:preparatory:f-finv-y-is-y}
If $f\colon X\to Y$ is a bijective function of sets, then for any $y\in Y$
we have $f(f^{-1}(y))=y$.
\end{theorem}

\begin{proof}[Proof sketch]
Let $f\colon X\to Y$ be bijective. Then $g\colon Y\to X$ given by
$g=f^{-1}$ is bijective. Mizar knows $g^{-1}(g(y))=y$ for $y=f(x)$. Then
plugging in the definition of $g$ and using
Theorem~\ref{thm:characteristic:preparatory:lm10} to transform
$(f^{-1})^{-1}=f$, together gives the result.
\end{proof}

\begin{lem-remark}
Mizar has the opposite result in its library, namely, Theorem~\mml[Th26]{funct2}\MizThm{FUNCT\_2}{26}
states that $f^{-1}(f(x))=x$ provided $f$ is injective.
\end{lem-remark}

\nwenddocs{}\nwbegincode{19}\sublabel{NW18nMBU-1Brdpy-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1Brdpy-1}}}\moddef{Theorem: if $f\colon X\to Y$ is bijective, then $f\circ f^{-1}=\id_{Y}$~{\nwtagstyle{}\subpageref{NW18nMBU-1Brdpy-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th6}{NW18nMBU-1Brdpy-1}:
  for X,Y being non empty set
  for f being Function of X,Y
  st f is bijective
  for y being Element of Y
  holds f.((f").y) = y
proof
  let X,Y be non empty set;
  let f be Function of X,Y;
  assume A1: f is bijective;
  let y be Element of Y;
  f is onto by A1;
  then reconsider g = f" as Function of Y,X by A1,FUNCT_2:25;
  y = (g").(g.y) by A1,FUNCT_2:26
   .= f.((f").y) by \nwlinkedidentc{Th5}{NW18nMBU-l92FA-1},A1;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th6}}{Th6}{NW18nMBU-1Brdpy-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Th6}}{Th6}}}\nwidentuses{\\{{\nwixident{Th5}}{Th5}}}\nwindexuse{\nwixident{Th5}}{Th5}{NW18nMBU-1Brdpy-1}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{theorem}\label{thm:characteristic:preparatory:x-notin-A-implies-fx-notin-fA}
Let $f\colon X\into Y$ be an injective function of non-empty sets, let
$A\subset X$ be a non-empty subset, let $x\in X$ be any element such
that $x\notin A$. Then $f(x)\notin f(A)$.
\end{theorem}

\begin{proof}[Proof sketch]
We prove that, if $f(x)\in f(A)$, then we get a contradiction with the
hypothesis $x\notin A$ or $f$ is injective.
\end{proof}

\nwenddocs{}\nwbegincode{21}\sublabel{NW18nMBU-17dzpg-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-17dzpg-1}}}\moddef{Theorem: $f\colon X\into Y$ and $x\notin A\subset X$ implies $f(x)\notin f(A)$~{\nwtagstyle{}\subpageref{NW18nMBU-17dzpg-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th7}{NW18nMBU-17dzpg-1}:
  for X,Y being non empty set
  for A being non empty Subset of X
  for x being Element of X
  st not x in A
  for f being Function of X,Y
  st f is one-to-one
  holds not f.x in (f .: A)
proof
  let X,Y be non empty set;
  let A be non empty Subset of X;
  let x be Element of X;
  assume A1: not x in A;
  let f be Function of X,Y;
  assume f is one-to-one;
  then A2: not ex a being object st x in dom f & a in dom f & a in A & f.a = f.x
  by A1, FUNCT_1:def 4;
  dom f = X by FUNCT_2:def 1;
  then A3: x in dom f;
  f.x in (f .: A) iff ex a being object st a in dom f & a in A & f.x = f.a
  by FUNCT_1:def 6;
  then f.x in (f .: A) implies contradiction by A2,A3;
  hence not (f.x in (f .: A));
end;
\nwindexdefn{\nwixident{Th7}}{Th7}{NW18nMBU-17dzpg-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Th7}}{Th7}}}\nwendcode{}\nwbegindocs{22}\nwdocspar



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Nontrivial Groups}
We will be using nontrivial groups later. Recall, a group $G$ is
nontrivial if $G\neq\trivialSubgroup_{G}$. It is defined (or
\emph{overloaded}) in \mml[def2]{group6}\MizDef{GROUP\_6}[02]{2}:

\begin{mizar}
definition
  let G be non empty 1-sorted;
  redefine attr G is trivial means
  ::GROUP_6:Def2
  ex x being object st the carrier of G = {x};
  compatibility
  :: ...
end;
\end{mizar}

We register the negated version ``\texttt{non trivial}'' for groups and
subgroups.

\nwenddocs{}\nwbegincode{23}\sublabel{NW18nMBU-1xRFQU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1xRFQU-1}}}\moddef{Nontrivial Groups~{\nwtagstyle{}\subpageref{NW18nMBU-1xRFQU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2TX9wk-1}}\nwenddeflinemarkup
\LA{}Register: non trivial for Group~{\nwtagstyle{}\subpageref{NW18nMBU-47kVo6-1}}\RA{}
\LA{}Register: trivial groups and trivial subgroups~{\nwtagstyle{}\subpageref{NW18nMBU-1APuWV-1}}\RA{}
\LA{}Register: non trivial for Subgroup~{\nwtagstyle{}\subpageref{NW18nMBU-2RiGxf-1}}\RA{}

\LA{}Theorem: trivial groups look like $\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW18nMBU-2jhymB-1}}\RA{}

\LA{}Register: nontrivial for "finite group"~{\nwtagstyle{}\subpageref{NW18nMBU-OpWr6-1}}\RA{}

\LA{}Theorem: $H\subgroup G$, $H$ is trivial implies $H=\trivialSubgroup_{G}$~{\nwtagstyle{}\subpageref{NW18nMBU-3Oqgqd-1}}\RA{}

\LA{}Theorem: for $H\subgroup G$ and $K\subgroup G$ both trivial, $H=K$~{\nwtagstyle{}\subpageref{NW18nMBU-4EQBnP-1}}\RA{}

\LA{}Theorem: $H\subgroup K$ and $K\subgroup G$, then $K=\trivialSubgroup\implies H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW18nMBU-A6DSQ-1}}\RA{}
\nwused{\\{NW18nMBU-2TX9wk-1}}\nwendcode{}\nwbegindocs{24}\nwdocspar

\begin{proposition}[{\mml[Th3]{group1}\MizThm{GROUP\_1}[03]{3}}]
The real numbers equipped with addition form a group.
\end{proposition}

\begin{remark}
We will need this to prove the existence of nontrivial groups and, later,
serve as an example of a nontrivial group with a proper subgroup.
\end{remark}

\begin{registration}\mizindex{Nontrivial@\texttt{non trivial}}
We have a notion of ``\texttt{non trivial}'' groups, and at least one
exists (namely, the real numbers as an Abelian group).
\end{registration}

\nwenddocs{}\nwbegincode{25}\sublabel{NW18nMBU-47kVo6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-47kVo6-1}}}\moddef{Register: non trivial for Group~{\nwtagstyle{}\subpageref{NW18nMBU-47kVo6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-1xRFQU-1}}\nwenddeflinemarkup
registration
  cluster non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} for Group;
  existence
  proof
    reconsider G = multMagma (# REAL, addreal #) as Group by GROUP_1:3;
    take G;
    thus not (G is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1});
  end;
end;
\nwindexdefn{\nwixident{trivial}}{trivial}{NW18nMBU-47kVo6-1}\eatline
\nwused{\\{NW18nMBU-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{trivial}}{trivial}}}\nwendcode{}\nwbegindocs{26}\nwdocspar
\begin{registration}\index{Subgroup!Trivial}\index{Group!Trivial}\index{Trivial!Subgroup|see{Subgroup,Trivial}}\index{Trivial!Group|see{Group,Trivial}}\mizindex{Trivial@\texttt{trivial}}
We need to register the adjective ``trivial'' for groups and
subgroups. \emph{Every} group --- strict or not, proper or not, hairy
or bald --- has a trivial subgroup. Similarly, \emph{every} subgroup has
a trivial subgroup.
\end{registration}

\nwenddocs{}\nwbegincode{27}\sublabel{NW18nMBU-1APuWV-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1APuWV-1}}}\moddef{Register: trivial groups and trivial subgroups~{\nwtagstyle{}\subpageref{NW18nMBU-1APuWV-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-1xRFQU-1}}\nwenddeflinemarkup
registration
  let G be Group;
  cluster \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} for Subgroup of G;
  existence
  proof
    take (1).G;
    thus thesis;
  end;
  let H be Subgroup of G;
  cluster \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} for Subgroup of H;
  existence
  proof
    take (1).H;
    thus thesis;
  end;
end;
\nwindexdefn{\nwixident{trivial}}{trivial}{NW18nMBU-1APuWV-1}\eatline
\nwused{\\{NW18nMBU-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{trivial}}{trivial}}}\nwendcode{}\nwbegindocs{28}\nwdocspar
\begin{registration}\index{Subgroup!Nontrivial}
For any non trivial group $G$, we can find a nontrivial subgroup
$H\subgroup G$, namely $G$ itself.
\end{registration}

\nwenddocs{}\nwbegincode{29}\sublabel{NW18nMBU-2RiGxf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-2RiGxf-1}}}\moddef{Register: non trivial for Subgroup~{\nwtagstyle{}\subpageref{NW18nMBU-2RiGxf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-1xRFQU-1}}\nwenddeflinemarkup
registration
  let G be non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
  cluster non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} for Subgroup of G;
  existence
  proof
    reconsider H=G as Subgroup of G by GROUP_2:54;
    the carrier of H <> \{1_G\};
    hence thesis;
  end;

  cluster strict non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} for Subgroup of G;
  existence
  \LA{}Proof: existence of strict nontrivial subgroup of $G$~{\nwtagstyle{}\subpageref{NW18nMBU-lTKq-1}}\RA{}
end;
\nwused{\\{NW18nMBU-1xRFQU-1}}\nwidentuses{\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-2RiGxf-1}\nwendcode{}\nwbegindocs{30}\nwdocspar


\begin{proof}[Proof outline (Existence of nontrivial subgroup)]
We basically take the strict group underlying $G$ as an example of a
nontrivial subgroup.
\end{proof}

\nwenddocs{}\nwbegincode{31}\sublabel{NW18nMBU-lTKq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-lTKq-1}}}\moddef{Proof: existence of strict nontrivial subgroup of $G$~{\nwtagstyle{}\subpageref{NW18nMBU-lTKq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2RiGxf-1}}\nwenddeflinemarkup
proof
  set H = multMagma (#the carrier of G, the multF of G#);
  reconsider H as Group-like non empty multMagma;
  the multF of H = (the multF of G)||the carrier of H;
  then H is strict Subgroup of G & H is non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} by GROUP_2:def 5;
  hence thesis;
end;
\nwused{\\{NW18nMBU-2RiGxf-1}}\nwidentuses{\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-lTKq-1}\nwendcode{}\nwbegindocs{32}\nwdocspar

\begin{theorem}\label{thm:preparatory:trivialIff1}
A group $G$ is trivial if $G=\trivialSubgroup$.
\end{theorem}

One direction has been proven in Theorem~\mml[Th10]{group6}, so we just
need to prove the forward direction.

\begin{proof}[Proof sketch]

\end{proof}

\nwenddocs{}\nwbegincode{33}\sublabel{NW18nMBU-2jhymB-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-2jhymB-1}}}\moddef{Theorem: trivial groups look like $\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW18nMBU-2jhymB-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-1xRFQU-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th8}{NW18nMBU-2jhymB-1}:
  for G being Group
  holds G is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} iff the multMagma of G = (1).G
proof
  let G be Group;
  thus G is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} implies the multMagma of G = (1).G
  proof
    assume G is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1};
    then consider x being object such that
    A1: the carrier of G = \{x\};
    x = 1_G by A1, TARSKI:def 1;
    then the carrier of G = \{1_G\} by A1;
    then the carrier of G = the carrier of (1).G by GROUP_2:def 7;
    hence the multMagma of G = (1).G by GROUP_2:61;
  end;
  thus the multMagma of G = (1).G implies G is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1};
  thus thesis;
end;
\nwindexdefn{\nwixident{Th8}}{Th8}{NW18nMBU-2jhymB-1}\eatline
\nwused{\\{NW18nMBU-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{Th8}}{Th8}}}\nwidentuses{\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-2jhymB-1}\nwendcode{}\nwbegindocs{34}\nwdocspar
\begin{lemma}
$\cyclicGroup{2}$ is a nontrivial group.
\end{lemma}

\begin{proof}[Proof outline]
The set underlying $\cyclicGroup{2}$ is [isomorphic to] the ordinal
$2=\{0,1\}$ whereas the set underlying its trivial subgroup is the
ordinal $1=\{0\}$. These are different set, and thus must underly
different groups.
\end{proof}

\nwenddocs{}\nwbegincode{35}\sublabel{NW18nMBU-3WaVwt-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-3WaVwt-1}}}\moddef{Lemma: Existence of finite nontrivial groups~{\nwtagstyle{}\subpageref{NW18nMBU-3WaVwt-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-OpWr6-1}}\nwenddeflinemarkup
\nwlinkedidentc{LmFiniteNontrivial}{NW18nMBU-3WaVwt-1}:
  not INT.Group(2) is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1}
proof
  set G = INT.Group(2);
  A1: the carrier of G = Segm 2
                      .= 2 by ORDINAL1:def 17;
  the carrier of (1).G = \{1_G\} by GROUP_2:def 7
                      .= \{0\} by GR_CY_1:14
                      .= \{\} \\/ \{0\}
                      .= succ 0 by ORDINAL1:def 1
                      .= 1;
  then the carrier of (1).G <> the carrier of G by A1;
  hence not INT.Group(2) is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} by \nwlinkedidentc{Th8}{NW18nMBU-2jhymB-1};
end;
\nwindexdefn{\nwixident{LmFiniteNontrivial}}{LmFiniteNontrivial}{NW18nMBU-3WaVwt-1}\eatline
\nwused{\\{NW18nMBU-OpWr6-1}}\nwidentdefs{\\{{\nwixident{LmFiniteNontrivial}}{LmFiniteNontrivial}}}\nwidentuses{\\{{\nwixident{Th8}}{Th8}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{Th8}}{Th8}{NW18nMBU-3WaVwt-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-3WaVwt-1}\nwendcode{}\nwbegindocs{36}\nwdocspar
\begin{registration}
We can have {\Tt{}non\ \nwlinkedidentq{trivial}{NW18nMBU-47kVo6-1}\ finite\ Group\nwendquote} as a sensible type, so we
register {\Tt{}non\ \nwlinkedidentq{trivial}{NW18nMBU-47kVo6-1}\nwendquote} as an adjective for the type {\Tt{}finite\ Group\nwendquote}.
\end{registration}

\nwenddocs{}\nwbegincode{37}\sublabel{NW18nMBU-OpWr6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-OpWr6-1}}}\moddef{Register: nontrivial for "finite group"~{\nwtagstyle{}\subpageref{NW18nMBU-OpWr6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-1xRFQU-1}}\nwenddeflinemarkup
\LA{}Lemma: Existence of finite nontrivial groups~{\nwtagstyle{}\subpageref{NW18nMBU-3WaVwt-1}}\RA{}

registration
  cluster non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} for finite Group;
  existence by \nwlinkedidentc{LmFiniteNontrivial}{NW18nMBU-3WaVwt-1};
end;

\nwused{\\{NW18nMBU-1xRFQU-1}}\nwidentuses{\\{{\nwixident{LmFiniteNontrivial}}{LmFiniteNontrivial}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{LmFiniteNontrivial}}{LmFiniteNontrivial}{NW18nMBU-OpWr6-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-OpWr6-1}\nwendcode{}\nwbegindocs{38}\nwdocspar

\begin{theorem}\label{thm:characteristic:preparatory:trivial-subgroups-look-like-1}
If $H\subgroup G$ is trivial, then $H=\trivialSubgroup$.
\end{theorem}

\begin{proof}
\emph{Trivial}, thanks to Theorem~\ref{thm:preparatory:trivialIff1}.
\end{proof}

\nwenddocs{}\nwbegincode{39}\sublabel{NW18nMBU-3Oqgqd-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-3Oqgqd-1}}}\moddef{Theorem: $H\subgroup G$, $H$ is trivial implies $H=\trivialSubgroup_{G}$~{\nwtagstyle{}\subpageref{NW18nMBU-3Oqgqd-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-1xRFQU-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th9}{NW18nMBU-3Oqgqd-1}:
  for G being Group
  for H being Subgroup of G
  st H is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1}
  holds the multMagma of H = (1).G
proof
  let G be Group;
  let H be Subgroup of G;
  assume H is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1};
  then the multMagma of H = (1).H by \nwlinkedidentc{Th8}{NW18nMBU-2jhymB-1}
                         .= (1).G by GROUP_2:63;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th9}}{Th9}{NW18nMBU-3Oqgqd-1}\eatline
\nwused{\\{NW18nMBU-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{Th9}}{Th9}}}\nwidentuses{\\{{\nwixident{Th8}}{Th8}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{Th8}}{Th8}{NW18nMBU-3Oqgqd-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-3Oqgqd-1}\nwendcode{}\nwbegindocs{40}\nwdocspar
\begin{theorem}
If $H\subgroup G$ and $K\subgroup G$ are both trivial, then $H=K$ as groups.
\end{theorem}

\begin{proof}
If $H$ and $K$ are both trivial, then by Theorem~\ref{thm:characteristic:preparatory:trivial-subgroups-look-like-1} they both look like $\trivialSubgroup$
and thus are equal to each other as groups.
\end{proof}

\nwenddocs{}\nwbegincode{41}\sublabel{NW18nMBU-4EQBnP-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-4EQBnP-1}}}\moddef{Theorem: for $H\subgroup G$ and $K\subgroup G$ both trivial, $H=K$~{\nwtagstyle{}\subpageref{NW18nMBU-4EQBnP-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-1xRFQU-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th10}{NW18nMBU-4EQBnP-1}:
  for G being Group
  for H being \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G
  for K being \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G
  holds the multMagma of H = the multMagma of K
proof
  let G be Group;
  let H be \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G;
  let K be \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G;
  the multMagma of H = (1).G by \nwlinkedidentc{Th9}{NW18nMBU-3Oqgqd-1}
                    .= the multMagma of K by \nwlinkedidentc{Th9}{NW18nMBU-3Oqgqd-1};
  hence thesis;
end;
\nwindexdefn{\nwixident{Th10}}{Th10}{NW18nMBU-4EQBnP-1}\eatline
\nwused{\\{NW18nMBU-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{Th10}}{Th10}}}\nwidentuses{\\{{\nwixident{Th9}}{Th9}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{Th9}}{Th9}{NW18nMBU-4EQBnP-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-4EQBnP-1}\nwendcode{}\nwbegindocs{42}\nwdocspar
\begin{theorem}
If $H\subgroup K$ and $K\subgroup G$ and $K=\trivialSubgroup_{G}$, then $H=\trivialSubgroup_{G}$.
\end{theorem}

\begin{proof}
We have $\trivialSubgroup\subgroup H\subgroup\trivialSubgroup$ imply
$H=\trivialSubgroup$. But since we didn't use strict subgroups, we need
to work with their underlying sets and the fact $\{1_{G}\}\subset
H\subset\{1_{G}\}$ implies $H=\{1_{G}\}$ by Definition~\mml[def10]{xboole0}.
\end{proof}

\nwenddocs{}\nwbegincode{43}\sublabel{NW18nMBU-A6DSQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-A6DSQ-1}}}\moddef{Theorem: $H\subgroup K$ and $K\subgroup G$, then $K=\trivialSubgroup\implies H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW18nMBU-A6DSQ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-1xRFQU-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th11}{NW18nMBU-A6DSQ-1}:
  for G being Group
  for K being \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G
  for H being Subgroup of G
  st H is Subgroup of K
  holds H is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G
proof
  let G be Group;
  let K be \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G;
  let H be Subgroup of G;
  assume A1: H is Subgroup of K;
  the carrier of H = \{1_G\}
  proof
    the multMagma of K = (1).G by \nwlinkedidentc{Th9}{NW18nMBU-3Oqgqd-1};
    then the carrier of K = \{1_G\} by GROUP_2:def 7;
    then B1: the carrier of H c= \{1_G\} by A1,GROUP_2:def 5;
    (1).G is Subgroup of H by GROUP_2:65;
    then the carrier of (1).G c= the carrier of H by GROUP_2:def 5;
    then \{1_G\} c= the carrier of H by GROUP_2:def 7;
    hence the carrier of H = \{1_G\} by B1,XBOOLE_0:def 10;
  end;
  then ex x being object st the carrier of H = \{x\};
  hence H is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G;
end;
\nwindexdefn{\nwixident{Th11}}{Th11}{NW18nMBU-A6DSQ-1}\eatline
\nwused{\\{NW18nMBU-1xRFQU-1}}\nwidentdefs{\\{{\nwixident{Th11}}{Th11}}}\nwidentuses{\\{{\nwixident{Th9}}{Th9}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{Th9}}{Th9}{NW18nMBU-A6DSQ-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-A6DSQ-1}\nwendcode{}\nwbegindocs{44}\nwdocspar
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Proper Subgroups}\index{Subgroup!Proper}
When we have a [nontrivial] group $G$, we can discuss the notion of a
proper subgroup $H\properSubgroup G$ in analogy to the notion of a
proper subset $X\properSubset Y$.

\nwenddocs{}\nwbegincode{45}\sublabel{NW18nMBU-KQsbx-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-KQsbx-1}}}\moddef{Proper Subgroups~{\nwtagstyle{}\subpageref{NW18nMBU-KQsbx-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2TX9wk-1}}\nwenddeflinemarkup
\LA{}Definition: proper subgroup~{\nwtagstyle{}\subpageref{NW18nMBU-RKCxZ-1}}\RA{}

\LA{}Theorem: $H\subgroup G$ is proper iff the underlying sets are different~{\nwtagstyle{}\subpageref{NW18nMBU-3PEt35-1}}\RA{}

\LA{}Theorem: $H\subgroup G$ is proper iff $G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NW18nMBU-17X1oO-1}}\RA{}

\LA{}Register: proper subgroup for nontrivial groups~{\nwtagstyle{}\subpageref{NW18nMBU-1x35KZ-1}}\RA{}
\LA{}Register: proper subgroups of nontrivial subgroups~{\nwtagstyle{}\subpageref{NW18nMBU-hGa0Z-1}}\RA{}

\LA{}Lemma: maximal subgroups are proper~{\nwtagstyle{}\subpageref{NW18nMBU-KtuAy-1}}\RA{}

\LA{}Register: maximal subgroups are proper~{\nwtagstyle{}\subpageref{NW18nMBU-3ZDEGc-1}}\RA{}

\LA{}Theorem: $H\properSubgroup K\subgroup G$ and $H\neq K$ implies $K$ is nontrivial~{\nwtagstyle{}\subpageref{NW18nMBU-2DotbH-1}}\RA{}
\nwused{\\{NW18nMBU-2TX9wk-1}}\nwendcode{}\nwbegindocs{46}\nwdocspar

\begin{definition}\index{Subgroup!Proper|textbf}
Let $G$ be a group. We call a subgroup $H\subgroup G$ \define{Proper} if
$H\neq G$. We typically denote $H\properSubgroup G$ to reflect it is proper.
\end{definition}

\begin{def-remark}
The implementation for Mizar is a bit quirky. I looked at how maximal
subgroups were defined, because maximal subgroups are necessarily
proper. Maximal subgroups were defined (\mml[def 6]{group4}\MizDef{GROUP\_4}[06]{6})
using the condition \lstinline|the multMagma of H <> the multMagma of G|.
\end{def-remark}\mizindex{Proper@\texttt{proper}}

\nwenddocs{}\nwbegincode{47}\sublabel{NW18nMBU-RKCxZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-RKCxZ-1}}}\moddef{Definition: proper subgroup~{\nwtagstyle{}\subpageref{NW18nMBU-RKCxZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-KQsbx-1}}\nwenddeflinemarkup
definition
  let G be Group;
  let IT be Subgroup of G;
  attr IT is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} means
  :Def1:
  the multMagma of IT <> the multMagma of G;
end;
reserve G for Group;
reserve H for Subgroup of G;
\nwindexdefn{\nwixident{Def10}}{Def10}{NW18nMBU-RKCxZ-1}\nwindexdefn{\nwixident{proper}}{proper}{NW18nMBU-RKCxZ-1}\eatline
\nwused{\\{NW18nMBU-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Def10}}{Def10}}\\{{\nwixident{proper}}{proper}}}\nwendcode{}\nwbegindocs{48}\nwdocspar
\begin{registration}
For any nontrivial group $G$, we can find a proper subgroup $H\subgroup G$,
namely the trivial subgroup $H=\trivialSubgroup_{G}$.
\end{registration}

\nwenddocs{}\nwbegincode{49}\sublabel{NW18nMBU-1x35KZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1x35KZ-1}}}\moddef{Register: proper subgroup for nontrivial groups~{\nwtagstyle{}\subpageref{NW18nMBU-1x35KZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-KQsbx-1}}\nwprevnextdefs{\relax}{NW18nMBU-1x35KZ-2}\nwenddeflinemarkup
registration
  let G be non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
  cluster \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} for Subgroup of G;
  existence
  proof
    take (1).G;
    thus (1).G is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1};
  end;
end;

reserve G for non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
reserve H for Subgroup of G;
\nwalsodefined{\\{NW18nMBU-1x35KZ-2}}\nwused{\\{NW18nMBU-KQsbx-1}}\nwidentuses{\\{{\nwixident{proper}}{proper}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-1x35KZ-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-1x35KZ-1}\nwendcode{}\nwbegindocs{50}\nwdocspar

\begin{theorem}
Let $H\subgroup G$ be a subgroup. Then $H\properSubgroup G$ is proper if
and only if the underlying set of $G$ differs from the underlying set of $H$.
\end{theorem}

\begin{proof}[Proof outline]
The only way a group could be different, since they are magmas
satisfying some properties, is either if the underlying set differs or
if the group operation differs. But since we know $H$ is a subgroup of
$G$, we know the group operation for $H$ is just the restricted version
of the group operation for $G$. Thus we are forced to accept the
underlying sets must be different. This argument works backwards as well
as forwards.
\end{proof}

\nwenddocs{}\nwbegincode{51}\sublabel{NW18nMBU-3PEt35-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-3PEt35-1}}}\moddef{Theorem: $H\subgroup G$ is proper iff the underlying sets are different~{\nwtagstyle{}\subpageref{NW18nMBU-3PEt35-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-KQsbx-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th12}{NW18nMBU-3PEt35-1}:
  H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} iff the carrier of H <> the carrier of G
proof
  (the carrier of H c= the carrier of G) & (the multF of H =
  (the multF of G)||(the carrier of H)) by GROUP_2:def 5;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th12}}{Th12}{NW18nMBU-3PEt35-1}\eatline
\nwused{\\{NW18nMBU-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Th12}}{Th12}}}\nwidentuses{\\{{\nwixident{proper}}{proper}}}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-3PEt35-1}\nwendcode{}\nwbegindocs{52}\nwdocspar
\begin{theorem}\label{thm:characteristic:preparatory:proper-subgroups-have-set-diff-neq-empty}
  Let $H\subgroup G$ be a subgroup.
  Then $H$ is a proper subgroup if and only if the set difference is nonempty
  $G\setminus H\neq\emptyset$.
\end{theorem}

\begin{lem-remark}
This version, as stated, is a little sloppy. We should more precisely
state the set difference of the underlying set $U(G)$ of $G$ with the
underlying set $U(H)$ of $H$ is nonempty $U(G)\setminus U(H)\neq\emptyset$.
\end{lem-remark}

\begin{proof}[Proof outline]
  There are two sub-proofs:
  \begin{enumerate}
  \item $H$ is proper implies $U(G)\setminus U(H)\neq\emptyset$
  \item $U(G)\setminus U(H)\neq\emptyset$ implies $H$ is proper.\qedhere
  \end{enumerate}
\end{proof}

\nwenddocs{}\nwbegincode{53}\sublabel{NW18nMBU-17X1oO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-17X1oO-1}}}\moddef{Theorem: $H\subgroup G$ is proper iff $G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NW18nMBU-17X1oO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-KQsbx-1}}\nwenddeflinemarkup
reserve h,x,y for object;

theorem \nwlinkedidentc{Th13}{NW18nMBU-17X1oO-1}:
  H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} iff (the carrier of G) \\ (the carrier of H) is non empty set
proof
  set UG = the carrier of G;
  set UH = the carrier of H;
  thus H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} implies (the carrier of G) \\ (the carrier of H) is non empty set
  \LA{}Sub-proof: $H\properSubgroup G\implies G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NW18nMBU-4cgubz-1}}\RA{}
  thus (the carrier of G) \\ (the carrier of H) is non empty set implies H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1}
  \LA{}Sub-proof: $H\properSubgroup G\impliedby G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NW18nMBU-dfIXQ-1}}\RA{}
  thus thesis;
end;
\nwindexdefn{\nwixident{Th13}}{Th13}{NW18nMBU-17X1oO-1}\eatline
\nwused{\\{NW18nMBU-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Th13}}{Th13}}}\nwidentuses{\\{{\nwixident{proper}}{proper}}}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-17X1oO-1}\nwendcode{}\nwbegindocs{54}\nwdocspar
\begin{proof}[Sub-proof outline]
  If $H\properSubgroup G$ is a proper subgroup, then the underlying set
  $U(H)$ of $H$ is a subset of the underlying set $U(G)$ of $G$ --- i.e.,
  $U(H)\subset U(G)$ --- and $U(H)\neq U(G)$. Then there is some element
  $g\in G$ for which $g\notin H$. Then $U(G)\setminus U(H)\neq\emptyset$.
\end{proof}

\nwenddocs{}\nwbegincode{55}\sublabel{NW18nMBU-4cgubz-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-4cgubz-1}}}\moddef{Sub-proof: $H\properSubgroup G\implies G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NW18nMBU-4cgubz-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-17X1oO-1}}\nwenddeflinemarkup
proof
  assume A1: H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1};
  UH c= UG & UH <> UG by A1,\nwlinkedidentc{Th12}{NW18nMBU-3PEt35-1}, GROUP_2:def 5;
  then (for x holds x in UH implies x in UG) &
  the carrier of H <> the carrier of G;
  then (for x holds x in UH implies x in UG) &
  not (for x holds x in UH iff x in UG) by TARSKI:2;
  hence (the carrier of G) \\ (the carrier of H) is non empty set
  by XBOOLE_0:def 5;
end;
\nwused{\\{NW18nMBU-17X1oO-1}}\nwidentuses{\\{{\nwixident{proper}}{proper}}\\{{\nwixident{Th12}}{Th12}}}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-4cgubz-1}\nwindexuse{\nwixident{Th12}}{Th12}{NW18nMBU-4cgubz-1}\nwendcode{}\nwbegindocs{56}\nwdocspar

\begin{proof}[Sub-proof outline]
Assume $G\setminus H\neq\emptyset$. Then there exists some $y\in
G\setminus H$, i.e., $y\in G$ and $y\notin H$. But we've found an
element in $G$ that's not in $H$. So by the extensional notion of set
equality, these are clearly different sets. Thus $H\properSubgroup G$
\end{proof}

\nwenddocs{}\nwbegincode{57}\sublabel{NW18nMBU-dfIXQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-dfIXQ-1}}}\moddef{Sub-proof: $H\properSubgroup G\impliedby G\setminus H\neq\emptyset$~{\nwtagstyle{}\subpageref{NW18nMBU-dfIXQ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-17X1oO-1}}\nwenddeflinemarkup
proof
  assume A1: (the carrier of G) \\ (the carrier of H) is non empty set;
  set GH = UG \\ UH;
  not (GH is empty) by A1;
  then ex x st x in GH by XBOOLE_0:def 1;
  then consider y such that
  A2: y in GH;
  y in UG & not y in UH by A2, XBOOLE_0:def 5;
  then UG <> UH;
  then the multMagma of G <> the multMagma of H;
  hence H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1};
end;
\nwused{\\{NW18nMBU-17X1oO-1}}\nwidentuses{\\{{\nwixident{proper}}{proper}}}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-dfIXQ-1}\nwendcode{}\nwbegindocs{58}\nwdocspar

\begin{registration}
For any nontrivial group $G$, we can call \define{Proper Subgroup} of
$G$ a subgroup which is proper.
\end{registration}

\nwenddocs{}\nwbegincode{59}\sublabel{NW18nMBU-1x35KZ-2}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1x35KZ-2}}}\moddef{Register: proper subgroup for nontrivial groups~{\nwtagstyle{}\subpageref{NW18nMBU-1x35KZ-1}}}\plusendmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-KQsbx-1}}\nwprevnextdefs{NW18nMBU-1x35KZ-1}{\relax}\nwenddeflinemarkup
registration
  let G be non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
  cluster \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} for Subgroup of G;
  existence
  proof
    take (1).G;
    thus (1).G is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1};
  end;
end;
\nwused{\\{NW18nMBU-KQsbx-1}}\nwidentuses{\\{{\nwixident{proper}}{proper}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-1x35KZ-2}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-1x35KZ-2}\nwendcode{}\nwbegindocs{60}\nwdocspar

\begin{registration}
For any nontrivial group $G$ with nontrivial subgroup $H\subgroup G$, we
can call \define{Proper Subgroup} of $H$ a subgroup $K\subgroup H$ which is proper.
\end{registration}

\nwenddocs{}\nwbegincode{61}\sublabel{NW18nMBU-hGa0Z-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-hGa0Z-1}}}\moddef{Register: proper subgroups of nontrivial subgroups~{\nwtagstyle{}\subpageref{NW18nMBU-hGa0Z-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-KQsbx-1}}\nwenddeflinemarkup
reserve G for non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
reserve H for Subgroup of G;

registration
  let G be non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
  let H be non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G;
  cluster \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} for Subgroup of H;
  existence
  proof
    take (1).H;
    thus (1).H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1};
  end;
end;
\nwused{\\{NW18nMBU-KQsbx-1}}\nwidentuses{\\{{\nwixident{proper}}{proper}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-hGa0Z-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-hGa0Z-1}\nwendcode{}\nwbegindocs{62}\nwdocspar

\begin{lemma}
Maximal subgroups are also proper subgroups.
\end{lemma}

The proof is literally, ``Look at the definitions!''

\nwenddocs{}\nwbegincode{63}\sublabel{NW18nMBU-KtuAy-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-KtuAy-1}}}\moddef{Lemma: maximal subgroups are proper~{\nwtagstyle{}\subpageref{NW18nMBU-KtuAy-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-KQsbx-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm1}{NW18nMBU-KtuAy-1}:
  for G being Group
  for H being Subgroup of G
  st H is maximal
  holds H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} by GROUP_4:def 6;
\nwindexdefn{\nwixident{Lm1}}{Lm1}{NW18nMBU-KtuAy-1}\eatline
\nwused{\\{NW18nMBU-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Lm1}}{Lm1}}}\nwidentuses{\\{{\nwixident{proper}}{proper}}}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-KtuAy-1}\nwendcode{}\nwbegindocs{64}\nwdocspar
\begin{registration}
We can now automatically take advantage of the fact that, a maximal
subgroup for a nontrivial group is implicitly a proper subgroup.
\end{registration}

\nwenddocs{}\nwbegincode{65}\sublabel{NW18nMBU-3ZDEGc-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-3ZDEGc-1}}}\moddef{Register: maximal subgroups are proper~{\nwtagstyle{}\subpageref{NW18nMBU-3ZDEGc-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-KQsbx-1}}\nwenddeflinemarkup
registration
  let G be non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
  cluster maximal -> \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} for Subgroup of G;
  coherence by \nwlinkedidentc{Lm1}{NW18nMBU-KtuAy-1};
end;
\nwused{\\{NW18nMBU-KQsbx-1}}\nwidentuses{\\{{\nwixident{Lm1}}{Lm1}}\\{{\nwixident{proper}}{proper}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{Lm1}}{Lm1}{NW18nMBU-3ZDEGc-1}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-3ZDEGc-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-3ZDEGc-1}\nwendcode{}\nwbegindocs{66}\nwdocspar

\begin{theorem}
If $H\properSubgroup K$ is proper and $K\subgroup G$ and $H\neq K$, then
$K$ is a nontrivial group.
\end{theorem}

\begin{proof}[Proof outline]
  Assume for contradiction that $K=\trivialSubgroup$.
  Then combined with $H\properSubgroup K$ and $H\neq K$ implies
  $H=\trivialSubgroup$ and this contradicts $H\properSubgroup K$ proper.
\end{proof}

\nwenddocs{}\nwbegincode{67}\sublabel{NW18nMBU-2DotbH-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-2DotbH-1}}}\moddef{Theorem: $H\properSubgroup K\subgroup G$ and $H\neq K$ implies $K$ is nontrivial~{\nwtagstyle{}\subpageref{NW18nMBU-2DotbH-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-KQsbx-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th14}{NW18nMBU-2DotbH-1}:
  for G being non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group
  for H being \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} Subgroup of G
  for K being Subgroup of G
  st H is Subgroup of K & the multMagma of H <> the multMagma of K
  holds K is non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G
proof
  let G be non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
  let H be \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} Subgroup of G;
  let K be Subgroup of G;
  assume A1: H is Subgroup of K;
  assume A2: the multMagma of H <> the multMagma of K;
  not (K is non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G) implies contradiction
  proof
    assume B1: not K is non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G;
    then K is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G;
    then H is \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G by A1,\nwlinkedidentc{Th11}{NW18nMBU-A6DSQ-1};
    then the multMagma of H = the multMagma of K by B1,\nwlinkedidentc{Th10}{NW18nMBU-4EQBnP-1};
    hence contradiction by A2;
  end;
  hence K is non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Subgroup of G;
end;
\nwindexdefn{\nwixident{Th14}}{Th14}{NW18nMBU-2DotbH-1}\eatline
\nwused{\\{NW18nMBU-KQsbx-1}}\nwidentdefs{\\{{\nwixident{Th14}}{Th14}}}\nwidentuses{\\{{\nwixident{proper}}{proper}}\\{{\nwixident{Th10}}{Th10}}\\{{\nwixident{Th11}}{Th11}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{proper}}{proper}{NW18nMBU-2DotbH-1}\nwindexuse{\nwixident{Th10}}{Th10}{NW18nMBU-2DotbH-1}\nwindexuse{\nwixident{Th11}}{Th11}{NW18nMBU-2DotbH-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW18nMBU-2DotbH-1}\nwendcode{}\nwfilename{nw/characteristic/automorphism.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\section{Automorphisms}
Now, we have a section for defining inner and outer group
automorphisms. A \emph{group automorphism} is just a bijective endomorphism on
a group, and an \emph{endomorphism} is a group morphism whose codomain
is its domain.

Remember (\S\ref{par:characteristic:vocabularies}), although we are
defining new terms {\Tt{}\nwlinkedidentq{Endomorphism}{NW1Nnu7l-1U3x3j-1}\nwendquote} and {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-2qSYW4-1}\nwendquote}, we do not need
to add them to our {\Tt{}DICT/CHAR.VOC\nwendquote} file. Why not? Because the tokens
are already included from \mml{mod4}.

\nwenddocs{}\nwbegincode{1}\sublabel{NW1Nnu7l-1CMOm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1CMOm-1}}}\moddef{Automorphisms of Groups~{\nwtagstyle{}\subpageref{NW1Nnu7l-1CMOm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2TX9wk-1}}\nwenddeflinemarkup
\LA{}Reserve symbols for inner and outer automorphisms~{\nwtagstyle{}\subpageref{NW1Nnu7l-1LL7AC-1}}\RA{}

\LA{}Definition: \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-1U3x3j-1}}\RA{}

\LA{}Reserve: $f$ for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-18sdY2-1}}\RA{}
\LA{}Register \code{}bijective\edoc{} for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-6ndaE-1}}\RA{}

\LA{}Definition: \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-2qSYW4-1}}\RA{}
\LA{}Reserve: $\varphi$ for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-1FGfaH-1}}\RA{}

\LA{}Theorem: Endomorphisms preserve the trivial subgroup~{\nwtagstyle{}\subpageref{NW1Nnu7l-3pJfHu-1}}\RA{}

\LA{}Theorem: Automorphisms map trivial subgroups to themselves~{\nwtagstyle{}\subpageref{NW1Nnu7l-49bqr6-1}}\RA{}

\LA{}Theorem: for $\varphi\in\Aut(G)$ and $H\subgroup G$, we have $\ker(\varphi|H)\subgroup\ker(\varphi)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Q8R0t-1}}\RA{}

\LA{}Lemma: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have monomorphism $\varphi|_{H}$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Beici-1}}\RA{}

\LA{}Theorem: $(\forall\varphi\in\Aut(G),\varphi(H)\subgroup H)\implies\varphi[\varphi^{-1}(H)]\subgroup \varphi(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-g7029-1}}\RA{}

\LA{}Theorem: $\forall\varphi\in\Aut(G), \varphi[\varphi^{-1}(H)]=H$~{\nwtagstyle{}\subpageref{NW1Nnu7l-xUcSR-1}}\RA{}

\LA{}Theorem: $\varphi(H)\subgroup K\implies H\subgroup\varphi^{-1}(K)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-zRHLm-1}}\RA{}

\LA{}Theorem: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have $H\iso\varphi(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3WScXE-1}}\RA{}

\LA{}Theorem: isomorphic subgroups have equal indices~{\nwtagstyle{}\subpageref{NW1Nnu7l-2VpvPR-1}}\RA{}

\LA{}Theorem: Sylow $p$-Subgroups invariant under $\Aut(G)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3PWeZI-1}}\RA{}

\LA{}Theorem: $\varphi\in\Aut(G)$ and $H\subgroup G$ such that $\varphi(H)=H$ implies $\varphi|H\in\Aut(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1QHEJY-1}}\RA{}

\LA{}Theorem: $\varphi\in\Aut(G)$ and $H\properSubgroup G$ implies $\varphi(H)\properSubgroup G$~{\nwtagstyle{}\subpageref{NW1Nnu7l-39h8sj-1}}\RA{}

\LA{}Theorem: Automorphisms map maximal subgroups to maximal subgroups~{\nwtagstyle{}\subpageref{NW1Nnu7l-39Q49p-1}}\RA{}
\nwused{\\{NW18nMBU-2TX9wk-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{reserve}
Note we just used the symbol {\Tt{}G\nwendquote} for a generic group, so we add to
the reserved symbols this association. Most of our theorems will no
longer state ``Let $G$ be a group'', it will be implicitly assumed
unless otherwise stated.

Likewise, we reserve {\Tt{}H\nwendquote} for a subgroup of {\Tt{}G\nwendquote}.
\end{reserve}

\nwenddocs{}\nwbegincode{3}\sublabel{NW1Nnu7l-1LL7AC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1LL7AC-1}}}\moddef{Reserve symbols for inner and outer automorphisms~{\nwtagstyle{}\subpageref{NW1Nnu7l-1LL7AC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
reserve G for Group;
reserve H for Subgroup of G;
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwendcode{}\nwbegindocs{4}\nwdocspar

\begin{definition}\index{Endomorphism|textbf}
Let $G$ be a group. An \define{Endomorphism} of $G$ is a group morphism
$f\colon G\to G$.
\end{definition}

\begin{def-remark}\index{$\End(G)$}
We denote the collection of endomorphisms of $G$ as $\End(G)$.
\end{def-remark}

\begin{def-remark}
Mizar uses the archaic word ``homomorphism'' instead of the more modern
conventional term ``morphism''. I will use the two interchangeably. And,
unless stated otherwise, it is understood these are group morphisms.
\end{def-remark}

\nwenddocs{}\nwbegincode{5}\sublabel{NW1Nnu7l-1U3x3j-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1U3x3j-1}}}\moddef{Definition: \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-1U3x3j-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
definition :: Def2
  let G;
  mode \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G is Homomorphism of G,G;
end;
\nwindexdefn{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-1U3x3j-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwendcode{}\nwbegindocs{6}\nwdocspar
\begin{registration}\label{par:characteristic:register-bijective-for-endomorphism}
We begin by registering the attribute {\Tt{}bijective\nwendquote} for group
endomorphisms. This will effectively create a subtype of {\Tt{}\nwlinkedidentq{Endomorphism}{NW1Nnu7l-1U3x3j-1}\ of\ G\nwendquote},
the aptly named {\Tt{}bijective\ \nwlinkedidentq{Endomorphism}{NW1Nnu7l-1U3x3j-1}\ of\ G\nwendquote}. Most of our work has
been done in Theorem~\mml[Th38]{group6}\MizThm{GROUP\_6}{38}
(which effectively states the function on the underlying set
{\Tt{}id\ (the\ carrier\ of\ G)\nwendquote} is a multiplicative function and so nearly a
group morphism that we can reconsider it as an {\Tt{}\nwlinkedidentq{Endomorphism}{NW1Nnu7l-1U3x3j-1}\nwendquote}), and
the fact that {\Tt{}id\ X\nwendquote} is bijective.
\end{registration}

\nwenddocs{}\nwbegincode{7}\sublabel{NW1Nnu7l-6ndaE-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-6ndaE-1}}}\moddef{Register \code{}bijective\edoc{} for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-6ndaE-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
registration
  let G;
  cluster bijective for \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G;
  existence
  proof
    reconsider i = id the carrier of G as Homomorphism of G,G by GROUP_6:38;
    i is bijective;
    hence thesis;
  end;
end;
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-6ndaE-1}\nwendcode{}\nwbegindocs{8}\nwdocspar

\begin{definition}\index{Automorphism|textbf}\index{Endomorphism}
Let $G$ be a group. We define an \define{Automorphism} of $G$ to be a
bijective endomorphism $f\colon G\to G$. In particular, an inverse
$f^{-1}\colon G\to G$ exists and is a group morphism.
\end{definition}

\begin{def-remark}\index{$\Aut(G)$}
We denote the collection of automorphisms of $G$ as $\Aut(G)$.
\end{def-remark}

\nwenddocs{}\nwbegincode{9}\sublabel{NW1Nnu7l-2qSYW4-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2qSYW4-1}}}\moddef{Definition: \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-2qSYW4-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
definition :: Def3
  let G;
  mode \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G is bijective \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G;
end;
\nwindexdefn{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-2qSYW4-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-2qSYW4-1}\nwendcode{}\nwbegindocs{10}\nwdocspar
\begin{reserve}
  We will henceforth generically use $\varphi$ as an Automorphism of $G$
  unless otherwise stated. This means, for most theorems, we can omit
  explicitly stating, ``For any automorphism $\varphi$ of $G$, \dots'';
  and for most proofs, we can omit the line, ``Let $\varphi$ be an
  Automorphism of $G$''.
\end{reserve}

\nwenddocs{}\nwbegincode{11}\sublabel{NW1Nnu7l-1FGfaH-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1FGfaH-1}}}\moddef{Reserve: $\varphi$ for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-1FGfaH-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
reserve phi for \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-1FGfaH-1}\nwendcode{}\nwbegindocs{12}\nwdocspar

\begin{proposition}
For any automorphism $\varphi\colon G\to G$, its inverse $\varphi^{-1}$
is also an automorphism.
\end{proposition}

This is proven in Theorem~\mml[Th62]{group6}.\MizThm{GROUP\_6}{62} We have, for
example, the following accepted by Mizar:

\begin{mizar}
for G being Group
for phi being Automorphism of G
holds phi" is Automorphism of G by GROUP_6:62;
\end{mizar}

\begin{theorem}\label{thm:characteristic:automorphism:trivial-subgroup-invariant-under-automorphisms}
For any group $G$ and endomorphism $f\in\End(G)$, we have the trivial
subgroup $\trivialSubgroup\subgroup G$ be preserved under $f$; i.e.,
$f(\trivialSubgroup)=\trivialSubgroup$.
\end{theorem}

The proof is simply ``follow your nose''.

\begin{proof}
\emph{Trivial}.
\end{proof}

\nwenddocs{}\nwbegincode{13}\sublabel{NW1Nnu7l-3pJfHu-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3pJfHu-1}}}\moddef{Theorem: Endomorphisms preserve the trivial subgroup~{\nwtagstyle{}\subpageref{NW1Nnu7l-3pJfHu-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th15}{NW1Nnu7l-3pJfHu-1}:
  Image (f|(1).G) = (1).G
proof
  Image(f|(1).G) = f .: ((1).G) by GRSOLV_1:def 3
                .= (1).G by GRSOLV_1:11;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th15}}{Th15}{NW1Nnu7l-3pJfHu-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th15}}{Th15}}}\nwendcode{}\nwbegindocs{14}\nwdocspar
\begin{reserve}
Now we need to tell Mizar that $f$ is an endomorphism of $G$.
\end{reserve}

\nwenddocs{}\nwbegincode{15}\sublabel{NW1Nnu7l-18sdY2-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-18sdY2-1}}}\moddef{Reserve: $f$ for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-18sdY2-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
reserve f for \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G;
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-18sdY2-1}\nwendcode{}\nwbegindocs{16}\nwdocspar

\begin{theorem}
For any automorphism $\varphi\in\Aut(G)$, we have $\varphi(\trivialSubgroup_{G})=\trivialSubgroup_{G}$.
\end{theorem}

\begin{proof}[Proof outline]
If $\phi$ is an automorphism of a group $G$, then
the image of the trivial subgroup under $\phi$ is a subgroup of itself
$\phi(\trivialSubgroup)\subgroup\trivialSubgroup$. We have, from
Theorem~\ref{thm:characteristic:automorphism:trivial-subgroup-invariant-under-automorphisms}, that $\phi(\trivialSubgroup)=\trivialSubgroup$ since
$\phi$ (being an automorphism) is also an endomorphism. And
Theorem~\mml[Th54]{group2}\MizThm{GROUP\_2}{54}
proves that $G$ is a subgroup of itself.
\end{proof}

\nwenddocs{}\nwbegincode{17}\sublabel{NW1Nnu7l-49bqr6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-49bqr6-1}}}\moddef{Theorem: Automorphisms map trivial subgroups to themselves~{\nwtagstyle{}\subpageref{NW1Nnu7l-49bqr6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
:: In particular, the \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} subgroup (1).G of G is invariant
:: under \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} automorphisms, and thus is a \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} subgroup.
theorem \nwlinkedidentc{Th16}{NW1Nnu7l-49bqr6-1}:
  Image(phi|(1).G) is Subgroup of (1).G
proof
  (1).G is Subgroup of (1).G by GROUP_2:54;
  hence Image(phi|(1).G) is Subgroup of (1).G by \nwlinkedidentc{Th15}{NW1Nnu7l-3pJfHu-1};
end;
\nwindexdefn{\nwixident{Th16}}{Th16}{NW1Nnu7l-49bqr6-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th16}}{Th16}}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{proper}}{proper}}\\{{\nwixident{Th15}}{Th15}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW1Nnu7l-49bqr6-1}\nwindexuse{\nwixident{inner}}{inner}{NW1Nnu7l-49bqr6-1}\nwindexuse{\nwixident{proper}}{proper}{NW1Nnu7l-49bqr6-1}\nwindexuse{\nwixident{Th15}}{Th15}{NW1Nnu7l-49bqr6-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW1Nnu7l-49bqr6-1}\nwendcode{}\nwbegindocs{18}\nwdocspar
\begin{lemma}
If $H\subgroup\trivialSubgroup_{G}\subgroup G$, then $H=\trivialSubgroup$.
\end{lemma}

\begin{proof}
Assume $H\subgroup\trivialSubgroup_{G}$. We know
$\trivialSubgroup_{G}\subgroup H$, and taken together, the result follows.
\end{proof}

\nwenddocs{}\nwbegincode{19}\sublabel{NW1Nnu7l-3CeuwY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3CeuwY-1}}}\moddef{Lemma: $H\subgroup G$ and $\trivialSubgroup\subgroup H$ implies $H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3CeuwY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-2Beici-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm2}{NW1Nnu7l-3CeuwY-1}: H is Subgroup of (1).G implies the multMagma of H = the multMagma of (1).G
proof
  assume H is Subgroup of (1).G;
  then H is Subgroup of (1).G & (1).G is Subgroup of H by GROUP_2:65;
  hence thesis by GROUP_2:55;
end;
\nwindexdefn{\nwixident{Lm2}}{Lm2}{NW1Nnu7l-3CeuwY-1}\eatline
\nwused{\\{NW1Nnu7l-2Beici-1}}\nwidentdefs{\\{{\nwixident{Lm2}}{Lm2}}}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{lemma}\label{lemma:characteristic:automorphism:restrict-automorphism-gives-monomorphism}
For any subgroup $H\subgroup G$ and automorphism $\varphi\in\Aut(G)$ of
$G$, we have $\varphi|_{H}\colon H\into\varphi(H)$ be an injective group morphism.
\end{lemma}

\begin{proof}[Proof sketch]
Given a subgroup $H\subgroup G$ and automorphism $\varphi\in\Aut(G)$, we
know $\varphi|_{H}\colon H\to \varphi|_{H}(H)$ is a group morphism.
Since $\varphi$ is an automorphism, it is injective, and in particular
$\ker(\varphi)=\trivialSubgroup_{G}$. Then
$\ker(\varphi|_{H})\subgroup\ker(\varphi)$ and
$\trivialSubgroup_{G}\subgroup\ker(\varphi|_{H})$ implies
$\ker(\varphi|_H)$ is trivial, and thus $\varphi|_{H}$ is injective.
\end{proof}

\nwenddocs{}\nwbegincode{21}\sublabel{NW1Nnu7l-2Beici-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2Beici-1}}}\moddef{Lemma: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have monomorphism $\varphi|_{H}$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Beici-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
\LA{}Lemma: $H\subgroup G$ and $\trivialSubgroup\subgroup H$ implies $H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3CeuwY-1}}\RA{}
\nwlinkedidentc{Lm3}{NW1Nnu7l-2Beici-1}:
(phi|H) is Homomorphism of H,Image(phi|H) & (phi|H) is one-to-one
proof
  thus phi|H is Homomorphism of H,Image(phi|H) by GROUP_6:49;
  Ker(phi) = (1).G by GROUP_6:56;
  then Ker(phi|H) is Subgroup of (1).G by \nwlinkedidentc{Th23}{NW1Nnu7l-2Q8R0t-1};
  then Ker(phi|H) = (1).G by \nwlinkedidentc{Lm2}{NW1Nnu7l-3CeuwY-1}
                 .= (1).H by GROUP_2:63;
  hence (phi|H) is one-to-one by GROUP_6:56;
end;
\nwindexdefn{\nwixident{Lm3}}{Lm3}{NW1Nnu7l-2Beici-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Lm3}}{Lm3}}}\nwidentuses{\\{{\nwixident{Lm2}}{Lm2}}\\{{\nwixident{Th23}}{Th23}}}\nwindexuse{\nwixident{Lm2}}{Lm2}{NW1Nnu7l-2Beici-1}\nwindexuse{\nwixident{Th23}}{Th23}{NW1Nnu7l-2Beici-1}\nwendcode{}\nwbegindocs{22}\nwdocspar
\begin{theorem}\label{thm:characteristic:automorphism:f-fInv-H-is-subgroup-of-H}
Let $H\subgroup G$ be a subgroup such that
$\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$.
Then any automorphism $\varphi$ of $G$ has an inverse which satisfies
$\varphi[\varphi^{-1}(H)]\subgroup\varphi(H)$.
\end{theorem}

\begin{proof}
Let $\psi=\varphi^{-1}\in\Aut(G)$ be an automorphism (which follows from
Theorem~\mml[Th62]{group6}\MizThm{GROUP\_6}{62}). We have
$\psi(H)=\psi|_{H}(H)\subgroup H$ since the image of a morphism is a subgroup of
the codomain. Then $\phi(\psi(H))\subgroup\phi(H)$.
\end{proof}

\nwenddocs{}\nwbegincode{23}\sublabel{NW1Nnu7l-g7029-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-g7029-1}}}\moddef{Theorem: $(\forall\varphi\in\Aut(G),\varphi(H)\subgroup H)\implies\varphi[\varphi^{-1}(H)]\subgroup \varphi(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-g7029-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th17}{NW1Nnu7l-g7029-1}:
  (for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds Image(f|H) is Subgroup of H) implies
  ex psi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  st psi = phi" & Image(phi|Image(psi|H)) is Subgroup of Image(phi|H)
proof
  assume A1: for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds Image(f|H) is Subgroup of H;
  reconsider psi = phi" as \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G by GROUP_6:62;
  take psi;
  thus psi = phi";
  Image(psi|H) is Subgroup of H by A1;
  then phi .: Image(psi|H) is Subgroup of phi .: H by GRSOLV_1:12;
  then Image(phi|Image(psi|H)) is Subgroup of phi .: H by GRSOLV_1:def 3;
  hence Image(phi|Image(psi|H)) is Subgroup of Image(phi|H) by GRSOLV_1:def 3;
end;
\nwindexdefn{\nwixident{Th17}}{Th17}{NW1Nnu7l-g7029-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th17}}{Th17}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-g7029-1}\nwendcode{}\nwbegindocs{24}\nwdocspar
\begin{theorem}\label{thm:characteristic:automorphism:phi-phiInv-H-is-H}
  Let $G$ be a group, and $H\subgroup G$ be a subgroup.
  Then for any automorphism $\varphi\in\Aut(G)$, we have
  $\varphi[\varphi^{-1}(H)]=H$.
\end{theorem}

This is an obvious result which is usually taken for granted.

\begin{proof}[Proof outline]
Let $\psi=\varphi^{-1}\in\Aut(G)$ (which follows from
Theorem~\mml[Th62]{group6}\MizThm{GROUP\_6}{62}). Then we establish any
group element $g$ is a member of $\varphi(\psi(H))$ if and only if $g$
is a member of $H$.
The result then follows that they are equal as groups using Theorem~\mml[Th60]{group2}\MizThm{GROUP\_2}{60}.
\end{proof}

\nwenddocs{}\nwbegincode{25}\sublabel{NW1Nnu7l-xUcSR-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-xUcSR-1}}}\moddef{Theorem: $\forall\varphi\in\Aut(G), \varphi[\varphi^{-1}(H)]=H$~{\nwtagstyle{}\subpageref{NW1Nnu7l-xUcSR-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th18}{NW1Nnu7l-xUcSR-1}:
  ex psi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  st psi = phi" & the multMagma of Image(phi|Image(psi|H)) = the multMagma of H
proof
  reconsider psi = phi" as \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G by GROUP_6:62;
  take psi;
  thus psi = phi";
  for g being Element of G holds g in Image(phi|Image(psi|H)) iff g in H
  \LA{}Proof: $\forall g\in G$, $g\in\varphi[\varphi^{-1}(H)]\iff g\in H$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1ZaFZM-1}}\RA{}
  hence the multMagma of Image(phi|Image(psi|H)) = the multMagma of H by GROUP_2:60;
end;
\nwindexdefn{\nwixident{Th18}}{Th18}{NW1Nnu7l-xUcSR-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th18}}{Th18}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-xUcSR-1}\nwendcode{}\nwbegindocs{26}\nwdocspar
\begin{proof}[{Sub-proof ($\forall g\in G, g\in\varphi[\varphi^{-1}(H)]\implies g\in H$)}.]
The bones of the proof for this claim amounts to unfolding the
logical structure of the claim.
\end{proof}

\nwenddocs{}\nwbegincode{27}\sublabel{NW1Nnu7l-1ZaFZM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1ZaFZM-1}}}\moddef{Proof: $\forall g\in G$, $g\in\varphi[\varphi^{-1}(H)]\iff g\in H$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1ZaFZM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-xUcSR-1}}\nwenddeflinemarkup
proof
  let g be Element of G;
  thus g in Image(phi|Image(psi|H)) implies g in H
  \LA{}Step 1: $g\in\varphi[\varphi^{-1}(H)]\implies g\in H$~{\nwtagstyle{}\subpageref{NW1Nnu7l-47FJLD-1}}\RA{}

  thus g in H implies g in Image(phi|Image(psi|H))
  \LA{}Step 2: $g\in\varphi[\varphi^{-1}(H)]\impliedby g\in H$~{\nwtagstyle{}\subpageref{NW1Nnu7l-WRyHP-1}}\RA{}
  thus thesis;
end;
\nwused{\\{NW1Nnu7l-xUcSR-1}}\nwendcode{}\nwbegindocs{28}\nwdocspar

\begin{proof}[{Proof step 1 ($g\in\varphi[\varphi^{-1}(H)]\implies g\in H$)}.]
We begin by showing, if $g\in\varphi[\varphi^{-1}(H)]$, then there is
some {\Tt{}M1:\nwendquote} $a\in\varphi^{-1}(H)$ such that {\Tt{}B2:\nwendquote} $g=\varphi(a)$. And
then we have, by the same line of reasoning applied to $a$, there is
some {\Tt{}M2:\nwendquote} $b\in H$ such that {\Tt{}B3:\nwendquote} $\varphi^{-1}|_{H}(b)=a$. It
follows that $g = \varphi(\varphi^{-1}(b))$, and by Theorem~\ref{thm:characteristic:preparatory:f-finv-y-is-y} we have
$g = b$ which proves the claim.
\end{proof}

\nwenddocs{}\nwbegincode{29}\sublabel{NW1Nnu7l-47FJLD-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-47FJLD-1}}}\moddef{Step 1: $g\in\varphi[\varphi^{-1}(H)]\implies g\in H$~{\nwtagstyle{}\subpageref{NW1Nnu7l-47FJLD-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1ZaFZM-1}}\nwenddeflinemarkup
proof
  assume g in Image(phi|Image(psi|H));
  \LA{}$\exists a\in\varphi^{-1}(H),g=\varphi(a)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-41Hbi6-1}}\RA{}
  \LA{}$\exists b\in H, a = \varphi^{-1}(b)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2rS80d-1}}\RA{}
  then b = phi.(psi.b) by \nwlinkedidentc{Th6}{NW18nMBU-1Brdpy-1}
        .= phi.((psi|H).b) by M2,\nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1}
        .= phi.a by B3
        .= g by B2;
  hence g in H;
end;
\nwused{\\{NW1Nnu7l-1ZaFZM-1}}\nwidentuses{\\{{\nwixident{Th2}}{Th2}}\\{{\nwixident{Th6}}{Th6}}}\nwindexuse{\nwixident{Th2}}{Th2}{NW1Nnu7l-47FJLD-1}\nwindexuse{\nwixident{Th6}}{Th6}{NW1Nnu7l-47FJLD-1}\nwendcode{}\nwbegindocs{30}\nwdocspar

\begin{proof}[Proof sub-step 1]
Showing $a\in\varphi^{-1}(H)$ and $g=\varphi(a)$ follow from basic results.
\end{proof}

\nwenddocs{}\nwbegincode{31}\sublabel{NW1Nnu7l-41Hbi6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-41Hbi6-1}}}\moddef{$\exists a\in\varphi^{-1}(H),g=\varphi(a)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-41Hbi6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-47FJLD-1}}\nwenddeflinemarkup
then consider a being Element of Image(psi|H) such that
B1: g = (phi|Image(psi|H)).a by GROUP_6:45;
M1: a in Image(psi|H) & a is Element of G by GROUP_2:42;
then B2: phi.a = g by B1, \nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1};
\nwused{\\{NW1Nnu7l-47FJLD-1}}\nwidentuses{\\{{\nwixident{Th2}}{Th2}}}\nwindexuse{\nwixident{Th2}}{Th2}{NW1Nnu7l-41Hbi6-1}\nwendcode{}\nwbegindocs{32}\nwdocspar

\begin{proof}[Proof sub-step 2]
Almost the same reasoning applies to $b\in H$ satisfying
$a=\varphi^{-1}(b)$.
\end{proof}

\nwenddocs{}\nwbegincode{33}\sublabel{NW1Nnu7l-2rS80d-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2rS80d-1}}}\moddef{$\exists b\in H, a = \varphi^{-1}(b)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2rS80d-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-47FJLD-1}}\nwenddeflinemarkup
consider b being Element of H such that
B3: a = (psi|H).b
by M1,GROUP_6:45;
M2: b in H & b is Element of G by GROUP_2:42;
\nwused{\\{NW1Nnu7l-47FJLD-1}}\nwendcode{}\nwbegindocs{34}\nwdocspar

\begin{proof}[{Proof step 2 ($g\in\varphi[\varphi^{-1}(H)]\impliedby g\in H$)}.]
To prove $g\in H$ implies $g\in\varphi[\varphi^{-1}(H)]$, we simply
let $K=\varphi^{-1}(H)$ and show $a = \varphi^{-1}|_{H}(g)\in K$ and
then show $b=\varphi|_{K}(a)\in\varphi[K]=\varphi[\varphi^{-1}(H)]$. Then
we have $b=\varphi(\varphi^{-1}(g))=g$ due to $\varphi$ being bijective.
The result follows.
\end{proof}

\nwenddocs{}\nwbegincode{35}\sublabel{NW1Nnu7l-WRyHP-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-WRyHP-1}}}\moddef{Step 2: $g\in\varphi[\varphi^{-1}(H)]\impliedby g\in H$~{\nwtagstyle{}\subpageref{NW1Nnu7l-WRyHP-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1ZaFZM-1}}\nwenddeflinemarkup
proof
  assume B1: g in H;
  set a = (psi|H).g;
  B2: a in Image(psi|H)
  \LA{}Sub-step 1: $a\in\varphi^{-1}(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3vZPH1-1}}\RA{}

  set K = Image(psi|H);
  set b = (phi|Image(psi|H)).a;

  B3: b in Image(phi|Image(psi|H))
  \LA{}Sub-step 2: $b\in\varphi[\varphi^{-1}(H)]$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2IWBBW-1}}\RA{}
  thus g in Image(phi|K)
  \LA{}Sub-step 3: $g\in\varphi[\varphi^{-1}(H)]$~{\nwtagstyle{}\subpageref{NW1Nnu7l-kMqjk-1}}\RA{}
end;
\nwused{\\{NW1Nnu7l-1ZaFZM-1}}\nwendcode{}\nwbegindocs{36}\nwdocspar

\begin{proof}[Proof sub-step 1 ($a\in\varphi^{-1}(H)$).]
The first step follows by unfolding definitions.
\end{proof}


\nwenddocs{}\nwbegincode{37}\sublabel{NW1Nnu7l-3vZPH1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3vZPH1-1}}}\moddef{Sub-step 1: $a\in\varphi^{-1}(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3vZPH1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-WRyHP-1}}\nwenddeflinemarkup
proof
  dom(psi|H) = the carrier of H by FUNCT_2:def 1;
  then g in dom(psi|H) by B1;
  then (psi|H).g in (psi|H) .: (the carrier of H) by FUNCT_1:def 6;
  then (psi|H).g in the carrier of Image(psi|H) by GROUP_6:def 10;
  then (psi|H).g in Image(psi|H);
  hence a in Image(psi|H);
end;
\nwused{\\{NW1Nnu7l-WRyHP-1}}\nwendcode{}\nwbegindocs{38}\nwdocspar

\begin{proof}[{Proof sub-step 2 ($b\in\varphi[\varphi^{-1}(H)]$)}.]
The next step, like the first, follows from definitions.
\end{proof}

\nwenddocs{}\nwbegincode{39}\sublabel{NW1Nnu7l-2IWBBW-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2IWBBW-1}}}\moddef{Sub-step 2: $b\in\varphi[\varphi^{-1}(H)]$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2IWBBW-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-WRyHP-1}}\nwenddeflinemarkup
proof
  dom(phi|K) = the carrier of K by FUNCT_2:def 1;
  then a in dom(phi|K) by B2;
  then (phi|K).a in (phi|K) .: (the carrier of K) by FUNCT_1:def 6;
  then (phi|K).a in the carrier of Image(phi|K) by GROUP_6:def 10;
  then (phi|K).a in Image(phi|K);
  hence b in Image(phi|K);
end;
\nwused{\\{NW1Nnu7l-WRyHP-1}}\nwendcode{}\nwbegindocs{40}\nwdocspar

\begin{proof}[{Proof sub-step 3 ($g\in\varphi[\varphi^{-1}(H)]$)}.]
The last step is a little more involved, because it requires
recalling $\varphi|_{k}(k)=\varphi(k)$ for $k\in K$, and
$\varphi^{-1}|_{H}(h)=\varphi^{-1}(h)$ for $h\in H$. We can then combine
these deductions to show $b=\varphi(\varphi^{-1}(g))$ which proves the claim.
\end{proof}

\nwenddocs{}\nwbegincode{41}\sublabel{NW1Nnu7l-kMqjk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-kMqjk-1}}}\moddef{Sub-step 3: $g\in\varphi[\varphi^{-1}(H)]$~{\nwtagstyle{}\subpageref{NW1Nnu7l-kMqjk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-WRyHP-1}}\nwenddeflinemarkup
proof
  H is Subgroup of G & g in H & g is Element of G by B1;
  then B4: psi.g = (psi|H).g by \nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1}
                .= a;
  B5: a is Element of K & K is Subgroup of G & a in K & phi is
  Homomorphism of G,G by B2;
  then a is Element of G by GROUP_2:42;
  then B6: (phi|K).a =  phi.a  by B5,\nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1}
                    .= phi.(psi.g) by B4
                    .= phi.((phi").g)
                    .= g by \nwlinkedidentc{Th6}{NW18nMBU-1Brdpy-1};
  b = (phi|K).((psi|H).g)
   .= g by B6;
  hence thesis by B3;
end;
\nwused{\\{NW1Nnu7l-WRyHP-1}}\nwidentuses{\\{{\nwixident{Th2}}{Th2}}\\{{\nwixident{Th6}}{Th6}}}\nwindexuse{\nwixident{Th2}}{Th2}{NW1Nnu7l-kMqjk-1}\nwindexuse{\nwixident{Th6}}{Th6}{NW1Nnu7l-kMqjk-1}\nwendcode{}\nwbegindocs{42}\nwdocspar

\begin{theorem}
Let $H\subgroup G$ and $K\subgroup G$ be subgroups, let $\varphi\in\Aut(G)$
be an automorphism of G. If $\varphi(H)\subgroup K$, then $H\subgroup\varphi^{-1}(K)$.
\end{theorem}


\begin{proof}[Proof sketch]
The argument basically applies Theorem~\ref{thm:characteristic:automorphism:phi-phiInv-H-is-H} to $\varphi^{-1}$, then unfolds
definitions.
\end{proof}

\begin{thm-remark}
I need to work on my numbering scheme\dots
\end{thm-remark}

\nwenddocs{}\nwbegincode{43}\sublabel{NW1Nnu7l-zRHLm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-zRHLm-1}}}\moddef{Theorem: $\varphi(H)\subgroup K\implies H\subgroup\varphi^{-1}(K)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-zRHLm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th19}{NW1Nnu7l-zRHLm-1}:
  for H being strict Subgroup of G
  for K being Subgroup of G
  st Image(phi|H) is Subgroup of K
  holds ex psi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  st psi = phi" & H is Subgroup of Image(psi|K)
proof
  let H be strict Subgroup of G;
  let K be Subgroup of G;
  assume A1: Image(phi|H) is Subgroup of K;
  reconsider psi = phi" as \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G by GROUP_6:62;
  take psi;
  thus psi = phi";
  A2: psi" = phi by \nwlinkedidentc{Th5}{NW18nMBU-l92FA-1};
  consider phi0 being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G such that
  A3: phi0 = psi" and
  A4: the multMagma of Image(psi|Image(phi0|H)) = the multMagma of H
  by \nwlinkedidentc{Th18}{NW1Nnu7l-xUcSR-1};
  phi = phi0 by A2,A3;
  then A5: Image(psi|Image(phi|H)) = H by A4;
  psi .: Image(phi|H) is Subgroup of psi .: K by A1,GRSOLV_1:12;
  then Image(psi|Image(phi|H)) is Subgroup of psi .: K by GRSOLV_1:def 3;
  then Image(psi|Image(phi|H)) is Subgroup of Image(psi|K) by GRSOLV_1:def 3;
  hence H is Subgroup of Image(psi|K) by A5;
end;
\nwindexdefn{\nwixident{Th19}}{Th19}{NW1Nnu7l-zRHLm-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th19}}{Th19}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th18}}{Th18}}\\{{\nwixident{Th5}}{Th5}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-zRHLm-1}\nwindexuse{\nwixident{Th18}}{Th18}{NW1Nnu7l-zRHLm-1}\nwindexuse{\nwixident{Th5}}{Th5}{NW1Nnu7l-zRHLm-1}\nwendcode{}\nwbegindocs{44}\nwdocspar
\begin{theorem}
Let $G$ be a group, $H\subgroup G$ be any subgroup, and
$\varphi\in\Aut(G)$ be any automorphism. Then the image of $H$ under
$\varphi$ is isomorphic to $H$ itself, i.e., $H\iso\varphi(H)$.
\end{theorem}

\begin{proof}[Proof outline]
Let $H_{2}=\varphi(H)$ be a subgroup of $G$. We know $\varphi|_{H}$ is
injective by Lemma~\ref{lemma:characteristic:automorphism:restrict-automorphism-gives-monomorphism}. This gives us our result.
\end{proof}

\nwenddocs{}\nwbegincode{45}\sublabel{NW1Nnu7l-3WScXE-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3WScXE-1}}}\moddef{Theorem: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have $H\iso\varphi(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3WScXE-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th20}{NW1Nnu7l-3WScXE-1}:
  H,phi .: H are_isomorphic
proof
  reconsider H2 = phi .: H as Subgroup of G;
  phi|H is one-to-one by \nwlinkedidentc{Lm3}{NW1Nnu7l-2Beici-1};
  then H,Image(phi|H) are_isomorphic by GROUP_6:68;
  hence H,phi .: H are_isomorphic by GRSOLV_1:def 3;
end;
\nwindexdefn{\nwixident{Th20}}{Th20}{NW1Nnu7l-3WScXE-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th20}}{Th20}}}\nwidentuses{\\{{\nwixident{Lm3}}{Lm3}}}\nwindexuse{\nwixident{Lm3}}{Lm3}{NW1Nnu7l-3WScXE-1}\nwendcode{}\nwbegindocs{46}\nwdocspar
\begin{theorem}
Let $H_{1}\subgroup G$ and $H_{2}\subgroup G$ be isomorphic
subgroups. Suppose $G$ is a finite group. Then $\Index{G}{H_{1}}=\Index{G}{H_{2}}$.
\end{theorem}

\nwenddocs{}\nwbegincode{47}\sublabel{NW1Nnu7l-2VpvPR-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2VpvPR-1}}}\moddef{Theorem: isomorphic subgroups have equal indices~{\nwtagstyle{}\subpageref{NW1Nnu7l-2VpvPR-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th21}{NW1Nnu7l-2VpvPR-1}:
  for G being finite Group
  for H1,H2 being strict Subgroup of G
  st H1,H2 are_isomorphic
  holds index H1 = index H2
proof
  let G be finite Group;
  let H1,H2 be strict Subgroup of G;
  assume H1,H2 are_isomorphic;
  then A1: card H1 = card H2 by GROUP_6:73;
  card H1 * index H1 = card G by GROUP_2:147
                    .= card H2 * index H2 by GROUP_2:147;
  then index H1 * card H1 = index H2 * card H1 by A1;
  hence index H1 = index H2 by XCMPLX_1:5;
end;
\nwindexdefn{\nwixident{Th21}}{Th21}{NW1Nnu7l-2VpvPR-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th21}}{Th21}}}\nwendcode{}\nwbegindocs{48}\nwdocspar
\begin{theorem}
Let $G$ be a finite group, $p\in\NN$ be prime. If $\varphi\in\Aut(G)$ is
an automorphism and $P\subgroup G$ is a Sylow $p$-subgroup, then
$\varphi(P)$ is a Sylow $p$-subgroup.
\end{theorem}

\nwenddocs{}\nwbegincode{49}\sublabel{NW1Nnu7l-3PWeZI-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3PWeZI-1}}}\moddef{Theorem: Sylow $p$-Subgroups invariant under $\Aut(G)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3PWeZI-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th22}{NW1Nnu7l-3PWeZI-1}:
  G is finite implies
  for p being prime Nat
  for P being strict Subgroup of G
  st P is_Sylow_p-subgroup_of_prime p
  holds Image(phi|P) is_Sylow_p-subgroup_of_prime p
proof
  assume A0: G is finite;
  let p be prime Nat;
  let P be strict Subgroup of G;
  assume A1: P is_Sylow_p-subgroup_of_prime p;
  then A2: P is p-group by GROUP_10:def 18;
  set Q = (phi .: P);
  A3: P,Q are_isomorphic by \nwlinkedidentc{Th20}{NW1Nnu7l-3WScXE-1};
  then A4: card P = card Q by GROUP_6:75;
  consider r being Nat such that
  A5: card P = p |^ r
  by A2,GROUP_10:def 17;
  card Q = p |^ r by A4,A5;
  then A6: Q is p-group by GROUP_10:def 17;
  A7: index P = index Q by A0,A3,\nwlinkedidentc{Th21}{NW1Nnu7l-2VpvPR-1};
  A8: Q = Image(phi|P) by GRSOLV_1:def 3;
  not p divides index P by A1, GROUP_10:def 18;
  then not p divides index Q by A7;
  hence Image(phi|P) is_Sylow_p-subgroup_of_prime p by A6, A8, GROUP_10:def 18;
end;
\nwindexdefn{\nwixident{Th22}}{Th22}{NW1Nnu7l-3PWeZI-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th22}}{Th22}}}\nwidentuses{\\{{\nwixident{Th20}}{Th20}}\\{{\nwixident{Th21}}{Th21}}}\nwindexuse{\nwixident{Th20}}{Th20}{NW1Nnu7l-3PWeZI-1}\nwindexuse{\nwixident{Th21}}{Th21}{NW1Nnu7l-3PWeZI-1}\nwendcode{}\nwbegindocs{50}\nwdocspar
\begin{theorem}
Let $G$ be a group, $H\subgroup G$ any subgroup, and $\varphi\in\aut(G)$
any automorphism.
Then $\ker(\varphi|H)\subgroup\ker(\varphi)$.
\end{theorem}

\begin{proof}[Proof outline]
  We begin by recognizing $\ker(\varphi|_{H})\subgroup G_{1}$ and
  $\ker(\varphi)\subgroup G_{1}$. Then any $g\in G$ such that
  $g\in\ker(\varphi|_{H})$ is also a member of $\ker(\varphi)$. The
  result follows.
\end{proof}

\nwenddocs{}\nwbegincode{51}\sublabel{NW1Nnu7l-2Q8R0t-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2Q8R0t-1}}}\moddef{Theorem: for $\varphi\in\Aut(G)$ and $H\subgroup G$, we have $\ker(\varphi|H)\subgroup\ker(\varphi)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Q8R0t-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th23}{NW1Nnu7l-2Q8R0t-1}:
  for G1,G2 being Group
  for f being Homomorphism of G1,G2
  for H being Subgroup of G1
  holds Ker(f|H) is Subgroup of Ker(f)
proof
  let G1,G2 be Group;
  let f be Homomorphism of G1,G2;
  let H be Subgroup of G1;
  A1: Ker(f|H) is Subgroup of G1 by GROUP_2:56;
  for g being Element of G1
  st g in Ker(f|H)
  holds g in Ker(f)
  \LA{}Proof: $\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1MwKaZ-1}}\RA{}
  then Ker(f|H) is Subgroup of Ker(f) by A1,GROUP_2:58;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th23}}{Th23}{NW1Nnu7l-2Q8R0t-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th23}}{Th23}}}\nwendcode{}\nwbegindocs{52}\nwdocspar
\begin{proof}[Sub-proof ($\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$).]
Any $g\in\ker(\varphi|_{H})$ is defined to be $\varphi|_{H}(g)=1_{G_{2}}$.
But $\varphi|_{H}(g)=\varphi(g)$ by Theorem~\ref{thm:characteristic:preparatory:restrict-group-morphism-to-subgroups}. So we have
$\varphi(g)=1_{G_{2}}$, which implies $g\in\ker(\varphi)$ by Theorem~\mml[Th41]{group6}.\MizThm{GROUP\_6}{41}
\end{proof}

\nwenddocs{}\nwbegincode{53}\sublabel{NW1Nnu7l-1MwKaZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1MwKaZ-1}}}\moddef{Proof: $\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1MwKaZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-2Q8R0t-1}}\nwenddeflinemarkup
proof
  let g be Element of G1;
  assume A2: g in Ker(f|H);
  Ker(f|H) is Subgroup of H;
  then A3: g in H by A2, \nwlinkedidentc{LmSubgroupEltTrans}{NW18nMBU-q3KUi-1};
  then A4: (f|H).g = f.g by \nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1};
  g is Element of H by A3;
  then 1_G2 = f.g by A2,A4,GROUP_6:41;
  hence g in Ker(f) by GROUP_6:41;
end;
\nwused{\\{NW1Nnu7l-2Q8R0t-1}}\nwidentuses{\\{{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}}\\{{\nwixident{Th2}}{Th2}}}\nwindexuse{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}{NW1Nnu7l-1MwKaZ-1}\nwindexuse{\nwixident{Th2}}{Th2}{NW1Nnu7l-1MwKaZ-1}\nwendcode{}\nwbegindocs{54}\nwdocspar

\begin{theorem}\label{thm:characteristic:automorphism:automorphism-which-leaves-subgroup-invariant-is-automorphism-of-subgroup}
  Let $H\subgroup G$ be any subgroup.
  If $\varphi\in\Aut(G)$ is an automorphism such that $\varphi(H)=H$ it
  leaves $H$ invariant, then its restriction to $H$ is an automorphism
  $\varphi|_{H}\in\Aut(H)$.
\end{theorem}

This result isn't surprising, but proving surjectivity was surprisingly
(and agonizingly) hard.

\begin{proof}[Proof outline]
  We have for any $\varphi\in\Aut(G)$ such that
  \begin{equation*}
    \tag{$A_{1}$} \varphi|_{H}(H)=H
  \end{equation*}
  be a morphism $\varphi|_{H}\colon H\to H$ by Theorem~\mml[Th49]{group6}%
\MizThm{GROUP\_6}{49}. This is our first claim $C_{1}$.
  Our next claim $C_{2}$ is that $\varphi|_{H}$ is injective by Lemma~\ref{lemma:characteristic:automorphism:restrict-automorphism-gives-monomorphism}
  and hypothesis $A_{1}$.

  The nontrivial part of the proof is establishing $\varphi|_{H}$ is
  surjective. Once established, it follows $\varphi|_{H}$ is bijective
  and thus an automorphism.
\end{proof}

\nwenddocs{}\nwbegincode{55}\sublabel{NW1Nnu7l-1QHEJY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1QHEJY-1}}}\moddef{Theorem: $\varphi\in\Aut(G)$ and $H\subgroup G$ such that $\varphi(H)=H$ implies $\varphi|H\in\Aut(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1QHEJY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th24}{NW1Nnu7l-1QHEJY-1}:
  for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  st Image(f|H) = H
  holds f|H is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of H
proof
  let f be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  assume A1: Image(f|H) = H;
  then C1: f|H is Homomorphism of H,H by GROUP_6:49;
  C2: f|H is one-to-one by \nwlinkedidentc{Lm3}{NW1Nnu7l-2Beici-1};

  f|H is onto \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of H
  \LA{}Proof: $\varphi|_{H}$ is surjective~{\nwtagstyle{}\subpageref{NW1Nnu7l-41Pxbq-1}}\RA{}
  then f|H is bijective Homomorphism of H,H by C2;
  then f|H is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of H;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th24}}{Th24}{NW1Nnu7l-1QHEJY-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th24}}{Th24}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Endomorphism}}{Endomorphism}}\\{{\nwixident{Lm3}}{Lm3}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-1QHEJY-1}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-1QHEJY-1}\nwindexuse{\nwixident{Lm3}}{Lm3}{NW1Nnu7l-1QHEJY-1}\nwendcode{}\nwbegindocs{56}\nwdocspar
\begin{proof}[Proof sketch (Surjectivity)]
For reasons I do not adequately understand, I could not simply handle
{\Tt{}f|H\nwendquote} as a {\Tt{}Homomorphism\ of\ H,H\nwendquote} (despite having established this
fact).

I could not use any theorem concerning surjectivity of group morphisms,
so I just ``forgot'' it was a morphism, proved surjectivity, then
``remembered'' it was a group morphism after all.
\end{proof}

\begin{thm-remark}
I am starting to think that the claim {\Tt{}f\ is\ onto\nwendquote} is different than
{\Tt{}f\ is\ onto\ Homomorphism\ of\ G1,G2\nwendquote}.
\end{thm-remark}

\nwenddocs{}\nwbegincode{57}\sublabel{NW1Nnu7l-41Pxbq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-41Pxbq-1}}}\moddef{Proof: $\varphi|_{H}$ is surjective~{\nwtagstyle{}\subpageref{NW1Nnu7l-41Pxbq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1QHEJY-1}}\nwenddeflinemarkup
proof
  set UH = the carrier of H;
  f|H is Function of UH,UH & rng(f|H) = the carrier of H by C1, GROUP_6:44, A1;
  then f|H is onto Function of UH,UH by FUNCT_2:def 3;
  then f|H is onto Homomorphism of H,H by C1;
  hence thesis;
end;
\nwused{\\{NW1Nnu7l-1QHEJY-1}}\nwendcode{}\nwbegindocs{58}\nwdocspar

\begin{theorem}
Let $H\properSubgroup G$ be a proper subgroup. Then its image under any
automorphism $\varphi\in\Aut(G)$ is another proper subgroup
$\varphi(H)\properSubgroup G$.
\end{theorem}

\nwenddocs{}\nwbegincode{59}\sublabel{NW1Nnu7l-39h8sj-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-39h8sj-1}}}\moddef{Theorem: $\varphi\in\Aut(G)$ and $H\properSubgroup G$ implies $\varphi(H)\properSubgroup G$~{\nwtagstyle{}\subpageref{NW1Nnu7l-39h8sj-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th25}{NW1Nnu7l-39h8sj-1}:
  for G being non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group
  for H being Subgroup of G
  for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  st H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} Subgroup of G
  holds Image(phi|H) is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} Subgroup of G
proof
  let G be non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
  let H be Subgroup of G;
  let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  set UH = the carrier of H;
  set UG = the carrier of G;
  A1: phi is one-to-one & phi is onto & UH is non empty Subset of UG &
      phi is Function of UG,UG by GROUP_2:def 5;
  assume H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} Subgroup of G;
  then UG \\ UH is non empty by \nwlinkedidentc{Th13}{NW18nMBU-17X1oO-1};
  then consider x such that
  A2: x in UG \\ UH by XBOOLE_0:def 1;
  A3: x in G & not x in H by A2,XBOOLE_0:def 5;
  A4: \LA{}$\varphi(x)\notin\varphi(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-476s7N-1}}\RA{}
  \LA{}$\varphi(x)\in G$~{\nwtagstyle{}\subpageref{NW1Nnu7l-4JfXI9-1}}\RA{}
  then ex y being Element of G st not y in phi .: H by A4;
  then phi .: H is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1};
  hence Image(phi|H) is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} Subgroup of G by GRSOLV_1:def 3;
end;
\nwindexdefn{\nwixident{Th25}}{Th25}{NW1Nnu7l-39h8sj-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th25}}{Th25}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{proper}}{proper}}\\{{\nwixident{Th13}}{Th13}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-39h8sj-1}\nwindexuse{\nwixident{proper}}{proper}{NW1Nnu7l-39h8sj-1}\nwindexuse{\nwixident{Th13}}{Th13}{NW1Nnu7l-39h8sj-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW1Nnu7l-39h8sj-1}\nwendcode{}\nwbegindocs{60}\nwdocspar
\begin{proof}[Proof step ($\varphi(x)\notin\varphi(H)$)]
Since $x\in G$ and $x\notin H$, it follows that $\varphi(x)\notin\varphi(H)$
thanks to Theorem~\ref{thm:characteristic:preparatory:x-notin-A-implies-fx-notin-fA}.
We also need an extra step since $\varphi$ is considered first as a
function on the underlying set $U(H)$ of $H$, then we need to remember
that this is the same as $\varphi$ applied to the subgroup $H$.
\end{proof}
\nwenddocs{}\nwbegincode{61}\sublabel{NW1Nnu7l-476s7N-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-476s7N-1}}}\moddef{$\varphi(x)\notin\varphi(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-476s7N-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-39h8sj-1}}\nwenddeflinemarkup
not (phi.x in phi .: H)
proof
  not (phi.x in (phi .: UH)) by A1, A3, \nwlinkedidentc{Th7}{NW18nMBU-17dzpg-1};
  hence not (phi.x in (phi .: H)) by GRSOLV_1:8;
end;
\nwused{\\{NW1Nnu7l-39h8sj-1}}\nwidentuses{\\{{\nwixident{Th7}}{Th7}}}\nwindexuse{\nwixident{Th7}}{Th7}{NW1Nnu7l-476s7N-1}\nwendcode{}\nwbegindocs{62}\nwdocspar

\begin{proof}[Proof step ($\varphi(x)\in G)$.]
We need to make explicit that $\varphi(x)$ is not just ``some object'',
but an element of the group $G$. This follows from the fact $\varphi(x)$
is in the range of $\varphi$ by definition of the range of a function
(i.e., \mml[def3]{funct1}\MizDef{FUNCT\_1}[03]{3}). Since $\varphi$ is
an automorphism, in particular surjective, it follows that the set
underlying $\varphi(G)$ is the set underlying $G$, i.e., $U(G)$.
Then $\varphi(x)\in G$.
\end{proof}

\nwenddocs{}\nwbegincode{63}\sublabel{NW1Nnu7l-4JfXI9-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-4JfXI9-1}}}\moddef{$\varphi(x)\in G$~{\nwtagstyle{}\subpageref{NW1Nnu7l-4JfXI9-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-39h8sj-1}}\nwenddeflinemarkup
phi.x is Element of G
proof
  dom phi = UG & rng phi = UG by A1, FUNCT_2:def 1;
  then phi.x in UG by A3, FUNCT_1:def 3;
  hence phi.x is Element of G;
end;
\nwused{\\{NW1Nnu7l-39h8sj-1}}\nwendcode{}\nwbegindocs{64}\nwdocspar

\begin{theorem}\label{thm:characteristic:automorphism:image-of-maximal-subgroup-under-automorphism-is-maximal}
  Let $G$ be a group, $\varphi\in\Aut(G)$ an arbitrary automorphism.
  If $H\properSubgroup G$ is a maximal subgroup, then
  $\varphi(H)\properSubgroup G$ is also maximal.
\end{theorem}

\begin{proof}[Proof outline]
  Since $H\properSubgroup G$ is maximal, if $\varphi(H)$ were not
  maximal, there would be a subgroup $K\properSubgroup G$ such that
  $\varphi(H)\properSubgroup K$. In that case, $\varphi^{-1}(K)=L$ would
  be a proper subgroup which contains $H$ as a proper subgroup, which is
  impossible. Thus $\varphi(H)$ must be maximal.
\end{proof}

\nwenddocs{}\nwbegincode{65}\sublabel{NW1Nnu7l-39Q49p-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-39Q49p-1}}}\moddef{Theorem: Automorphisms map maximal subgroups to maximal subgroups~{\nwtagstyle{}\subpageref{NW1Nnu7l-39Q49p-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1CMOm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th26}{NW1Nnu7l-39Q49p-1}:
  for G being non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group
  for H being strict Subgroup of G
  for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  st H is maximal
  holds Image(phi|H) is maximal
proof
  let G be non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
  let H be strict Subgroup of G;
  let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  assume A1: H is maximal;
  A2: Image(phi|H) is \nwlinkedidentc{proper}{NW18nMBU-RKCxZ-1} Subgroup of G by A1,\nwlinkedidentc{Th25}{NW1Nnu7l-39h8sj-1};
  then P1: the multMagma of Image(phi|H) <> the multMagma of G by Def1;
  set UG = the carrier of G;
  set UH = the carrier of H;
  P2: for K being strict Subgroup of G
  st Image(phi|H) <> K & Image(phi|H) is Subgroup of K
  holds K = the multMagma of G
  \LA{}Proof: $H$ is maximal implies $K=G$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2sFwyR-1}}\RA{}
  thus Image(phi|H) is maximal by P1,P2,GROUP_4:def 6;
end;
\nwindexdefn{\nwixident{Th26}}{Th26}{NW1Nnu7l-39Q49p-1}\eatline
\nwused{\\{NW1Nnu7l-1CMOm-1}}\nwidentdefs{\\{{\nwixident{Th26}}{Th26}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{proper}}{proper}}\\{{\nwixident{Th25}}{Th25}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-39Q49p-1}\nwindexuse{\nwixident{proper}}{proper}{NW1Nnu7l-39Q49p-1}\nwindexuse{\nwixident{Th25}}{Th25}{NW1Nnu7l-39Q49p-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW1Nnu7l-39Q49p-1}\nwendcode{}\nwbegindocs{66}\nwdocspar
\begin{proof}[Sub-proof outline ($H$ is maximal implies $K=G$).]
Let $K$ be an arbitrary subgroup of $G$ such that $\varphi(H)\properSubgroup K$.
We can consider $\psi\in\Aut(G)$ defined by $\psi(x)=\varphi^{-1}(x)$
for all $x\in G$. Since $H\properSubgroup K\properSubgroup G$, we can
find some $k\in K$ but $k\notin K$. Then $\psi(k)\in\psi(K)$. Since $H$
is maximal, $\varphi(\psi(K))=G$. But also $\varphi(\psi(K))=K$. Hence $K=G$.
\end{proof}

\nwenddocs{}\nwbegincode{67}\sublabel{NW1Nnu7l-2sFwyR-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2sFwyR-1}}}\moddef{Proof: $H$ is maximal implies $K=G$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2sFwyR-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-39Q49p-1}}\nwenddeflinemarkup
proof
  let K be strict Subgroup of G;
  assume B1: Image(phi|H) <> K;
  assume B2: Image(phi|H) is Subgroup of K;
  then consider psi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G such that
  B3: psi = phi" and
  B4: H is Subgroup of Image(psi|K)
  by \nwlinkedidentc{Th19}{NW1Nnu7l-zRHLm-1};
  set UK = the carrier of K;
  reconsider K as non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} strict Subgroup of G by A2,B1,B2,\nwlinkedidentc{Th14}{NW18nMBU-2DotbH-1};
  UK \\ (the carrier of Image(phi|H)) is non empty by B1,B2,Def1,\nwlinkedidentc{Th13}{NW18nMBU-17X1oO-1};
  then consider k being object such that
  B6: k in UK \\ (the carrier of Image(phi|H))
  by XBOOLE_0:def 1;
  reconsider k as Element of K by B6;
  set L = Image(psi|K);
  B8: psi.k in L
  \LA{}Proof: $\psi(k)\in L$~{\nwtagstyle{}\subpageref{NW1Nnu7l-rcjUo-1}}\RA{}
  B9: the multMagma of H <> L
  \LA{}Proof: $H\neq L$~{\nwtagstyle{}\subpageref{NW1Nnu7l-aXEjM-1}}\RA{}
  B10: Image(phi|L) = the multMagma of G
  \LA{}Proof: $\varphi(L)=G$~{\nwtagstyle{}\subpageref{NW1Nnu7l-13ZzHL-1}}\RA{}
  Image(phi|L) = K
  \LA{}Proof: $\varphi(L) = K$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3oqpnZ-1}}\RA{}
  hence thesis by B10;
end;
\nwused{\\{NW1Nnu7l-39Q49p-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th13}}{Th13}}\\{{\nwixident{Th14}}{Th14}}\\{{\nwixident{Th19}}{Th19}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-2sFwyR-1}\nwindexuse{\nwixident{Th13}}{Th13}{NW1Nnu7l-2sFwyR-1}\nwindexuse{\nwixident{Th14}}{Th14}{NW1Nnu7l-2sFwyR-1}\nwindexuse{\nwixident{Th19}}{Th19}{NW1Nnu7l-2sFwyR-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW1Nnu7l-2sFwyR-1}\nwendcode{}\nwbegindocs{68}\nwdocspar

\begin{proof}[Proof step ($\psi(k)\in L$).]
Since $k\in K$ and $L=\psi(K)$, the result follows from unfolding definitions.
\end{proof}

\nwenddocs{}\nwbegincode{69}\sublabel{NW1Nnu7l-rcjUo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-rcjUo-1}}}\moddef{Proof: $\psi(k)\in L$~{\nwtagstyle{}\subpageref{NW1Nnu7l-rcjUo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-2sFwyR-1}}\nwenddeflinemarkup
proof
  C1: k in G by GROUP_2:41;
  consider l being object such that
  C2: l = psi.k;
  dom psi = the carrier of G by FUNCT_2:def 1;
  then l in psi .: (the carrier of K) by C1,C2,FUNCT_1:def 6;
  then l in the carrier of (psi .: K) by GRSOLV_1:8;
  hence psi.k in Image(psi|K) by C2,GRSOLV_1:def 3;
end;
\nwused{\\{NW1Nnu7l-2sFwyR-1}}\nwendcode{}\nwbegindocs{70}\nwdocspar

\begin{proof}[Proof step ($H\neq L$).]
Since $k\in K\setminus\varphi(H)$, it follows
$\psi(k)\in\psi(K)\setminus H$.
\end{proof}

\nwenddocs{}\nwbegincode{71}\sublabel{NW1Nnu7l-aXEjM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-aXEjM-1}}}\moddef{Proof: $H\neq L$~{\nwtagstyle{}\subpageref{NW1Nnu7l-aXEjM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-2sFwyR-1}}\nwenddeflinemarkup
proof
  set UPH = the carrier of Image(phi|H);
  C1: phi is one-to-one & phi is onto & UPH is non empty Subset of UG &
  phi is Function of UG,UG by GROUP_2:def 5;
  k in G & not k in Image(phi|H) by B6, XBOOLE_0:def 5, GROUP_2:41;
  then C2: not psi.k in (psi .: UPH) by C1,\nwlinkedidentc{Th7}{NW18nMBU-17dzpg-1};
  consider phi2 being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G such that
  C3: phi2 = psi" and
  C4: the multMagma of Image(psi|Image(phi2|H)) = the multMagma of H
  by \nwlinkedidentc{Th18}{NW1Nnu7l-xUcSR-1};
  phi2=phi by C3,B3, \nwlinkedidentc{Th5}{NW18nMBU-l92FA-1};
  then C5: the multMagma of Image(psi|Image(phi|H)) = the multMagma of H by C4;
  set UPH = the carrier of Image(phi|H);
  psi .: UPH = the carrier of (psi .: Image(phi|H)) by GRSOLV_1:8
            .= the carrier of Image(psi|Image(phi|H)) by GRSOLV_1:def 3;
  then the carrier of H <> the carrier of L by B8,C2,C5;
  hence thesis;
end;
\nwused{\\{NW1Nnu7l-2sFwyR-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th18}}{Th18}}\\{{\nwixident{Th5}}{Th5}}\\{{\nwixident{Th7}}{Th7}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-aXEjM-1}\nwindexuse{\nwixident{Th18}}{Th18}{NW1Nnu7l-aXEjM-1}\nwindexuse{\nwixident{Th5}}{Th5}{NW1Nnu7l-aXEjM-1}\nwindexuse{\nwixident{Th7}}{Th7}{NW1Nnu7l-aXEjM-1}\nwendcode{}\nwbegindocs{72}\nwdocspar

\begin{proof}[Proof step ($\varphi(L)=G$).]
Since $H\neq L$, and $H$ is maximal, it follows that $L=G$. Then
$\varphi(L)=\varphi(G)$ and $\varphi(G)=G$ gives the result.
\end{proof}

\nwenddocs{}\nwbegincode{73}\sublabel{NW1Nnu7l-13ZzHL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-13ZzHL-1}}}\moddef{Proof: $\varphi(L)=G$~{\nwtagstyle{}\subpageref{NW1Nnu7l-13ZzHL-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-2sFwyR-1}}\nwenddeflinemarkup
proof
  L = the multMagma of G by A1,B4,B9,GROUP_4:def 6;
  then phi is Function of UG,UG & phi is onto & the carrier of L = UG;
  then phi .: the carrier of L = phi .: UG
                              .= rng phi by RELSET_1:22
                              .= UG by FUNCT_2:def 3;
  then UG = phi .: (the carrier of L)
         .= the carrier of (phi .: L) by GRSOLV_1:8
         .= the carrier of Image(phi|L) by GRSOLV_1:def 3;
  then the carrier of Image(phi|L) = the carrier of G;
  then the multMagma of Image(phi|L) = the multMagma of G by GROUP_2:61;
  hence thesis;
end;
\nwused{\\{NW1Nnu7l-2sFwyR-1}}\nwendcode{}\nwbegindocs{74}\nwdocspar

\begin{proof}[Proof step ($\varphi(L)=K$).]
From $L=\psi(K)$, it follows $\varphi(L)=K$.
\end{proof}

\nwenddocs{}\nwbegincode{75}\sublabel{NW1Nnu7l-3oqpnZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3oqpnZ-1}}}\moddef{Proof: $\varphi(L) = K$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3oqpnZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-2sFwyR-1}}\nwenddeflinemarkup
proof
  consider psi2 being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G such that
  C1: psi2 = phi" and
  C2: the multMagma of Image(phi|Image(psi2|K)) = the multMagma of K
  by \nwlinkedidentc{Th18}{NW1Nnu7l-xUcSR-1};
  thus Image(phi|Image(psi|K)) = K by B3,C1,C2;
end;
\nwused{\\{NW1Nnu7l-2sFwyR-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th18}}{Th18}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-3oqpnZ-1}\nwindexuse{\nwixident{Th18}}{Th18}{NW1Nnu7l-3oqpnZ-1}\nwendcode{}\nwbegindocs{76}\nwdocspar
\nwenddocs{}\nwfilename{nw/characteristic/inner.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\section{Inner Automorphisms}
We can now organize our treatment of inner automorphisms.

\nwenddocs{}\nwbegincode{1}\sublabel{NW3Mfp8C-UGF1u-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-UGF1u-1}}}\moddef{Inner Automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-UGF1u-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2TX9wk-1}}\nwenddeflinemarkup
\LA{}Definition: \code{}inner\edoc{} for Automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-1Tb4wZ-1}}\RA{}

\LA{}Theorem: \code{}id\ G\edoc{} is effectively inner~{\nwtagstyle{}\subpageref{NW3Mfp8C-4YoKSm-1}}\RA{}

\LA{}Register \code{}inner\edoc{} for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-4IjmGJ-1}}\RA{}

\LA{}Theorem: Relate \code{}Automorphism\ of\ G\edoc{} to elements of \code{}Aut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2VuNZX-1}}\RA{}

\LA{}Theorem: $f$ in \code{}InnAut\ G\edoc{} iff $f$ is \code{}inner\ Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2gUxot-1}}\RA{}

\LA{}Theorem: inner automorphism acting on subgroup is conjugate of argument~{\nwtagstyle{}\subpageref{NW3Mfp8C-2zspfg-1}}\RA{}

\LA{}Theorem: Kernel of conjugation as endomorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-3fLhao-1}}\RA{}

\LA{}Theorem: Conjugation by fixed element is an automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-VBRVv-1}}\RA{}

\LA{}Corollary: conjugation of given element is an \emph{inner} automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-47V7KL-1}}\RA{}

\LA{}Theorem: constructing inner automorphisms from group elements~{\nwtagstyle{}\subpageref{NW3Mfp8C-arh13-1}}\RA{}

\LA{}Theorem: inner Automorphisms fix only normal Subgroups~{\nwtagstyle{}\subpageref{NW3Mfp8C-4Qqcti-1}}\RA{}
\nwused{\\{NW18nMBU-2TX9wk-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{definition}\index{Automorphism!inner}\index{inner!Automorphism|see {Automorphism}}
We call a group automorphism $f\in\Aut(G)$ \define{inner} if there is a
group element $g\in G$ such that for all $x\in G$ we have $f(x) = x^{g} = g^{-1}xg$.
That is, $f$ is just conjugation by a fixed group element.
\end{definition}

\begin{def-remark}[Notation: $\Inn(G)$]\index{$\Inn(G)$}
We denote the set of inner automorphisms of $G$ by $\Inn(G)$ and
informally we know $\Inn(G)\subset\Aut(G)$. (We will prove
$\Inn(G)\subset\Aut(G)$ later, I think.)
\end{def-remark}

\nwenddocs{}\nwbegincode{3}\sublabel{NW3Mfp8C-1Tb4wZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-1Tb4wZ-1}}}\moddef{Definition: \code{}inner\edoc{} for Automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-1Tb4wZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
definition :: Def4
  let G;
  let IT be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  attr IT is \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} means
  :Def4:
  ex a being Element of G st
  for x being Element of G holds IT.x = x |^ a;
end;
\LA{}Outer as antonym of inner~{\nwtagstyle{}\subpageref{NW3Mfp8C-RgKDM-1}}\RA{}
\nwindexdefn{\nwixident{Def5}}{Def5}{NW3Mfp8C-1Tb4wZ-1}\nwindexdefn{\nwixident{inner}}{inner}{NW3Mfp8C-1Tb4wZ-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Def5}}{Def5}}\\{{\nwixident{inner}}{inner}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-1Tb4wZ-1}\nwendcode{}\nwbegindocs{4}\nwdocspar
\begin{notation}\index{Automorphism!outer}
We also recall that an automorphism is called \define{Outer} if it is
not inner.
\end{notation}

Mizar let's us do this with the {\Tt{}antonym\nwendquote} construct within a
{\Tt{}notation\nwendquote} block.

\nwenddocs{}\nwbegincode{5}\sublabel{NW3Mfp8C-RgKDM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-RgKDM-1}}}\moddef{Outer as antonym of inner~{\nwtagstyle{}\subpageref{NW3Mfp8C-RgKDM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-1Tb4wZ-1}}\nwenddeflinemarkup
notation
  let G be Group, f be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  antonym f is \nwlinkedidentc{outer}{NW3Mfp8C-RgKDM-1} for f is \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1};
end;
\nwindexdefn{\nwixident{outer}}{outer}{NW3Mfp8C-RgKDM-1}\eatline
\nwused{\\{NW3Mfp8C-1Tb4wZ-1}}\nwidentdefs{\\{{\nwixident{outer}}{outer}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-RgKDM-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-RgKDM-1}\nwendcode{}\nwbegindocs{6}\nwdocspar
\begin{voc}
Before rushing off to prove properties concerning inner and outer
automorphisms, we should add the attributes to our vocabulary file.
\end{voc}

\nwenddocs{}\nwbegincode{7}\sublabel{NW3Mfp8C-4FyAEL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-4FyAEL-1}}}\moddef{DICT/CHAR.VOC~{\nwtagstyle{}\subpageref{NWoaARJ-4FyAEL-1}}}\plusendmoddef\nwstartdeflinemarkup\nwprevnextdefs{NWoaARJ-4FyAEL-1}{NW47t2dy-4FyAEL-1}\nwenddeflinemarkup
Vinner
Vouter
\nwendcode{}\nwbegindocs{8}\nwdocspar

\begin{theorem}[$\Id_{G}$ is effectively inner]\label{thm:characteristic:id-inner}
The identity endomorphism $\Id_{G}$ is an inner automorphism of $G$.
\end{theorem}

We will be registering ``inner'' as an attribute for ``Automorphism
of $G$''. This will require proving that there exists an inner
Automorphism of $G$. I've found the trivial examples are often best for
establishing the existence of such things, so we will prove {\Tt{}id\ the\ carrier\ of\ G\nwendquote} is
an inner Automorphism. This uses the fact, if $e\in G$ is the identity
element, then for any $g\in G$ we have conjugation $g^{e} = e^{-1}ge=g$
(proven in Theorem~\mml[Th19]{group3}).\MizThm{GROUP\_3}{19}

\nwenddocs{}\nwbegincode{9}\sublabel{NW3Mfp8C-4YoKSm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-4YoKSm-1}}}\moddef{Theorem: \code{}id\ G\edoc{} is effectively inner~{\nwtagstyle{}\subpageref{NW3Mfp8C-4YoKSm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th27}{NW3Mfp8C-4YoKSm-1}:
  for x being Element of G holds (id the carrier of G).x = x |^ 1_G by GROUP_3:19;
\nwindexdefn{\nwixident{Th27}}{Th27}{NW3Mfp8C-4YoKSm-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th27}}{Th27}}}\nwendcode{}\nwbegindocs{10}\nwdocspar
\begin{registration}
Now registering {\Tt{}\nwlinkedidentq{inner}{NW3Mfp8C-1Tb4wZ-1}\nwendquote} for {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-2qSYW4-1}\nwendquote}.
\end{registration}

\nwenddocs{}\nwbegincode{11}\sublabel{NW3Mfp8C-4IjmGJ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-4IjmGJ-1}}}\moddef{Register \code{}inner\edoc{} for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-4IjmGJ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
registration
  let G;
  cluster \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} for \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  existence
  \LA{}Proof of existence of an inner Automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-9idpO-1}}\RA{}
end;
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-4IjmGJ-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-4IjmGJ-1}\nwendcode{}\nwbegindocs{12}\nwdocspar

\begin{proof}[Proof sketch (Existence of inner automorphism)]
The proof is a two punch knock-out. We take {\Tt{}id\ the\ carrier\ of\ G\nwendquote} to be the
morphism, {\Tt{}1{\_}g\nwendquote} the group's identity element to be the element
{\Tt{}id\ the\ carrier\ of\ G\nwendquote} conjugates by, then from earlier (Theorem~\ref{thm:characteristic:id-inner})
we have {\Tt{}id\ the\ carrier\ of\ G\nwendquote} be inner.
\end{proof}

\nwenddocs{}\nwbegincode{13}\sublabel{NW3Mfp8C-9idpO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-9idpO-1}}}\moddef{Proof of existence of an inner Automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-9idpO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-4IjmGJ-1}}\nwenddeflinemarkup
proof
  reconsider i = id (the carrier of G) as \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G by GROUP_6:38;
  take i;
  take 1_G;
  thus thesis by \nwlinkedidentc{Th27}{NW3Mfp8C-4YoKSm-1};
end;
\nwused{\\{NW3Mfp8C-4IjmGJ-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th27}}{Th27}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-9idpO-1}\nwindexuse{\nwixident{Th27}}{Th27}{NW3Mfp8C-9idpO-1}\nwendcode{}\nwbegindocs{14}\nwdocspar

\begin{theorem}[{$\varphi\in\aut(G)\iff \varphi$ is {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-2qSYW4-1}\ of\ G\nwendquote}}]
For any $\varphi$, we have $\varphi\in\Aut(G)$ if and only if
$\varphi\colon G\to G$ is an automorphism.
\end{theorem}

\begin{thm-remark}
Mizar has~\mml{autgroup}, an article which defines {\Tt{}Aut\ G\nwendquote} the
collection of functions on the underlying set $U(G)$ of a group $G$. We
can prove that $f\in\aut(G)$ if and only if $f$ is {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-2qSYW4-1}\ of\ G\nwendquote}.
\end{thm-remark}

\begin{proof}[Proof outline]
  Like any ``if{}f'' statement, we have two steps to this proof:

  Step 1: $\varphi\in\Aut(g)\implies\varphi\colon G\to G$ is an
  Automorphism. This is involved and requires carving out a sub-proof.

  Step 2: $\varphi\in\Aut(g)\impliedby\varphi\colon G\to G$ is an
  Automorphism. This follows from how $\Aut(G)$ is defined in
  \verb#AUTGROUP:def 1#\MizDef{AUTGROUP}{1}.
\end{proof}

\nwenddocs{}\nwbegincode{15}\sublabel{NW3Mfp8C-2VuNZX-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-2VuNZX-1}}}\moddef{Theorem: Relate \code{}Automorphism\ of\ G\edoc{} to elements of \code{}Aut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2VuNZX-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th28}{NW3Mfp8C-2VuNZX-1}:
  for G being strict Group, f being object
  holds (f in Aut G) iff (f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G)
proof
  let G be strict Group;
  let f be object;
  thus f in Aut G implies f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  \LA{}Proof $f\in\aut(G)\implies f$ is \code{}Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-wlMQo-1}}\RA{}
  thus f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G implies f in Aut G by AUTGROUP:def 1;
  thus thesis;
end;
\nwindexdefn{\nwixident{Th28}}{Th28}{NW3Mfp8C-2VuNZX-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th28}}{Th28}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-2VuNZX-1}\nwendcode{}\nwbegindocs{16}\nwdocspar
\begin{proof}[Sub-proof ($\Longrightarrow$)]
The forward direction is
straightforward. The only subtlety is, since we didn't assume anything
about $\varphi$, we should establish it's an endomorphism of $G$ along
the way. Then its membership in $\Aut(G)$ implies $\varphi$ is
bijective, and the result follows.
\end{proof}

\nwenddocs{}\nwbegincode{17}\sublabel{NW3Mfp8C-wlMQo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-wlMQo-1}}}\moddef{Proof $f\in\aut(G)\implies f$ is \code{}Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-wlMQo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2VuNZX-1}}\nwenddeflinemarkup
proof
  assume A1: f in Aut G;
  then reconsider f as \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G by AUTGROUP:def 1;
  f is bijective by A1,AUTGROUP:def 1;
  hence thesis;
end;
\nwused{\\{NW3Mfp8C-2VuNZX-1}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-wlMQo-1}\nwendcode{}\nwbegindocs{18}\nwdocspar


\begin{theorem}
We have $\varphi\in\Inn\Aut(G)$ if and only if $\varphi$ is an inner
Automorphism of $G$.
\end{theorem}

\begin{proof}[Proof outline]
  We have two steps to our proof.

  Step 1: $\varphi\in\Inn\Aut(G)$ (in the sense of Definition~\mml[def4]{autgroup}\MizDef{AUTGROUP}{4})
  imply $\varphi$ is an inner automorphism of $G$.

  Step 2: $\varphi$ is an inner automorphism of $G$ implies $\varphi\in\Inn\Aut(G)$.

  Then the result follows.
\end{proof}

\begin{thm-remark}
We can relate the notion of an {\Tt{}\nwlinkedidentq{inner}{NW3Mfp8C-1Tb4wZ-1}\ \nwlinkedidentq{Automorphism}{NW1Nnu7l-2qSYW4-1}\ of\ G\nwendquote} with elements
of {\Tt{}InnAut\ G\nwendquote} from \mml{autgroup}. The only peculiarity is that
\mml{autgroup} requires $G$ to be a \emph{strict} group.
\end{thm-remark}

\nwenddocs{}\nwbegincode{19}\sublabel{NW3Mfp8C-2gUxot-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-2gUxot-1}}}\moddef{Theorem: $f$ in \code{}InnAut\ G\edoc{} iff $f$ is \code{}inner\ Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2gUxot-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
\LA{}Lemma: Elements of \code{}InnAut\ G\edoc{} are automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-3eJW7Q-1}}\RA{}

theorem \nwlinkedidentc{Th29}{NW3Mfp8C-2gUxot-1}:
  for G being strict Group
  for f being object
  holds (f in InnAut G) iff (f is \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G)
proof
  let G be strict Group;
  let f be object;
  A1: f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G implies
      f is Element of Funcs (the carrier of G, the carrier of G) by FUNCT_2:9;
  thus (f in InnAut G) implies (f is \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G)
  \LA{}Proof $f$ is in \code{}InnAut\ G\edoc{} $\implies$ ($f$ is inner automorphism)~{\nwtagstyle{}\subpageref{NW3Mfp8C-18aBqf-1}}\RA{}
  thus (f is \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G) implies (f in InnAut G)
  \LA{}Proof ($f$ is inner automorphism) $\implies$ $f$ is in \code{}InnAut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2maG0l-1}}\RA{}
  thus thesis;
end;
\nwindexdefn{\nwixident{Th29}}{Th29}{NW3Mfp8C-2gUxot-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th29}}{Th29}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-2gUxot-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-2gUxot-1}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{proof}[Proof step ($\varphi\in\Inn\Aut(G)\implies\varphi$ is inner).]
The proof amounts to unwinding
definitions, but the subtlety is in first reconsidering $\varphi$ as an
Automorphism of $G$ thanks to our handy-dandy lemma.
\end{proof}

\nwenddocs{}\nwbegincode{21}\sublabel{NW3Mfp8C-18aBqf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-18aBqf-1}}}\moddef{Proof $f$ is in \code{}InnAut\ G\edoc{} $\implies$ ($f$ is inner automorphism)~{\nwtagstyle{}\subpageref{NW3Mfp8C-18aBqf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2gUxot-1}}\nwenddeflinemarkup
proof
  assume B1: f in InnAut G;
  then reconsider f as \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G by \nwlinkedidentc{Lm6}{NW3Mfp8C-3eJW7Q-1};
  consider a being Element of G such that
  B2: for x being Element of G holds f.x = x |^ a
  by A1,B1,AUTGROUP:def 4;
  thus thesis by Def4,B2;
end;
\nwused{\\{NW3Mfp8C-2gUxot-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Lm6}}{Lm6}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-18aBqf-1}\nwindexuse{\nwixident{Lm6}}{Lm6}{NW3Mfp8C-18aBqf-1}\nwendcode{}\nwbegindocs{22}\nwdocspar

\begin{proof}[Proof step ($\varphi$ is inner$\implies\varphi\in\Inn\Aut(G)$).]
This is again unwinding the definitions. The same subtlety lurks here,
requiring us to reconsider $f$ as an inner automorphism of $G$.
\end{proof}

\nwenddocs{}\nwbegincode{23}\sublabel{NW3Mfp8C-2maG0l-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-2maG0l-1}}}\moddef{Proof ($f$ is inner automorphism) $\implies$ $f$ is in \code{}InnAut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2maG0l-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2gUxot-1}}\nwenddeflinemarkup
proof
  assume f is \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  then reconsider f as \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  consider a being Element of G such that
  B1: for x being Element of G holds f.x = x |^ a
  by Def4;
  thus thesis by A1,B1,AUTGROUP:def 4;
end;
\nwused{\\{NW3Mfp8C-2gUxot-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-2maG0l-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-2maG0l-1}\nwendcode{}\nwbegindocs{24}\nwdocspar

\begin{lemma}
Any member of the group $\Inn\Aut(G)$ is an Automorphism of $G$.
\end{lemma}

It's relatively straightforward to show that if $f$ is an element of
{\Tt{}InnAut\ G\nwendquote}, then $f$ is an {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-2qSYW4-1}\ of\ G\nwendquote}. We just unwind the
definitions.

\nwenddocs{}\nwbegincode{25}\sublabel{NW3Mfp8C-3eJW7Q-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-3eJW7Q-1}}}\moddef{Lemma: Elements of \code{}InnAut\ G\edoc{} are automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-3eJW7Q-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2gUxot-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm6}{NW3Mfp8C-3eJW7Q-1}:
  for G being strict Group
  for f being Element of InnAut G
  holds f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
proof
  let G be strict Group;
  let f be Element of InnAut G;
  f is Element of Aut G by AUTGROUP:12;
  hence f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G by \nwlinkedidentc{Th28}{NW3Mfp8C-2VuNZX-1};
end;
\nwindexdefn{\nwixident{Lm6}}{Lm6}{NW3Mfp8C-3eJW7Q-1}\eatline
\nwused{\\{NW3Mfp8C-2gUxot-1}}\nwidentdefs{\\{{\nwixident{Lm6}}{Lm6}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th28}}{Th28}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-3eJW7Q-1}\nwindexuse{\nwixident{Th28}}{Th28}{NW3Mfp8C-3eJW7Q-1}\nwendcode{}\nwbegindocs{26}\nwdocspar
\begin{theorem}\label{thm:characteristic:inner:image-of-inner-automorphism-on-subgroup}
Given any element $a\in G$, and any inner automorphism $\varphi$ of $G$ such
that $\forall x\in G, f(x) = x^{a} = a^{-1}xa$, it follows that the
image of a subgroup under $f$ is the conjugate of that subgroup
$\varphi(H) = H^{a}$.
\end{theorem}

\begin{proof}
Let $\varphi\in\End(G)$ be defined by hypothesis as $\varphi(x)=x^{a}$
for some fixed $a\in G$. We have $\varphi|_{H}(h)= h^{a}$ for any $h\in H$.
We show $y\in\varphi|_{H}(H)\iff y\in H^{a}$ in two sub-proofs. Then it
follows that $\varphi(H)=H^{a}$ by Definition~\mml[def6]{group2}\MizDef{GROUP\_2}{6}.
\end{proof}

\nwenddocs{}\nwbegincode{27}\sublabel{NW3Mfp8C-2zspfg-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-2zspfg-1}}}\moddef{Theorem: inner automorphism acting on subgroup is conjugate of argument~{\nwtagstyle{}\subpageref{NW3Mfp8C-2zspfg-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th30}{NW3Mfp8C-2zspfg-1}:
  for a being Element of G
  for f being \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  st (for x being Element of G holds f.x = x |^ a)
  holds Image(f|H) = H |^ a
proof
  let a be Element of G,
      f be \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  assume
A1: for x being Element of G holds f.x = x |^ a;
C1: for h being Element of G st h in H holds (f|H).h = h |^ a
  proof
    let h be Element of G;
    assume h in H;
    hence (f|H).h = f.h by \nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1}
                 .= h |^ a by A1;
  end;

C2: for y being Element of G st y in Image(f|H) holds y in H |^ a
  \LA{}Proof $\forall y\in G, y\in f(H)\implies y\in H^{a}$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1BjobC-1}}\RA{}
C3: for y being Element of G st y in H |^ a holds y in Image(f|H)
  \LA{}Proof $\forall y\in G, y \in f(H)\impliedby y\in H^{a}$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1b1ocA-1}}\RA{}
  thus (H |^ a) = Image(f|H) by C2,C3;
end;
\nwindexdefn{\nwixident{Th30}}{Th30}{NW3Mfp8C-2zspfg-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th30}}{Th30}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th2}}{Th2}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-2zspfg-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-2zspfg-1}\nwindexuse{\nwixident{Th2}}{Th2}{NW3Mfp8C-2zspfg-1}\nwendcode{}\nwbegindocs{28}\nwdocspar
\begin{proof}[{Proof step 1 ($\forall y\in G, y\in f(H)\implies y\in H^{a}$)}.]
The forward direction amounts to unwrapping the definition of $f(h) = h^{a}$.
Since $h\in H$, it follows $h^{a}\in H^{a}$ by Theorem~\mml[Th58]{group3}\MizThm{GROUP\_3}{58}.
\end{proof}

\nwenddocs{}\nwbegincode{29}\sublabel{NW3Mfp8C-1BjobC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-1BjobC-1}}}\moddef{Proof $\forall y\in G, y\in f(H)\implies y\in H^{a}$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1BjobC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2zspfg-1}}\nwenddeflinemarkup
proof
  let y be Element of G;
  assume y in Image(f|H);
  then consider h being Element of H such that
  B1: (f|H).h = y by GROUP_6:45;
  reconsider h as Element of G by GROUP_2:42;
  B2: h in H;
  then h |^ a = (f|H).h by C1
             .= y by B1;
  hence y in H |^ a by B2,GROUP_3:58;
end;
\nwused{\\{NW3Mfp8C-2zspfg-1}}\nwendcode{}\nwbegindocs{30}\nwdocspar

\begin{proof}[{Proof step 2 ($\forall y\in G, y \in f(H)\impliedby y\in H^{a}$)}.]
The proof in the backwards direction begins with $y\in H^{a}$ must look
like $y = g^{a}$ for some $g\in H$ by Theorem~\mml[Th58]{group3}\MizThm{GROUP\_3}{58},
and showing $y = f(g)$, which amounts to ``plug it in''.
\end{proof}

\nwenddocs{}\nwbegincode{31}\sublabel{NW3Mfp8C-1b1ocA-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-1b1ocA-1}}}\moddef{Proof $\forall y\in G, y \in f(H)\impliedby y\in H^{a}$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1b1ocA-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2zspfg-1}}\nwenddeflinemarkup
proof
  let y be Element of G;
  assume y in H |^ a;
  then consider g being Element of G such that
  B1:    y=g|^a and
  B2:    g in H
  by GROUP_3:58;

  B3: (f|H).g = f.g by \nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1},B2
             .= g |^ a by A1
             .= y by B1;
  thus y in Image(f|H) by B2,B3,GROUP_6:45;
end;
\nwused{\\{NW3Mfp8C-2zspfg-1}}\nwidentuses{\\{{\nwixident{Th2}}{Th2}}}\nwindexuse{\nwixident{Th2}}{Th2}{NW3Mfp8C-1b1ocA-1}\nwendcode{}\nwbegindocs{32}\nwdocspar

\begin{theorem}[Kernel of inner automorphism is trivial]\label{thm:characteristic:inner:ker-of-inner-is-trivial}
Let $G$ be a group, $\varphi\in\End(G)$ be defined by $\forall x\in
G,\varphi(x)=x^{a}$ for some fixed $a\in G$.
Then $\ker(\varphi)=\trivialSubgroup_{G}$.
\end{theorem}

We are proving something a little
more general, namely, any endomorphism $f\colon G\to G$ defined by
$f(x)=x^{a}$ (for some fixed $a\in G$) will have a trivial kernel.

\begin{proof}[Proof outline]
If $\varphi\in\End(G)$ is defined as $\forall x\in G,\varphi(x)=x^{a}$
for some fixed $a\in G$, then we will prove
$\ker(\varphi)\subgroup\trivialSubgroup_{G}$. We know from Theorem~\mml[Th65]{group2}%
\MizThm{GROUP\_2}{65} that $\trivialSubgroup_{G}\subgroup\ker(\varphi)$.
Since one is subgroup of the other (and vice-versa), we know from
Theorem~\mml[Th55]{group2}\MizThm{GROUP\_2}{55} they must be equal as subgroups.
\end{proof}

\nwenddocs{}\nwbegincode{33}\sublabel{NW3Mfp8C-3fLhao-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-3fLhao-1}}}\moddef{Theorem: Kernel of conjugation as endomorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-3fLhao-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th31}{NW3Mfp8C-3fLhao-1}:
  for a being Element of G
  for f being \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G
  st (for x being Element of G holds f.x = x |^ a)
  holds Ker f = (1).G
proof
  let a be Element of G;
  let f be \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G;
  assume A1: for x being Element of G holds f.x = x |^ a;
  for x being Element of G holds x in Ker f implies x in (1).G
  \LA{}Proof $\ker(f)\subset\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1msO16-1}}\RA{}
  then A2: Ker f is Subgroup of (1).G by GROUP_2:58;

  A3: (1).G is Subgroup of Ker f by GROUP_2:65;
  thus Ker f = (1).G by A2,A3,GROUP_2:55;
end;
\nwindexdefn{\nwixident{Th31}}{Th31}{NW3Mfp8C-3fLhao-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th31}}{Th31}}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-3fLhao-1}\nwendcode{}\nwbegindocs{34}\nwdocspar
\begin{proof}[Sub-proof ($\ker(f)\subset\trivialSubgroup$)]
Let $x\in\ker(f)$ be arbitrary, then $f(x)=1_{G}$. But this means $x=1_{G}$
(according to Theorem~\mml[Th18]{group3}\MizThm{GROUP\_3}{18}). Thus
$x\in\trivialSubgroup_{G}$ by definition of the trivial subgroup.
\end{proof}

\nwenddocs{}\nwbegincode{35}\sublabel{NW3Mfp8C-1msO16-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-1msO16-1}}}\moddef{Proof $\ker(f)\subset\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1msO16-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-3fLhao-1}}\nwenddeflinemarkup
proof
  let x be Element of G;
  assume x in Ker f;
  then 1_G = f.x by GROUP_6:41
          .= x |^ a by A1;
  then x = 1_G by GROUP_3:18;
  hence x in (1).G by GROUP_2:46;
end;
\nwused{\\{NW3Mfp8C-3fLhao-1}}\nwendcode{}\nwbegindocs{36}\nwdocspar

\begin{theorem}[{Conjugation by fixed element is an automorphism}]\label{thm:characteristic:inner:conjugation-by-fixed-element-is-an-automorphism}
Let $G$ be a group, $a\in G$ a fixed element.
The endomorphism $\varphi\colon G\to G$ defined by $\varphi(x)=x^{a}$ is, in fact,
an automorphism of $G$.
\end{theorem}

\begin{proof}[Proof outline]
We establish $\varphi$ is injective because it has a trivial kernel
(thanks to Theorem~\ref{thm:characteristic:inner:ker-of-inner-is-trivial} and
Theorem~\mml[Th56]{group6}\MizThm{GROUP\_6}{56}).
We then prove $\psi\in\End(G)$ exists such that $\varphi\circ\psi=\id_{G}$.
The existence of such a $\psi$ implies $\rng(\varphi)=G$, which implies
$\varphi$ is surjective. We then have $\varphi$, being both injective
and surjective, is bijective and moreover an automorphism.
\end{proof}

\nwenddocs{}\nwbegincode{37}\sublabel{NW3Mfp8C-VBRVv-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-VBRVv-1}}}\moddef{Theorem: Conjugation by fixed element is an automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-VBRVv-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th32}{NW3Mfp8C-VBRVv-1}:
  for a being Element of G
  for f being \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G
  st (for x being Element of G holds f.x = x |^ a)
  holds f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
proof
  let a be Element of G;
  let f be \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G;
  assume A1: for x being Element of G holds f.x = x |^ a;
  then Ker f = (1).G by \nwlinkedidentc{Th31}{NW3Mfp8C-3fLhao-1};
  then A2: f is one-to-one by GROUP_6:56;
  ex fInv being \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G st f*fInv = id (the carrier of G)
  \LA{}Proof an endomorphism $f^{-1}$ exists~{\nwtagstyle{}\subpageref{NW3Mfp8C-a3qbq-1}}\RA{}

  then f is onto by FUNCT_2:18;
  hence f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G by A2;
end;
\nwindexdefn{\nwixident{Th32}}{Th32}{NW3Mfp8C-VBRVv-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th32}}{Th32}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Endomorphism}}{Endomorphism}}\\{{\nwixident{Th31}}{Th31}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-VBRVv-1}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-VBRVv-1}\nwindexuse{\nwixident{Th31}}{Th31}{NW3Mfp8C-VBRVv-1}\nwendcode{}\nwbegindocs{38}\nwdocspar
\begin{proof}[Sub-proof (Existence of inverse of conjugation)]
This is the long part of the proof, its length owing to showing every
detail. We can construct $\psi(x)=x^{a^{-1}}$ as a function of the
underlying set of the group. We just need to prove this is an
endomorphism (suffices to prove it respects the group binary operation),
and that $\psi$ is the inverse function of $\varphi$.
\end{proof}

\nwenddocs{}\nwbegincode{39}\sublabel{NW3Mfp8C-a3qbq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-a3qbq-1}}}\moddef{Proof an endomorphism $f^{-1}$ exists~{\nwtagstyle{}\subpageref{NW3Mfp8C-a3qbq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-VBRVv-1}}\nwenddeflinemarkup
proof
  deffunc F(Element of G) = ($1) |^ a";
  consider fInv be Function of the carrier of G, the carrier of G such that
  A3: for g being Element of G holds fInv.g = F(g) from FUNCT_2:sch 4;
  \LA{}Establish $f^{-1}$ is an Endomorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-lTiQo-1}}\RA{}
  \LA{}Establish $f^{-1}$ is the inverse function of $f$~{\nwtagstyle{}\subpageref{NW3Mfp8C-oixct-1}}\RA{}
  hence thesis;
end;
\nwused{\\{NW3Mfp8C-VBRVv-1}}\nwendcode{}\nwbegindocs{40}\nwdocspar

\begin{proof}[Sub-proof ($\psi$ is inverse function of $\varphi$).]
The proof is straightforward, simply compose the functions together and
show we get the identity function. We just have to unwind a lot of
definitions.
\end{proof}

\nwenddocs{}\nwbegincode{41}\sublabel{NW3Mfp8C-oixct-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-oixct-1}}}\moddef{Establish $f^{-1}$ is the inverse function of $f$~{\nwtagstyle{}\subpageref{NW3Mfp8C-oixct-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-a3qbq-1}}\nwenddeflinemarkup
for x being Element of G holds (f*fInv).x = (id the carrier of G).x
proof
  let x be Element of G;
  (f * fInv).x = f.(fInv.x) by FUNCT_2:15
              .= f.(x |^ a") by A3
              .= (x |^ a") |^ a by A1
              .= x |^ (a" * a) by GROUP_3:24
              .= x |^ 1_G by GROUP_1:def 5
              .= x by GROUP_3:19
              .= (id the carrier of G).x;
  hence thesis;
end;
then f*fInv = id the carrier of G;
\nwused{\\{NW3Mfp8C-a3qbq-1}}\nwendcode{}\nwbegindocs{42}\nwdocspar

\begin{proof}[Sub-proof ($\psi$ is an endomorphism)]
We need to show $\psi(x_{1}x_{2})=\psi(x_{1})\psi(x_{2})$, which follows
from the results of conjugation from the article~\mml{group3}.
\end{proof}

\nwenddocs{}\nwbegincode{43}\sublabel{NW3Mfp8C-lTiQo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-lTiQo-1}}}\moddef{Establish $f^{-1}$ is an Endomorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-lTiQo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-a3qbq-1}}\nwenddeflinemarkup
for x1,x2 being Element of G holds fInv.(x1 * x2) = fInv.x1 * fInv.x2
proof
  let x1,x2 be Element of G;
  A4: fInv.x1 = x1 |^ a" & fInv.x2 = x2 |^ a" by A3;
  fInv.(x1 * x2) = (x1 * x2) |^ a" by A3
                .= (x1 |^ a") * (x2 |^ a") by GROUP_3:23
                .= fInv.x1 * fInv.x2 by A4;
  hence thesis;
end;
then reconsider fInv as \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G by GROUP_6:def 6;
\nwused{\\{NW3Mfp8C-a3qbq-1}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-lTiQo-1}\nwendcode{}\nwbegindocs{44}\nwdocspar

\begin{corollary}\label{thm:characteristic:inner:conjugation-as-endomorphism-is-inner-automorphism}
Given a group element $a\in G$, we can always construct an
inner automorphism $f\in\Inn(G)$ defined by
$\forall x\in G,f(x)=x^{a}=a^{-1}xa$ conjugation by $a$.
\end{corollary}

\begin{proof}
We have shown in Theorem~\ref{thm:characteristic:inner:conjugation-by-fixed-element-is-an-automorphism} that conjugation is an automorphism, and by
definition it is inner.
\end{proof}

\nwenddocs{}\nwbegincode{45}\sublabel{NW3Mfp8C-47V7KL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-47V7KL-1}}}\moddef{Corollary: conjugation of given element is an \emph{inner} automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-47V7KL-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th33}{NW3Mfp8C-47V7KL-1}:
  for a being Element of G
  for f being \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G
  st (for x being Element of G holds f.x = x |^ a)
  holds f is \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G by \nwlinkedidentc{Th32}{NW3Mfp8C-VBRVv-1},Def4;
\nwindexdefn{\nwixident{Th33}}{Th33}{NW3Mfp8C-47V7KL-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th33}}{Th33}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Endomorphism}}{Endomorphism}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th32}}{Th32}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-47V7KL-1}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-47V7KL-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-47V7KL-1}\nwindexuse{\nwixident{Th32}}{Th32}{NW3Mfp8C-47V7KL-1}\nwendcode{}\nwbegindocs{46}\nwdocspar
\begin{theorem}[Constructing inner automorphisms]
Let $a\in G$ be a group element. Then there exists an inner automorphism
$\varphi\in\Inn(G)$ such that for any $x\in G$ we have $\varphi(x)=x^{a}$.
\end{theorem}

\begin{proof}
We can show that, for any $a\in G$, we can construct a function of the
underlying set of $G$ to itself $\varphi\colon G\to G$ defined by
$\forall x\in G, \varphi(x)=x^{a}$. We have to show this is an
endomorphism, i.e., for any $x_{1},x_{2}\in G$ that
$\varphi(x_{1}x_{2})=\varphi(x_{1})\varphi(x_{2})$. The result follows
thanks to Corollary~\ref{thm:characteristic:inner:conjugation-as-endomorphism-is-inner-automorphism}.
\end{proof}

\begin{thm-remark}[Motivation]
Given a group $G$ and suppose we have an element $a\in G$, can we
construct an inner automorphism $f\in\Inn(G)$ such that
$\forall x\in G, f(x) = x^{a}$? Yes, we can do it!
A wiser way to organize these results may be to first show such an $f$
is an Endomorphism and it exists, then use that result in the proof that
it's an automorphism, and so on.
\end{thm-remark}

\nwenddocs{}\nwbegincode{47}\sublabel{NW3Mfp8C-arh13-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-arh13-1}}}\moddef{Theorem: constructing inner automorphisms from group elements~{\nwtagstyle{}\subpageref{NW3Mfp8C-arh13-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th34}{NW3Mfp8C-arh13-1}:
  for a being Element of G
  holds ex f being \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G st (for x being Element of G
  holds f.x = x |^ a)
proof
  let a be Element of G;
  deffunc F(Element of G) = ($1) |^ a;
  consider f be Function of the carrier of G, the carrier of G such that
A1: for g being Element of G holds f.g = F(g) from FUNCT_2:sch 4;
  for x1,x2 being Element of G holds f.(x1 * x2) = f.x1 * f.x2
  proof
    let x1,x2 be Element of G;
    A2: f.x1 = x1 |^ a & f.x2 = x2 |^ a by A1;
    f.(x1 * x2) = (x1 * x2) |^ a by A1
               .= (x1 |^ a) * (x2 |^ a) by GROUP_3:23
               .= f.x1 * f.x2 by A2;
    hence thesis;
  end;
  then reconsider f as \nwlinkedidentc{Endomorphism}{NW1Nnu7l-1U3x3j-1} of G by GROUP_6:def 6;
  for x being Element of G holds f.x = x |^ a & f is \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  by A1,\nwlinkedidentc{Th33}{NW3Mfp8C-47V7KL-1};
  hence thesis;
end;
\nwindexdefn{\nwixident{Th34}}{Th34}{NW3Mfp8C-arh13-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th34}}{Th34}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Endomorphism}}{Endomorphism}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th33}}{Th33}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-arh13-1}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-arh13-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-arh13-1}\nwindexuse{\nwixident{Th33}}{Th33}{NW3Mfp8C-arh13-1}\nwendcode{}\nwbegindocs{48}\nwdocspar
\begin{theorem}\label{thm:characteristic:inner:subgroup-is-normal-iff-invariant-under-every-inner-automorphism}
  Let $H\subgroup G$ be an arbitrary subgroup.
  Then $\forall\varphi\in\Inn(G),\varphi(H)=H$ if and only if
  $H\normalSubgroup G$.
\end{theorem}

\begin{thm-remark}
This is another, ``Well, I guess Mizar should have this, but I can't
find it, so here we go!''-type proof. The only quirk is the use of
{\Tt{}strict\ Subgroup\nwendquote}, which is necessary because otherwise {\Tt{}H\ |{\char94}\ a\nwendquote} is
strictly speaking a {\Tt{}multMagma\nwendquote}, not a subgroup. And to assert two
subgroups are equal, we need a {\Tt{}strict\nwendquote} subgroup, which requires
adding a {\Tt{}strict\nwendquote} hypothesis.
\end{thm-remark}

\begin{thm-remark}[On \texttt{strict} hypothesis]
The {\Tt{}strict\nwendquote} condition is necessary to prove $H\normalSubgroup G$
implies $\forall\varphi\in\Inn(G),\varphi(H)=H$. Otherwise, we end up
with the slightly peculiar situation where $\varphi(H) = $
{\Tt{}the\ multMagma\ of\ \nwendquote}$H$, which isn't terrible, but requires additional
steps later on in proving ``$K\subgroup N$ is characteristic and
$N\normalSubgroup G$ is {\Tt{}strict\nwendquote} normal implies $K\normalSubgroup G$.''
\end{thm-remark}

\nwenddocs{}\nwbegincode{49}\sublabel{NW3Mfp8C-4Qqcti-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-4Qqcti-1}}}\moddef{Theorem: inner Automorphisms fix only normal Subgroups~{\nwtagstyle{}\subpageref{NW3Mfp8C-4Qqcti-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-UGF1u-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th35}{NW3Mfp8C-4Qqcti-1}:
  for H being strict Subgroup of G
  holds (H is normal) iff (for f being \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds Image(f|H)=H)
proof
  let H be strict Subgroup of G;
  A1: (H is normal) implies (for f being \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds Image(f|H)=H)
  \LA{}Proof: normal implies fixed by inner automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-ZiHjv-1}}\RA{}
  A2: not ((for f being \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds Image(f|H)=H) implies H is normal)
  implies contradiction
  \LA{}Proof by contradiction: fixed by inner automorphisms implies normal~{\nwtagstyle{}\subpageref{NW3Mfp8C-3U116k-1}}\RA{}
  thus thesis by A1,A2;
end;
\nwindexdefn{\nwixident{Th35}}{Th35}{NW3Mfp8C-4Qqcti-1}\eatline
\nwused{\\{NW3Mfp8C-UGF1u-1}}\nwidentdefs{\\{{\nwixident{Th35}}{Th35}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-4Qqcti-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-4Qqcti-1}\nwendcode{}\nwbegindocs{50}\nwdocspar
\begin{proof}[Sub-proof (normal implies fixed by inner automorphisms)]
Assume $H\normalSubgroup G$ is a normal subgroup. Let
$\varphi\in\Inn(G)$ be an arbitrary inner automorphism. We have
$\varphi(x)=x^{a}$ for some fixed $a\in G$ and for any $x\in G$. Then
$\varphi(H) = H^{a}$ by Theorem~\ref{thm:characteristic:inner:image-of-inner-automorphism-on-subgroup} and $H^{a}=H$ by Definition~\mml[def13]{group3}%
\MizDef{GROUP\_3}{13} and definition of equality for
subgroups \mml[def6]{group2}\MizDef{GROUP\_2}{6}. Thus the result.
\end{proof}

\nwenddocs{}\nwbegincode{51}\sublabel{NW3Mfp8C-ZiHjv-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-ZiHjv-1}}}\moddef{Proof: normal implies fixed by inner automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-ZiHjv-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-4Qqcti-1}}\nwenddeflinemarkup
proof
  assume B1: H is normal;
  let f be \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  consider a being Element of G such that
  B2: for x being Element of G holds f.x = x |^ a
  by Def4;
  Image(f|H) = H |^ a by B2,\nwlinkedidentc{Th30}{NW3Mfp8C-2zspfg-1}
            .= the multMagma of H by B1,GROUP_3:def 13
            .= H;
  hence Image(f|H)=H;
end;
\nwused{\\{NW3Mfp8C-4Qqcti-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th30}}{Th30}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-ZiHjv-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-ZiHjv-1}\nwindexuse{\nwixident{Th30}}{Th30}{NW3Mfp8C-ZiHjv-1}\nwendcode{}\nwbegindocs{52}\nwdocspar

\begin{proof}[Sub-proof (fixed by inner automorphisms implies normal)]
We prove by contradiction, assuming $\forall\varphi\in\Inn(G)$ that $\varphi(H)=H$
but assuming for contradiction that $H$ is not a normal subgroup. We run
into the situation where $\varphi(H) = H^{a} = H$. But a subgroup is
normal if and only if $H^{a}=H$. Thus the contradiction.
\end{proof}

\begin{thm-remark}[Proof by contradiction in Mizar]\index{Proof!by Contradiction}
Mizar's proof by contradiction is rather curious. If we want to prove
$P\implies Q$ by contradiction, we assert $\neg(P\implies
Q)\implies\bot$. The proof we offer is about as satisfying as any other
proof by contradiction.
\end{thm-remark}

\nwenddocs{}\nwbegincode{53}\sublabel{NW3Mfp8C-3U116k-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-3U116k-1}}}\moddef{Proof by contradiction: fixed by inner automorphisms implies normal~{\nwtagstyle{}\subpageref{NW3Mfp8C-3U116k-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-4Qqcti-1}}\nwenddeflinemarkup
proof
  assume B1: for f being \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds Image(f|H)=H;
  assume not H is normal;
  then consider a being Element of G such that
  B2: H |^ a <> the multMagma of H
  by GROUP_3:def 13;
  consider f being \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G such that
  B3: (for x being Element of G holds f.x= x |^ a)
  by \nwlinkedidentc{Th34}{NW3Mfp8C-arh13-1};
  Image(f|H) = H |^ a by B3, \nwlinkedidentc{Th30}{NW3Mfp8C-2zspfg-1};
  hence contradiction by B1,B2;
end;
\nwused{\\{NW3Mfp8C-4Qqcti-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th30}}{Th30}}\\{{\nwixident{Th34}}{Th34}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-3U116k-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-3U116k-1}\nwindexuse{\nwixident{Th30}}{Th30}{NW3Mfp8C-3U116k-1}\nwindexuse{\nwixident{Th34}}{Th34}{NW3Mfp8C-3U116k-1}\nwendcode{}\nwbegindocs{54}\nwdocspar
\nwenddocs{}\nwfilename{nw/characteristic/results.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\section{Characteristic Subgroups}
We now arrive at the meat of the matter: characteristic subgroups!

\nwenddocs{}\nwbegincode{1}\sublabel{NW47t2dy-3NltVm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3NltVm-1}}}\moddef{Characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-3NltVm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2TX9wk-1}}\nwenddeflinemarkup
\LA{}Definition: \code{}characteristic\edoc{} attribute~{\nwtagstyle{}\subpageref{NW47t2dy-qejLV-1}}\RA{}

\LA{}Lemma: trivial subgroup is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW47t2dy-HjATr-1}}\RA{}

\LA{}Theorem: Existence of characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-3KEBxf-1}}\RA{}

\LA{}Register \code{}characteristic\edoc{} as attribute for Subgroup~{\nwtagstyle{}\subpageref{NW47t2dy-1HIoHq-1}}\RA{}
\LA{}Register \code{}strict\edoc{} \code{}characteristic\edoc{} for Subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-2iAFXC-1}}\RA{}

\LA{}Theorem: characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW47t2dy-xos9m-1}}\RA{}

\LA{}Register characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW47t2dy-24pxt5-1}}\RA{}

\LA{}Theorem: unique subgroup of order $n$ is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW47t2dy-3r3l0M-1}}\RA{}

\LA{}Theorem: characteristic subgroup of a normal subgroup is normal~{\nwtagstyle{}\subpageref{NW47t2dy-4WQdGY-1}}\RA{}

\LA{}Theorem: transitivity of characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-2ur0LT-1}}\RA{}

\LA{}Theorem: $H\subgroup G$ is characteristic iff $\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW47t2dy-4Z20G4-1}}\RA{}

\LA{}Theorem: $Z(G)$ is characteristic subgroup~{\nwtagstyle{}\subpageref{NW47t2dy-g56Nl-1}}\RA{}

\LA{}Scheme: if $H\subgroup G\land P[H]$ and $\forall\varphi\in\Aut(G),P[\varphi(H)]$, then $\bigcap\{H\subgroup G\mid P[H]\}$ is $\Aut(G)$-invariant~{\nwtagstyle{}\subpageref{NW47t2dy-3pFvE5-1}}\RA{}

\LA{}Scheme: $\bigcap\{A\subset G\mid\exists H\subgroup G, A=H, P[H]\}$ is characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-5CDvr-1}}\RA{}

\LA{}Theorem: $\FrattiniSubgroup(G)$ is characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-1wEepZ-1}}\RA{}

\LA{}Definition: $p$-Core~{\nwtagstyle{}\subpageref{NW47t2dy-4cW2Y2-1}}\RA{}

\LA{}Theorem: $p$-Core is Characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-26IJy2-1}}\RA{}

\LA{}Theorem: $\forall\varphi\in G,\varphi(\Commutators(G))=\Commutators(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-1BwBWL-1}}\RA{}

\LA{}Theorem: $\forall h\in H,\varphi(h)\in H$ implies $\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW47t2dy-3M3ox1-1}}\RA{}

\LA{}Theorem: $A\subset G$ s.t. $\forall\varphi\in\Aut(G),\varphi(A)=A$, then $\langle A\rangle$ is characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-3lDAoY-1}}\RA{}

\LA{}Theorem: The derived subgroup is characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-44iz0d-1}}\RA{}
\nwused{\\{NW18nMBU-2TX9wk-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{definition}[{Dummit and Foote~\cite[\S4.4]{dummit-foote}}]\index{Subgroup!Characteristic}\index{Characteristic!Subgroup}\label{defn:characteristic:results:characteristic-subgroup}
A subgroup $H$ of $G$ is called \define{Characteristic} in $G$, usually
denoted $H~\mathrm{char}~G$, if every Automorphism of $G$ maps $H$ to
itself; i.e., $\sigma(H)=H$ for all $\sigma\in\aut(G)$.
\end{definition}

\begin{def-remark}
The other definition which is routinely given is that $H$ is a
characteristic subgroup of $G$ if for any $\varphi\in\Aut(G)$ we have
$\varphi(H)\subgroup H$. We prove this later as equivalent in Theorem~\ref{thm:results:alt-def-of-char-subgroup}.
\end{def-remark}

\nwenddocs{}\nwbegincode{3}\sublabel{NW47t2dy-qejLV-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-qejLV-1}}}\moddef{Definition: \code{}characteristic\edoc{} attribute~{\nwtagstyle{}\subpageref{NW47t2dy-qejLV-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
definition
  let G;
  let IT be Subgroup of G;
  attr IT is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} means
  :\nwlinkedidentc{Def6}{NW47t2dy-qejLV-1}:
  for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  holds Image (f|IT) = IT;
end;
\nwindexdefn{\nwixident{characteristic}}{characteristic}{NW47t2dy-qejLV-1}\nwindexdefn{\nwixident{Def6}}{Def6}{NW47t2dy-qejLV-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Def6}}{Def6}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-qejLV-1}\nwendcode{}\nwbegindocs{4}\nwdocspar
\begin{voc}
Before rushing off to prove properties concerning characteristic
subgroups, we have to tell Mizar that \lstinline|characteristic| is now
a token that should be associated with Definition~\ref{defn:characteristic:results:characteristic-subgroup}.
\end{voc}

\nwenddocs{}\nwbegincode{5}\sublabel{NW47t2dy-4FyAEL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-4FyAEL-1}}}\moddef{DICT/CHAR.VOC~{\nwtagstyle{}\subpageref{NWoaARJ-4FyAEL-1}}}\plusendmoddef\nwstartdeflinemarkup\nwprevnextdefs{NW3Mfp8C-4FyAEL-1}{NW47t2dy-4FyAEL-2}\nwenddeflinemarkup
Vcharacteristic
\nwendcode{}\nwbegindocs{6}\nwdocspar



\begin{lemma}
  For any group $G$, its trivial subgroup $\trivialSubgroup$ is characteristic.
\end{lemma}

\nwenddocs{}\nwbegincode{7}\sublabel{NW47t2dy-HjATr-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-HjATr-1}}}\moddef{Lemma: trivial subgroup is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW47t2dy-HjATr-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
\LA{}Lemma: if $H\subgroup\trivialGroup$, then $H=\trivialGroup$~{\nwtagstyle{}\subpageref{NW47t2dy-1tYS7d-1}}\RA{}

\nwlinkedidentc{Lm7}{NW47t2dy-HjATr-1}: (1).G is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
proof
  for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds Image(f|(1).G) = (1).G
  proof
    let f be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
    reconsider I = Image(f|(1).G) as Subgroup of (1).G by \nwlinkedidentc{Th16}{NW1Nnu7l-49bqr6-1};
    (1).G = I by \nwlinkedidentc{Lm8}{NW47t2dy-1tYS7d-1};
    hence Image(f|(1).G) = (1).G;
  end;
  hence (1).G is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1};
end;
\nwindexdefn{\nwixident{Lm7}}{Lm7}{NW47t2dy-HjATr-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Lm7}}{Lm7}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Lm8}}{Lm8}}\\{{\nwixident{Th16}}{Th16}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-HjATr-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-HjATr-1}\nwindexuse{\nwixident{Lm8}}{Lm8}{NW47t2dy-HjATr-1}\nwindexuse{\nwixident{Th16}}{Th16}{NW47t2dy-HjATr-1}\nwendcode{}\nwbegindocs{8}\nwdocspar
\begin{lemma}
For any subgroup $H\subgroup G$, if $\trivialSubgroup_{G}\subgroup H$
and $H\subgroup\trivialSubgroup_{G}$, then $H=\trivialSubgroup_{G}$.
\end{lemma}

\begin{lem-remark}
I couldn't quite find this anywhere in the MML, so I had to prove it
myself.
\end{lem-remark}
\begin{lem-remark}[To do]
I think I prove this result several times, I should refactor my code accordingly.
\end{lem-remark}

\nwenddocs{}\nwbegincode{9}\sublabel{NW47t2dy-1tYS7d-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1tYS7d-1}}}\moddef{Lemma: if $H\subgroup\trivialGroup$, then $H=\trivialGroup$~{\nwtagstyle{}\subpageref{NW47t2dy-1tYS7d-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-HjATr-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm8}{NW47t2dy-1tYS7d-1}: H is Subgroup of (1).G implies the multMagma of H = the multMagma of (1).G
proof
  assume H is Subgroup of (1).G;
  then reconsider H as Subgroup of (1).G;
  H is Subgroup of (1).G & (1).G is Subgroup of H by GROUP_2:65;
  hence thesis by GROUP_2:55;
end;
\nwindexdefn{\nwixident{Lm8}}{Lm8}{NW47t2dy-1tYS7d-1}\eatline
\nwused{\\{NW47t2dy-HjATr-1}}\nwidentdefs{\\{{\nwixident{Lm8}}{Lm8}}}\nwendcode{}\nwbegindocs{10}\nwdocspar
\begin{theorem}[Existence of a characteristic subgroup]
For any group $G$, there exists a subgroup $H\subgroup G$ which is characteristic.
\end{theorem}
\begin{proof}[Proof outline]
The trivial subgroup is a subgroup of any group. And it is
characteristic. Thus the result.
\end{proof}

\nwenddocs{}\nwbegincode{11}\sublabel{NW47t2dy-3KEBxf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3KEBxf-1}}}\moddef{Theorem: Existence of characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-3KEBxf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup

theorem \nwlinkedidentc{Th36}{NW47t2dy-3KEBxf-1}:
  ex H st H is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
proof
  take H = (1).G;
  thus H is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} by \nwlinkedidentc{Lm7}{NW47t2dy-HjATr-1};
end;
\nwindexdefn{\nwixident{Th36}}{Th36}{NW47t2dy-3KEBxf-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th36}}{Th36}}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Lm7}}{Lm7}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-3KEBxf-1}\nwindexuse{\nwixident{Lm7}}{Lm7}{NW47t2dy-3KEBxf-1}\nwendcode{}\nwbegindocs{12}\nwdocspar
\begin{registration}
Now we can instruct Mizar to recognize {\Tt{}\nwlinkedidentq{characteristic}{NW47t2dy-qejLV-1}\nwendquote} as an
adjective of {\Tt{}Subgroup\nwendquote}.
\end{registration}

\nwenddocs{}\nwbegincode{13}\sublabel{NW47t2dy-1HIoHq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1HIoHq-1}}}\moddef{Register \code{}characteristic\edoc{} as attribute for Subgroup~{\nwtagstyle{}\subpageref{NW47t2dy-1HIoHq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwprevnextdefs{\relax}{NW47t2dy-1HIoHq-2}\nwenddeflinemarkup
registration
  let G;
  cluster \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} for Subgroup of G;
  existence by \nwlinkedidentc{Th36}{NW47t2dy-3KEBxf-1};
end;
\nwalsodefined{\\{NW47t2dy-1HIoHq-2}}\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th36}}{Th36}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-1HIoHq-1}\nwindexuse{\nwixident{Th36}}{Th36}{NW47t2dy-1HIoHq-1}\nwendcode{}\nwbegindocs{14}\nwdocspar

\begin{reserve}
We will henceforth use the symbol $K$ to refer to characteristic
subgroups of $G$, unless otherwise stated.
\end{reserve}


\nwenddocs{}\nwbegincode{15}\sublabel{NW47t2dy-1HIoHq-2}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1HIoHq-2}}}\moddef{Register \code{}characteristic\edoc{} as attribute for Subgroup~{\nwtagstyle{}\subpageref{NW47t2dy-1HIoHq-1}}}\plusendmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwprevnextdefs{NW47t2dy-1HIoHq-1}{\relax}\nwenddeflinemarkup
reserve K for \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G;
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-1HIoHq-2}\nwendcode{}\nwbegindocs{16}\nwdocspar

\begin{registration}
We can also register the cluster {\Tt{}strict\nwendquote} {\Tt{}\nwlinkedidentq{characteristic}{NW47t2dy-qejLV-1}\nwendquote} for
Subgroups, which will come handy later.
\end{registration}

\nwenddocs{}\nwbegincode{17}\sublabel{NW47t2dy-2iAFXC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-2iAFXC-1}}}\moddef{Register \code{}strict\edoc{} \code{}characteristic\edoc{} for Subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-2iAFXC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
registration
  let G be Group;
  cluster strict \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} for Subgroup of G;
  existence
  proof
    take (1).G;
    thus thesis by \nwlinkedidentc{Lm7}{NW47t2dy-HjATr-1};
  end;
end;
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Lm7}}{Lm7}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-2iAFXC-1}\nwindexuse{\nwixident{Lm7}}{Lm7}{NW47t2dy-2iAFXC-1}\nwendcode{}\nwbegindocs{18}\nwdocspar

\begin{theorem}[Characteristic subgroups are normal]
Let $G$ be a group, $K\subgroup G$ a subgroup. If $K$ is a
characteristic subgroup of $G$, then $K\normalSubgroup G$ it is also
normal.
\end{theorem}

\begin{proof}[Proof outline]
We show $K$ is invariant under conjugation, i.e., for any $a\in G$ we
have $K^{a}=K$. Then $K\normalSubgroup G$.
\end{proof}

\nwenddocs{}\nwbegincode{19}\sublabel{NW47t2dy-xos9m-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-xos9m-1}}}\moddef{Theorem: characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW47t2dy-xos9m-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th37}{NW47t2dy-xos9m-1}:
  K is normal Subgroup of G
proof
A1:  for a being Element of G holds K |^ a = K
  \LA{}Sub-proof: characteristic subgroups invariant under conjugation~{\nwtagstyle{}\subpageref{NW47t2dy-2mkOw1-1}}\RA{}
  for a being Element of G holds the carrier of K |^ a = the carrier of K by A1;
  then for a being Element of G holds the multMagma of K = K |^ a by GROUP_2:59;
  hence K is normal Subgroup of G by GROUP_3:def 13;
end;
\nwindexdefn{\nwixident{Th37}}{Th37}{NW47t2dy-xos9m-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th37}}{Th37}}}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{proof}[Sub-proof (characteristic subgroups invariant under conjugation)]
Really, proving a characteristic subgroup is normal amounts to proving
invariance under conjugation. Fortunately, we have established this
along the way! We just have to point to our hard work from earlier.
\end{proof}

\nwenddocs{}\nwbegincode{21}\sublabel{NW47t2dy-2mkOw1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-2mkOw1-1}}}\moddef{Sub-proof: characteristic subgroups invariant under conjugation~{\nwtagstyle{}\subpageref{NW47t2dy-2mkOw1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-xos9m-1}}\nwenddeflinemarkup
proof
  let a be Element of G;
  consider f being \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G such that
A2: for x being Element of G holds f.x = x |^ a
  by \nwlinkedidentc{Th34}{NW3Mfp8C-arh13-1};
  K = Image(f|K) by \nwlinkedidentc{Def6}{NW47t2dy-qejLV-1}
   .= K |^ a by A2,\nwlinkedidentc{Th30}{NW3Mfp8C-2zspfg-1};
  hence thesis;
end;
\nwused{\\{NW47t2dy-xos9m-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Def6}}{Def6}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th30}}{Th30}}\\{{\nwixident{Th34}}{Th34}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-2mkOw1-1}\nwindexuse{\nwixident{Def6}}{Def6}{NW47t2dy-2mkOw1-1}\nwindexuse{\nwixident{inner}}{inner}{NW47t2dy-2mkOw1-1}\nwindexuse{\nwixident{Th30}}{Th30}{NW47t2dy-2mkOw1-1}\nwindexuse{\nwixident{Th34}}{Th34}{NW47t2dy-2mkOw1-1}\nwendcode{}\nwbegindocs{22}\nwdocspar

\begin{registration}
Now we can register this fact with Mizar, so it will be automatically
accounted for in future proofs. Since we made this fact a proof, we just
have to tell Mizar where to find the proof.
\end{registration}

\nwenddocs{}\nwbegincode{23}\sublabel{NW47t2dy-24pxt5-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-24pxt5-1}}}\moddef{Register characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW47t2dy-24pxt5-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
registration
  let G be Group;
  cluster \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} -> normal for Subgroup of G;
  coherence by \nwlinkedidentc{Th37}{NW47t2dy-xos9m-1};
end;
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th37}}{Th37}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-24pxt5-1}\nwindexuse{\nwixident{Th37}}{Th37}{NW47t2dy-24pxt5-1}\nwendcode{}\nwbegindocs{24}\nwdocspar

\begin{theorem}
  If $H$ is the unique subgroup of a given order in a group $G$,
  then $H$ is characteristic in $G$.
\end{theorem}

\begin{proof}
Let $H$ be a subgroup of $G$. Assume there are no other subgroups of
order $|H|$. Then for any $\varphi\in\Aut(G)$, we'd have $\varphi(H)=H$
since $\varphi(H)$ has the same order as $H$ by
Theorem~\ref{thm:pure-math:iso-subgroups-have-same-order}, but we
assumed there is only one (namely, $H$).
\end{proof}

\nwenddocs{}\nwbegincode{25}\sublabel{NW47t2dy-3r3l0M-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3r3l0M-1}}}\moddef{Theorem: unique subgroup of order $n$ is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW47t2dy-3r3l0M-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th38}{NW47t2dy-3r3l0M-1}:
  for H being strict Subgroup of G
  st (for K being strict Subgroup of G
      st card K = card H
      holds H = K)
  holds H is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
proof
  let H be strict Subgroup of G;
  assume A1: for K being strict Subgroup of G st card K = card H holds H = K;
  H is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
  proof
    let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
    Image(phi|H) = phi .: H by GRSOLV_1:def 3;
    then card H = card Image(phi|H) by \nwlinkedidentc{Th20}{NW1Nnu7l-3WScXE-1},GROUP_6:73;
    hence Image(phi|H) = H by A1;
  end;
  hence thesis;
end;
\nwindexdefn{\nwixident{Th38}}{Th38}{NW47t2dy-3r3l0M-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th38}}{Th38}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th20}}{Th20}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-3r3l0M-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-3r3l0M-1}\nwindexuse{\nwixident{Th20}}{Th20}{NW47t2dy-3r3l0M-1}\nwendcode{}\nwbegindocs{26}\nwdocspar
\begin{theorem}
If $K\subgroup H$ is characteristic, and if $H\normalSubgroup G$ is normal,
then $K\normalSubgroup G$ is normal.
\end{theorem}

This required a surprising amount of legwork, even when carving it out
into a helper theorem! The ``architecture'' of the proof follows what we
would find in a textbook. It's just that a textbook will gloss over
facts about morphisms which we'd need to prove.

\begin{proof}
Let $K$ be a characteristic subgroup of $N$ and $N\normalSubgroup G$ be
a normal subgroup. Then consider conjugation of $N$ by any element $a\in G$.
This corresponds to an inner Automorphism of $G$, $\varphi\in\Inn(G)$, and an
automorphism $\varphi|_{N}\in\Aut(N)$ of $N$. But since $K$ is
characteristic in $N$, it follows $\varphi|_{N}(K)=K$. Then $K$,
considered as a subgroup of $G$, must be invariant under $\varphi$ and
therefore a normal subgroup of $G$ by Theorem~\ref{thm:characteristic:preparatory:normal-subgroup}.
\end{proof}

\begin{thm-remark}
The {\Tt{}strict\nwendquote} hypothesis on {\Tt{}N\nwendquote} is necessary, since Definition~\mml[def6]{group2}%
\MizDef{GROUP\_2}[06]{6} defines equality only on \emph{strict} subgroups.
\end{thm-remark}

\nwenddocs{}\nwbegincode{27}\sublabel{NW47t2dy-4WQdGY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-4WQdGY-1}}}\moddef{Theorem: characteristic subgroup of a normal subgroup is normal~{\nwtagstyle{}\subpageref{NW47t2dy-4WQdGY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
\LA{}Lemma: two group morphisms which coincide on subgroup have the same image~{\nwtagstyle{}\subpageref{NW47t2dy-475WvU-1}}\RA{}

theorem \nwlinkedidentc{Th39}{NW47t2dy-4WQdGY-1}:
  for N being strict normal Subgroup of G
  for K being \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of N
  holds K is normal Subgroup of G
proof
  let N be strict normal Subgroup of G;
  let K be \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of N;
  for a being Element of G holds K |^ a = K
  \LA{}Proof: $\forall a\in G, K^{a}=K$~{\nwtagstyle{}\subpageref{NW47t2dy-4CFIX3-1}}\RA{}
  hence K is normal Subgroup of G by \nwlinkedidentc{Th4}{NW18nMBU-4Nsdji-1};
end;
\nwindexdefn{\nwixident{Th39}}{Th39}{NW47t2dy-4WQdGY-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th39}}{Th39}}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th4}}{Th4}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-4WQdGY-1}\nwindexuse{\nwixident{Th4}}{Th4}{NW47t2dy-4WQdGY-1}\nwendcode{}\nwbegindocs{28}\nwdocspar
\begin{proof}[Sub-proof ($\forall a\in G, K^{a}=K$)]
Given an arbitrary $a\in G$, we construct an inner automorphism
$\varphi\in\Inn(G)$ defined by $\varphi(x)=x^{a}$. Then $\varphi(N)=N$
by Theorem~\ref{thm:characteristic:inner:subgroup-is-normal-iff-invariant-under-every-inner-automorphism}
which implies $\varphi|_{N}\in\Aut(N)$ by Theorem~\ref{thm:characteristic:automorphism:automorphism-which-leaves-subgroup-invariant-is-automorphism-of-subgroup}.
Viewed
as an automorphism of $N$, $\varphi|_{N}=:\psi\in\Aut(N)$, we must have
$\psi(K)=K$ by virtue of $K$ being characteristic subgroup of $N$. But
$\psi(K)=\varphi(K)$ due to a sub-sub-proof that $\forall k\in K,\psi(k)=\varphi(k)$.
Then the result follows.
\end{proof}

\nwenddocs{}\nwbegincode{29}\sublabel{NW47t2dy-4CFIX3-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-4CFIX3-1}}}\moddef{Proof: $\forall a\in G, K^{a}=K$~{\nwtagstyle{}\subpageref{NW47t2dy-4CFIX3-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-4WQdGY-1}}\nwenddeflinemarkup
proof
  let a be Element of G;
  consider g being \nwlinkedidentc{inner}{NW3Mfp8C-1Tb4wZ-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G such that
  A1: for x being Element of G holds g.x = x |^ a
  by \nwlinkedidentc{Th34}{NW3Mfp8C-arh13-1};

  Image(g|N) = N by \nwlinkedidentc{Th35}{NW3Mfp8C-4Qqcti-1};
  then reconsider f = g|N as \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of N by \nwlinkedidentc{Th24}{NW1Nnu7l-1QHEJY-1};
  A2: Image(f|K) = K by \nwlinkedidentc{Def6}{NW47t2dy-qejLV-1};

  for k being Element of G st k in K holds f.k = g.k by \nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1},GROUP_2:40;
  then Image(f|K) = Image(g|K) by \nwlinkedidentc{Th40}{NW47t2dy-475WvU-1};
  then Image(g|K) = K & Image(g|K) = K |^ a by A1,A2,\nwlinkedidentc{Th30}{NW3Mfp8C-2zspfg-1};
  then K = K |^ a;
  hence thesis;
end;
\nwused{\\{NW47t2dy-4WQdGY-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Def6}}{Def6}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th2}}{Th2}}\\{{\nwixident{Th24}}{Th24}}\\{{\nwixident{Th30}}{Th30}}\\{{\nwixident{Th34}}{Th34}}\\{{\nwixident{Th35}}{Th35}}\\{{\nwixident{Th40}}{Th40}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Def6}}{Def6}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{inner}}{inner}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th2}}{Th2}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th24}}{Th24}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th30}}{Th30}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th34}}{Th34}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th35}}{Th35}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th40}}{Th40}{NW47t2dy-4CFIX3-1}\nwendcode{}\nwbegindocs{30}\nwdocspar


\begin{theorem}
If we have two morphisms $f\colon G_{1}\to G_{2}$ and $g\colon H_{1}\to
H_{2}$, where $H_{1}\subgroup G_{1}$ and $H_{2}\subgroup G_{2}$, and if
we have a common subgroup $K\subgroup H_{1}\subgroup G_{1}$, then the
image of the morphisms on this shared subgroup should coincide.
\end{theorem}

\begin{proof}[Proof outline]
  Let $f\colon G_{1}\to G_{2}$ be a group morphism, let $H_{1}\subgroup G_{1}$
  and $H_{2}\subgroup G_{2}$ be subgroups, let $g\colon H_{1}\to H_{2}$.
  If $K\subgroup H_{1}$ is a subgroup for which $g|_{K}=f|_{K}$, then $f(K)=g(K)$.
\end{proof}


\begin{thm-remark}
The heavy lifting is done by a straightforward and intuitive result.

Initially, I had a more conservative result: let $\varphi,\psi\in\Aut(G)$
and $H\subgroup G$, if $\forall h\in H,\varphi(h)=\psi(h)$, then
$\varphi(H)=\psi(H)$. Then I realized this didn't describe the situation
I was facing, so I revised it to fit. Then I realized I didn't need the
hypothesis that $\varphi$ and $\psi$ were automorphisms, they could be
generic morphisms.
\end{thm-remark}

\nwenddocs{}\nwbegincode{31}\sublabel{NW47t2dy-475WvU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-475WvU-1}}}\moddef{Lemma: two group morphisms which coincide on subgroup have the same image~{\nwtagstyle{}\subpageref{NW47t2dy-475WvU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-4WQdGY-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th40}{NW47t2dy-475WvU-1}:
  for G1,G2 being Group
  for H1 being Subgroup of G1
  for K being Subgroup of H1
  for H2 being Subgroup of G2
  for f being Homomorphism of G1,G2
  for g being Homomorphism of H1,H2
  st (for k being Element of G1 st k in K holds f.k=g.k)
  holds Image(f|K) = Image(g|K)
proof
  let G1,G2 be Group;
  let H1 be Subgroup of G1;
  let K be Subgroup of H1;
  let H2 be Subgroup of G2;
  let f be Homomorphism of G1,G2;
  let g be Homomorphism of H1,H2;
  assume A1: for k being Element of G1 st k in K holds f.k=g.k;
  A2: Image(f|K) is strict Subgroup of G2 &
      Image(g|K) is strict Subgroup of G2 by GROUP_2:56;
  for y being object
  holds y in the carrier of Image(f|K) iff y in the carrier of Image(g|K)
  \LA{}Proof: $y\in f(K)\iff y\in g(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1JehLA-1}}\RA{}
  hence Image(f|K) = Image(g|K) by A2,GROUP_2:59,TARSKI:2;
end;
\nwindexdefn{\nwixident{Th40}}{Th40}{NW47t2dy-475WvU-1}\eatline
\nwused{\\{NW47t2dy-4WQdGY-1}}\nwidentdefs{\\{{\nwixident{Th40}}{Th40}}}\nwendcode{}\nwbegindocs{32}\nwdocspar
\begin{proof}[Sub-proof ($\forall y,y\in f(K)\iff y\in g(K)$)]
  We show, for any $y$, that both $y\in f(K)\implies y\in g(K)$ and
  $y\in f(K)\impliedby y\in g(K)$. Taken together, this gives us
  $y\in f(K)\iff y\in g(K)$.
\end{proof}

\nwenddocs{}\nwbegincode{33}\sublabel{NW47t2dy-1JehLA-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1JehLA-1}}}\moddef{Proof: $y\in f(K)\iff y\in g(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1JehLA-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-475WvU-1}}\nwenddeflinemarkup
proof
  let y be object;
  thus y in the carrier of Image(f|K) implies y in the carrier of Image(g|K)
  \LA{}Proof: $y\in f(K)\implies y\in g(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1yCGg9-1}}\RA{}
  thus y in the carrier of Image(g|K) implies y in the carrier of Image(f|K)
  \LA{}Proof: $y\in g(K)\implies y\in f(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1aEga6-1}}\RA{}
  thus thesis;
end;
\nwused{\\{NW47t2dy-475WvU-1}}\nwendcode{}\nwbegindocs{34}\nwdocspar

\begin{proof}[Sub-proof step 1 ($y\in f(K)\implies y\in g(K)$)]
We have $y\in f(K)$ if there is some $h\in K$ such that $y=f|_{K}(h)$.
But by hypothesis, $f|_{K}(h)=g|_{K}(h)$, and thus $y=g|_{k}(h)\in g(K)$.
\end{proof}

\nwenddocs{}\nwbegincode{35}\sublabel{NW47t2dy-1yCGg9-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1yCGg9-1}}}\moddef{Proof: $y\in f(K)\implies y\in g(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1yCGg9-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1JehLA-1}}\nwenddeflinemarkup
proof
  assume y in the carrier of Image(f|K);
  then consider h being Element of K such that
  B1: (f|K).h = y
  by STRUCT_0:def 5,GROUP_6:45;
  B2: h is Element of G1 & h is Element of H1 & h in K by GROUP_2:42;
  f.h = g.h by A1,B2
     .= (g|K).h by B2, \nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1};
  then (g|K).h = f.h
              .= (f|K).h by B2,\nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1}
              .= y by B1;
  hence y in the carrier of Image(g|K) by STRUCT_0:def 5,GROUP_6:45;
end;
\nwused{\\{NW47t2dy-1JehLA-1}}\nwidentuses{\\{{\nwixident{Th2}}{Th2}}}\nwindexuse{\nwixident{Th2}}{Th2}{NW47t2dy-1yCGg9-1}\nwendcode{}\nwbegindocs{36}\nwdocspar

\begin{proof}[Sub-proof step 2 ($y\in g(K)\implies y\in f(K)$)]
  We have $y\in g(K)$ if there is some $h\in K$ such that $y=g|_{K}(h)$.
  But by hypothesis $g|_{K}(h) = f|_{K}(h)$, and thus $y = f|_{K}(h)\in f(K)$.
\end{proof}

\nwenddocs{}\nwbegincode{37}\sublabel{NW47t2dy-1aEga6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1aEga6-1}}}\moddef{Proof: $y\in g(K)\implies y\in f(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1aEga6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1JehLA-1}}\nwenddeflinemarkup
proof
  assume y in the carrier of Image(g|K);
  then consider h being Element of K such that
  C1: (g|K).h = y
  by STRUCT_0:def 5,GROUP_6:45;
  C2: h is Element of H1 & h is Element of G1 & h in K by GROUP_2:42;
  g.h = f.h by A1,C2
     .= (f|K).h by C2,\nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1};
  then (f|K).h = g.h
              .= (g|K).h by C2,\nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1}
              .= y by C1;
  hence y in the carrier of Image(f|K) by STRUCT_0:def 5,GROUP_6:45;
end;
\nwused{\\{NW47t2dy-1JehLA-1}}\nwidentuses{\\{{\nwixident{Th2}}{Th2}}}\nwindexuse{\nwixident{Th2}}{Th2}{NW47t2dy-1aEga6-1}\nwendcode{}\nwbegindocs{38}\nwdocspar

\begin{theorem}
If $N\subgroup G$ is characteristic, and if $K\subgroup N$ is
characteristic, then $K\subgroup G$ is characteristic.
\end{theorem}

The proof is remarkably similar to the previous theorem. In fact, we can
re-use exactly the same line of reasoning establishing
$\forall k\in G$, $k\in K\implies f(k)=g(k)$.

\begin{proof}[Proof outline]
For any automorphism $g\in\Aut(G)$ we have $g(N)=N$ by virtue of $N$ is
a characteristic subgroup of $G$. We can then consider $f=g|_{N}$ as an
automorphism of $N$. Then $f(K)=K$ since $K$ is a characteristic
subgroup of $N$.

We have $\forall k\in K, f(k)=g(k)$. Thus $f(K)=g(K)$, and we have
established $f(K)=K$, therefore $g(K)=K$.
\end{proof}

\nwenddocs{}\nwbegincode{39}\sublabel{NW47t2dy-2ur0LT-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-2ur0LT-1}}}\moddef{Theorem: transitivity of characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-2ur0LT-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th41}{NW47t2dy-2ur0LT-1}:
  for N being \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G
  for K being \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of N
  holds K is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G
proof
  let N be \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G;
  let K be \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of N;
  for g being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds Image(g|K) = K
  proof
    let g be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
    Image(g|N) = N by \nwlinkedidentc{Def6}{NW47t2dy-qejLV-1};
    then reconsider f = g|N as \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of N by \nwlinkedidentc{Th24}{NW1Nnu7l-1QHEJY-1};
    A1: Image(f|K) = K by \nwlinkedidentc{Def6}{NW47t2dy-qejLV-1};

    for k being Element of G st k in K holds f.k = g.k by \nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1}, GROUP_2:40;
    then Image(g|K) = Image(f|K) by \nwlinkedidentc{Th40}{NW47t2dy-475WvU-1}
                   .= K by A1;
    hence Image(g|K) = K;
  end;
  hence K is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G by \nwlinkedidentc{Def6}{NW47t2dy-qejLV-1};
end;
\nwindexdefn{\nwixident{Th41}}{Th41}{NW47t2dy-2ur0LT-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th41}}{Th41}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Def6}}{Def6}}\\{{\nwixident{Th2}}{Th2}}\\{{\nwixident{Th24}}{Th24}}\\{{\nwixident{Th40}}{Th40}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-2ur0LT-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-2ur0LT-1}\nwindexuse{\nwixident{Def6}}{Def6}{NW47t2dy-2ur0LT-1}\nwindexuse{\nwixident{Th2}}{Th2}{NW47t2dy-2ur0LT-1}\nwindexuse{\nwixident{Th24}}{Th24}{NW47t2dy-2ur0LT-1}\nwindexuse{\nwixident{Th40}}{Th40}{NW47t2dy-2ur0LT-1}\nwendcode{}\nwbegindocs{40}\nwdocspar
\begin{theorem}\label{thm:results:alt-def-of-char-subgroup}
  Let $H\subgroup G$.
  Then $H\charSubgroup G$ if and only if for any automorphism $\varphi$, we have
  $\varphi(H)\subgroup H$.
\end{theorem}

Some texts give this as the definition for $H$ being a characteristic
subgroup, which is fine.

\begin{proof}[Proof outline]
  Given a subgroup $H\subgroup G$. We have two halfs to our proof.

We prove $H$ is a characteristic subgroup of $G$ implies
$\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$. This uses the facts
$\varphi(H)=H\subgroup H$. This establishes the first half of the proof.

Now, the other direction, assuming
$\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$ we find $H$ is a
characteristic subgroup of $G$.
\end{proof}

\nwenddocs{}\nwbegincode{41}\sublabel{NW47t2dy-4Z20G4-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-4Z20G4-1}}}\moddef{Theorem: $H\subgroup G$ is characteristic iff $\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW47t2dy-4Z20G4-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th42}{NW47t2dy-4Z20G4-1}:
  for H being strict Subgroup of G
  holds H is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G iff
  (for phi holds Image(phi|H) is Subgroup of H)
proof
  let H be strict Subgroup of G;
  thus H is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G implies
       (for phi holds Image(phi|H) is Subgroup of H)
  \LA{}Proof: $H\charSubgroup G\implies\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW47t2dy-ikrOm-1}}\RA{}

  thus (for phi holds Image(phi|H) is Subgroup of H)
       implies H is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G
  \LA{}Proof: $H\charSubgroup G\impliedby\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW47t2dy-1WVJgD-1}}\RA{}

  thus thesis;
end;
\nwindexdefn{\nwixident{Th42}}{Th42}{NW47t2dy-4Z20G4-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th42}}{Th42}}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-4Z20G4-1}\nwendcode{}\nwbegindocs{42}\nwdocspar
\begin{proof}[Sub-proof ($H\charSubgroup G\implies\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$).]
The proof in the forward direction boils down to the observation
$H\subgroup H$ then applying the definition of characteristic subgroup.
\end{proof}


\nwenddocs{}\nwbegincode{43}\sublabel{NW47t2dy-ikrOm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-ikrOm-1}}}\moddef{Proof: $H\charSubgroup G\implies\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW47t2dy-ikrOm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-4Z20G4-1}}\nwenddeflinemarkup
proof
  assume H is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G;
  then Image(phi|H) = H & H is Subgroup of H by GROUP_2:54,\nwlinkedidentc{Def6}{NW47t2dy-qejLV-1};
  hence Image(phi|H) is Subgroup of H;
end;
\nwused{\\{NW47t2dy-4Z20G4-1}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Def6}}{Def6}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-ikrOm-1}\nwindexuse{\nwixident{Def6}}{Def6}{NW47t2dy-ikrOm-1}\nwendcode{}\nwbegindocs{44}\nwdocspar

\begin{proof}[Sub-proof ($H\charSubgroup G\impliedby\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$).]
The proof in the backward direction amounts to proving, for arbitrary
automorphisms $\varphi$ of $G$, $\varphi(H)\subgroup H$ and since
$\varphi$ is an Automorphism $H\subgroup \varphi^{-1}(H)$. Then for any
$\varphi\in\Aut(G)$, we have $\varphi(H)\subgroup H$. Taken together,
this implies $\forall\varphi\in\Aut(G)$, $H = \varphi(H)$.

But as discussed earlier (\S\ref{par:introduction:subgroup-equality}),
subgroup equality holds only for strict subgroups. For this reason, we
have the hypothesis that $H$ is a strict subgroup of $G$.
\end{proof}

\nwenddocs{}\nwbegincode{45}\sublabel{NW47t2dy-1WVJgD-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1WVJgD-1}}}\moddef{Proof: $H\charSubgroup G\impliedby\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW47t2dy-1WVJgD-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-4Z20G4-1}}\nwenddeflinemarkup
proof
  assume A1: Image(phi|H) is Subgroup of H;
  A2: H is Subgroup of Image(phi|H)
  \LA{}Proof: $\forall\varphi\in\Aut(G),H\subgroup\varphi(H)$~{\nwtagstyle{}\subpageref{NW47t2dy-2AHwGO-1}}\RA{}
  H = Image(phi|H)
  proof
    H is Subgroup of Image(phi|H) & Image(phi|H) is Subgroup of H
    by A1,A2;
    hence H = Image(phi|H) by GROUP_2:55;
  end;
  hence H is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G by \nwlinkedidentc{Def6}{NW47t2dy-qejLV-1};
end;
\nwused{\\{NW47t2dy-4Z20G4-1}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Def6}}{Def6}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-1WVJgD-1}\nwindexuse{\nwixident{Def6}}{Def6}{NW47t2dy-1WVJgD-1}\nwendcode{}\nwbegindocs{46}\nwdocspar

\begin{proof}[Sub-sub-proof ($\forall\varphi\in\Aut(G),H\subgroup\varphi(H)$).]
This is a slick argument, which is confusing until one realizes
what's going on.  We use the facts that, for any $\varphi,\psi\in\Aut(G)$,
\begin{itemize}
\item Hypothesis {\Tt{}A1\nwendquote}: $\psi(H)\subgroup H$;
\item Theorem~\ref{thm:characteristic:automorphism:f-fInv-H-is-subgroup-of-H}: for $\psi=\varphi^{-1}$, we have $\varphi[\psi(H)]\subgroup\varphi(H)$; and
\item Theorem~\ref{thm:characteristic:automorphism:phi-phiInv-H-is-H}: for $\psi=\varphi^{-1}$, the underlying magmas of $H$ and $\varphi[\psi(H)]$ are equal.
\end{itemize}
This suffices to infer $H\subgroup\varphi(H)$.
\end{proof}

\nwenddocs{}\nwbegincode{47}\sublabel{NW47t2dy-2AHwGO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-2AHwGO-1}}}\moddef{Proof: $\forall\varphi\in\Aut(G),H\subgroup\varphi(H)$~{\nwtagstyle{}\subpageref{NW47t2dy-2AHwGO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1WVJgD-1}}\nwenddeflinemarkup
proof
  consider psi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G such that
  B1: psi = phi" and
  B2: Image(phi|Image(psi|H)) is Subgroup of Image(phi|H) by A1,\nwlinkedidentc{Th17}{NW1Nnu7l-g7029-1};
  consider psi2 being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G such that
  B3: psi2 = phi" and
  B4: the multMagma of H = the multMagma of Image(phi|Image(psi2|H)) by \nwlinkedidentc{Th18}{NW1Nnu7l-xUcSR-1};
  thus H is Subgroup of Image(phi|H) by B1,B2,B3,B4;
end;
\nwused{\\{NW47t2dy-1WVJgD-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th17}}{Th17}}\\{{\nwixident{Th18}}{Th18}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-2AHwGO-1}\nwindexuse{\nwixident{Th17}}{Th17}{NW47t2dy-2AHwGO-1}\nwindexuse{\nwixident{Th18}}{Th18}{NW47t2dy-2AHwGO-1}\nwendcode{}\nwbegindocs{48}\nwdocspar


\begin{theorem}\index{$Z(G)$}\index{Center!Group}\index{Group!Center}
Let $G$ be a group. Its center $Z(G)$ is a characteristic subgroup.
\end{theorem}

\begin{proof}[Proof outline]
This is our first application of
$\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$ implies $H$ is characteristic.
The bulk of the proof amounts to showing $\varphi(Z(G))\subgroup Z(G)$,
which requires two prior steps:
\begin{enumerate}
\item for any $g\in G$ and $z\in Z(G)$, we have $\varphi(z)g =
  g\varphi(z)$ --- i.e., $\varphi(z)$ commutes with every element of
  $G$; then
\item $\varphi(z)\in Z(G)$ for any $z\in Z(G)$.
\end{enumerate}
Then we have $\varphi(Z(G))$ be a subgroup of $Z(G)$, which let's us use
the previous theorem.
\end{proof}

\begin{thm-remark}
The {\Tt{}center\nwendquote}\mizindex{Center@\texttt{center}} functor is defined in
Definition~\mml[def10]{group5}\MizDef{GROUP\_5}{10}.
\end{thm-remark}

\nwenddocs{}\nwbegincode{49}\sublabel{NW47t2dy-g56Nl-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-g56Nl-1}}}\moddef{Theorem: $Z(G)$ is characteristic subgroup~{\nwtagstyle{}\subpageref{NW47t2dy-g56Nl-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup

theorem \nwlinkedidentc{Th43}{NW47t2dy-g56Nl-1}:
  center G is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G
proof
  set Z = center G;
  \LA{}Prove $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-1dPqXM-1}}\RA{}

  hence Z is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G by \nwlinkedidentc{Th42}{NW47t2dy-4Z20G4-1};
end;
\nwindexdefn{\nwixident{Th43}}{Th43}{NW47t2dy-g56Nl-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th43}}{Th43}}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th42}}{Th42}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-g56Nl-1}\nwindexuse{\nwixident{Th42}}{Th42}{NW47t2dy-g56Nl-1}\nwendcode{}\nwbegindocs{50}\nwdocspar
\begin{proof}[Proof branch ($\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$)]
The heart of the proof amounts to showing, for any Automorphism
$\varphi$, that $\varphi(Z(G))$ is a subgroup of $Z(G)$.
\end{proof}

\nwenddocs{}\nwbegincode{51}\sublabel{NW47t2dy-1dPqXM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1dPqXM-1}}}\moddef{Prove $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-1dPqXM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-g56Nl-1}}\nwenddeflinemarkup
\LA{}Step 1: $\forall\varphi\in\Aut(G)\forall y\in G\forall z\in Z(G), \varphi(z)y = y\varphi(z)$~{\nwtagstyle{}\subpageref{NW47t2dy-3ZyLrF-1}}\RA{}
\LA{}Step 2: $\forall\varphi\in\Aut(G)\forall z\in G, z\in Z(G)\implies \varphi(z)\in Z(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-1r6gW0-1}}\RA{}
\LA{}Step 3: $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-10qnyb-1}}\RA{}
\nwused{\\{NW47t2dy-g56Nl-1}}\nwendcode{}\nwbegindocs{52}\nwdocspar

\begin{proof}[Proof step 1 ($\forall\varphi\in\Aut(G)\forall y\in G\forall z\in Z(G), \varphi(z)y = y\varphi(z)$).]
Proving $\varphi(z)$ commutes with every element of the group is a
straightforward calculation. In fact, this is usually what textbooks
present, then dismiss the rest of the proof as ``trivial'' or
``obvious''.
\end{proof}


\nwenddocs{}\nwbegincode{53}\sublabel{NW47t2dy-3ZyLrF-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3ZyLrF-1}}}\moddef{Step 1: $\forall\varphi\in\Aut(G)\forall y\in G\forall z\in Z(G), \varphi(z)y = y\varphi(z)$~{\nwtagstyle{}\subpageref{NW47t2dy-3ZyLrF-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1dPqXM-1}}\nwenddeflinemarkup
A1: for y,z being Element of G
st z in Z
holds (phi.z)*y = y*phi.z
proof
  let y,z be Element of G;
  assume B1: z in Z;
  set x = (phi").y;
  (phi.z)*y = (phi.z)*(phi.x) by \nwlinkedidentc{Th6}{NW18nMBU-1Brdpy-1}
           .= phi.(z*x) by GROUP_6:def 6
           .= phi.(x*z) by B1,GROUP_5:77
           .= (phi.x)*(phi.z) by GROUP_6:def 6
           .= y*(phi.z) by \nwlinkedidentc{Th6}{NW18nMBU-1Brdpy-1};
  hence thesis;
end;
\nwused{\\{NW47t2dy-1dPqXM-1}}\nwidentuses{\\{{\nwixident{Th6}}{Th6}}}\nwindexuse{\nwixident{Th6}}{Th6}{NW47t2dy-3ZyLrF-1}\nwendcode{}\nwbegindocs{54}\nwdocspar

\begin{proof}[Proof step 2 ($\forall\varphi\in\Aut(G)\forall z\in G, z\in Z(G)\implies \varphi(z)\in Z(G)$).]
Establishing $z\in Z(G)$ implies $\varphi(z)\in Z(G)$ amounts to
unfolding definitions.
\end{proof}

\nwenddocs{}\nwbegincode{55}\sublabel{NW47t2dy-1r6gW0-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1r6gW0-1}}}\moddef{Step 2: $\forall\varphi\in\Aut(G)\forall z\in G, z\in Z(G)\implies \varphi(z)\in Z(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-1r6gW0-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1dPqXM-1}}\nwenddeflinemarkup
A2: for z being Element of G
st z in Z
holds (phi|Z).z in Z
proof
  let z be Element of G;
  assume B1: z in Z;
  then for y being Element of G holds (phi.z)*y=y*(phi.z) by A1;
  then (phi.z) in Z by GROUP_5:77;
  hence ((phi|Z).z) in Z by B1,\nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1};
end;
\nwused{\\{NW47t2dy-1dPqXM-1}}\nwidentuses{\\{{\nwixident{Th2}}{Th2}}}\nwindexuse{\nwixident{Th2}}{Th2}{NW47t2dy-1r6gW0-1}\nwendcode{}\nwbegindocs{56}\nwdocspar

\begin{proof}[Proof step 3 ($\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$).]
The last step, which is the ``obvious'' part, infers from
$\forall z\in Z(G),\varphi(z)\in Z(G)$ that $\varphi(Z(G))\subgroup Z(G)$.
It's also the ugliest part of the proof which could probably be cleaned
up considerably. This is only due to the sub-step establishing
$w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$.
\end{proof}

\nwenddocs{}\nwbegincode{57}\sublabel{NW47t2dy-10qnyb-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-10qnyb-1}}}\moddef{Step 3: $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-10qnyb-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1dPqXM-1}}\nwenddeflinemarkup
Image(phi|Z) is Subgroup of Z
proof
  B1: the carrier of Z c= the carrier of G by GROUP_2:def 5;
  for w being Element of G st w in rng(phi|Z) holds w in Z
  \LA{}Sub-step 3.1: $\forall w\in G,w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-2KjPoO-1}}\RA{}
  then for w being Element of G st w in rng(phi|Z) holds w in the carrier of Z
  by STRUCT_0:def 5;
  then rng(phi|Z) c= the carrier of Z by B1,SUBSET_1:2;
  then the carrier of Image(phi|Z) c= the carrier of Z by GROUP_6:44;
  hence Image(phi|Z) is Subgroup of Z by GROUP_2:57;
end;
\nwused{\\{NW47t2dy-1dPqXM-1}}\nwendcode{}\nwbegindocs{58}\nwdocspar

\begin{proof}[Proof sub-step 3.1 ($\forall w\in G,w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$).]
This substep is ugly, and I offer no apology for it. There's probably
a more elegant solution, but I cannot think of one. We explicitely
walkthrough showing $w\in\rng(\varphi|_{Z(G)})$, which means there is
some $z$ such that $z\in\dom(\varphi|_{Z(G)})$ and $\varphi|_{Z(G)}(z) = w$.
Since $\dom(\varphi|_{Z(G)})=Z(G)$, it follows $\varphi|_{Z(G)}(z)\in Z(G)$
from step 2. Thus the result follows.
\end{proof}

\nwenddocs{}\nwbegincode{59}\sublabel{NW47t2dy-2KjPoO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-2KjPoO-1}}}\moddef{Sub-step 3.1: $\forall w\in G,w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-2KjPoO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-10qnyb-1}}\nwenddeflinemarkup
proof
  let w be Element of G;
  assume w in rng(phi|Z);
  then consider z being object such that
  C1: z in dom(phi|Z) and
  C2: (phi|Z).z = w by FUNCT_1:def 3;
  reconsider z as Element of Z by C1;
  z is Element of G by GROUP_2:42;
  hence w in Z by C2,A2,STRUCT_0:def 5;
end;
\nwused{\\{NW47t2dy-10qnyb-1}}\nwendcode{}\nwbegindocs{60}\nwdocspar

\begin{scheme}\label{scheme:characteristic:results:intersection-invariant-under-automorphism}
Let $P[-]$ be a predicate on subgroups of $G$ for which (1) there is at
least one subgroup $H\subgroup G$ satisfying $P[H]$ and (2) if
$H\subgroup G$ satisfies $P[H]$, then for any automorphism
$\varphi\in\Aut(G)$ we have $P[\varphi(H)]$.

Let $\mathcal{F} = \{A\subset G\mid \exists H\subgroup G, P[H]\land A=U(H)\}$
be the family of sets underlying all subgroups of $G$ satisfying $P[-]$.
Then $\varphi(\bigcap\mathcal{F})=\bigcap\mathcal{F}$.
\end{scheme}

\begin{proof}[Proof outline]
Let $\mathcal{F} = \{A\subset G\mid H\subgroup G\land P[H]\}$ be the
collection of sets underlying subgroups $H\subgroup G$ which satisfy the
property $P[H]$. First, we need to prove $\mathcal{F}\neq\emptyset$. But
since we have, by hypothesis, there is at least one subgroup $H\subgroup G$
which satisfies $P[H]$\dots so $\mathcal{F}$ is nonempty. Then to prove
$\varphi(\bigcap\mathcal{F})=\bigcap\mathcal{F}$, we establish
$\varphi(\bigcap\mathcal{F})\subset\bigcap\mathcal{F}$ and
$\varphi(\bigcap\mathcal{F})\supset\bigcap\mathcal{F}$. The result then follows.
\end{proof}

\nwenddocs{}\nwbegincode{61}\sublabel{NW47t2dy-3pFvE5-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3pFvE5-1}}}\moddef{Scheme: if $H\subgroup G\land P[H]$ and $\forall\varphi\in\Aut(G),P[\varphi(H)]$, then $\bigcap\{H\subgroup G\mid P[H]\}$ is $\Aut(G)$-invariant~{\nwtagstyle{}\subpageref{NW47t2dy-3pFvE5-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
reserve G for non \nwlinkedidentc{trivial}{NW18nMBU-47kVo6-1} Group;
reserve H,K for Subgroup of G;
reserve A,A1,A2 for set;

scheme
  \nwlinkedidentc{CharMeet}{NW47t2dy-3pFvE5-1}\{G() -> Group, P[set]\} :
  for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G()
  holds phi .: meet\{A where A is Subset of G() : ex K being strict Subgroup
  of G() st A = the carrier of K & P[K]\} = meet\{A where A is Subset of G() :
  ex K being strict Subgroup of G() st A = the carrier of K & P[K]\}
provided
A1: for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G()
    for H being strict Subgroup of G()
    st P[H]
    holds P[Image(phi|H)] and
A2: ex H being strict Subgroup of G() st P[H]
proof
  let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G();
  set UG = the carrier of G();
  set Fam = \{A where A is Subset of G() : ex K being strict Subgroup
  of G() st A = the carrier of K & P[K]\};
  consider H being strict Subgroup of G() such that
A3: P[H]
  by A2;
  A4: Fam <> \{\}
  \LA{}Proof step: $\mathcal{F}\neq\emptyset$~{\nwtagstyle{}\subpageref{NW47t2dy-1m2Gqf-1}}\RA{}

  A5: for phi0 being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G()
  for x being object st x in meet Fam
  holds phi0.x in meet Fam
  \LA{}Proof step: $\forall\varphi_{0}\in\Aut(G),\forall x, x\in\bigcap\mathcal{F}\implies\varphi_{0}(x)\in\bigcap\mathcal{F}$~{\nwtagstyle{}\subpageref{NW47t2dy-yNumc-1}}\RA{}

  for x being object st x in meet Fam
  holds x in phi .: meet Fam
  \LA{}Proof step: $x\in\bigcap\mathcal{F}\implies x\in\varphi(\bigcap\mathcal{F})$~{\nwtagstyle{}\subpageref{NW47t2dy-2pu6zi-1}}\RA{}
  then P1: meet Fam c= phi .: meet Fam by TARSKI:def 3;

  for y being object st y in phi .: meet Fam
  holds y in meet Fam
  \LA{}Proof step: $y\in\varphi(\bigcap\mathcal{F})\implies y\in\bigcap\mathcal{F}$~{\nwtagstyle{}\subpageref{NW47t2dy-3LSeN1-1}}\RA{}
  then P2: phi .: meet Fam c= meet Fam by TARSKI:def 3;

  thus thesis by P1,P2,XBOOLE_0:def 10;

end;
\nwindexdefn{\nwixident{CharMeet}}{CharMeet}{NW47t2dy-3pFvE5-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{CharMeet}}{CharMeet}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{trivial}}{trivial}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-3pFvE5-1}\nwindexuse{\nwixident{trivial}}{trivial}{NW47t2dy-3pFvE5-1}\nwendcode{}\nwbegindocs{62}\nwdocspar
\begin{proof}[Proof step: $\mathcal{F}$ is non-empty]
Since we assumed there exists a subgroup $H\subgroup G$ such that $P[H]$
holds, there is at least one element of $\mathcal{F}$, namely
$H\in\mathcal{F}$. Hence $\bigcap\mathcal{F}\neq\emptyset$.
\end{proof}

\nwenddocs{}\nwbegincode{63}\sublabel{NW47t2dy-1m2Gqf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1m2Gqf-1}}}\moddef{Proof step: $\mathcal{F}\neq\emptyset$~{\nwtagstyle{}\subpageref{NW47t2dy-1m2Gqf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3pFvE5-1}}\nwenddeflinemarkup
proof
  consider A such that
  B1: A = the carrier of H;
  the carrier of H is Subset of G() by GROUP_2:def 5;
  then A in Fam by A3, B1;
  hence thesis;
end;
\nwused{\\{NW47t2dy-3pFvE5-1}}\nwendcode{}\nwbegindocs{64}\nwdocspar

\begin{proof}[Proof step ($\forall\varphi_{0}\in\Aut(G),\forall x, x\in\bigcap\mathcal{F}\implies\varphi_{0}(x)\in\bigcap\mathcal{F}$).]
Suppose $x\in\bigcap\mathcal{F}$. Then $\forall A\in\mathcal{F},x\in A$.
Let $\varphi_{0}$ be an arbitrary automorphism of $G$.
From the hypothesis $P[H]\implies \forall\varphi\in\Aut(G),
P[\varphi(H)]$, we apply it to $\psi=\varphi_{0}^{-1}$. But this means $x\in\psi(A)$.
Then $\varphi_{0}(x)\in\varphi_{0}(\psi(A))$, and $\varphi_{0}(\psi(A))=A$. Thus the
result follows.
\end{proof}

\nwenddocs{}\nwbegincode{65}\sublabel{NW47t2dy-yNumc-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-yNumc-1}}}\moddef{Proof step: $\forall\varphi_{0}\in\Aut(G),\forall x, x\in\bigcap\mathcal{F}\implies\varphi_{0}(x)\in\bigcap\mathcal{F}$~{\nwtagstyle{}\subpageref{NW47t2dy-yNumc-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3pFvE5-1}}\nwenddeflinemarkup
proof
  let phi0 be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G();
  let x be object;
  assume x in meet Fam;
  then B1: for A1 holds A1 in Fam implies x in A1 by SETFAM_1:def 1;
  for A holds A in Fam implies phi0.x in A
  proof
    let A;
    assume C1: A in Fam;
    consider A0 being Subset of G() such that
    C2: A0=A & ex H being strict Subgroup of G() st A0 = the carrier of H & P[H]
    by C1;
    consider K being strict Subgroup of G() such that
    C3: A = the carrier of K & P[K]
    by C2;
    consider psi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G() such that
    C4: psi = phi0" & the multMagma of Image(phi0|Image(psi|K)) = the multMagma of K
    by \nwlinkedidentc{Th18}{NW1Nnu7l-xUcSR-1};
    x in K by C1,B1,C3;
    then C5: x in G() & dom phi0 = the carrier of G() by GROUP_2:40,FUNCT_2:def 1;
    P[Image(psi|K)] by C3,A1;
    then carr Image(psi|K) in Fam;
    then x in carr Image(psi|K) by B1;
    then phi0.x in phi0 .: (carr Image(psi|K)) by C5, FUNCT_1:def 6;
    then phi0.x in carr (phi0 .: Image(psi|K)) by GRSOLV_1:8;
    hence phi0.x in A by C3,C4,GRSOLV_1:def 3;
  end;
  hence thesis by A4, SETFAM_1:def 1;
end;
\nwused{\\{NW47t2dy-3pFvE5-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th18}}{Th18}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-yNumc-1}\nwindexuse{\nwixident{Th18}}{Th18}{NW47t2dy-yNumc-1}\nwendcode{}\nwbegindocs{66}\nwdocspar

\begin{proof}[Proof step ($x\in\bigcap\mathcal{F}\implies x\in\varphi(\bigcap\mathcal{F})$).]
Suppose $x\in\bigcap\mathcal{F}$. Let $\varphi\in\Aut(G)$ be completely
arbitrary, and $\psi=\varphi^{-1}$. From $x\in\bigcap\mathcal{F}$, it
follows $\forall A\in\mathcal{F}, x \in A$. It follows from a previous
step that $\forall A\in\mathcal{F},\psi(x)\in A$. Then applying
$\varphi$ we find $\forall A\in\mathcal{F},\varphi(\psi(x))=x\in\varphi(A)$.
Hence $x\in\varphi(\bigcap\mathcal{F})$.
\end{proof}

\nwenddocs{}\nwbegincode{67}\sublabel{NW47t2dy-2pu6zi-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-2pu6zi-1}}}\moddef{Proof step: $x\in\bigcap\mathcal{F}\implies x\in\varphi(\bigcap\mathcal{F})$~{\nwtagstyle{}\subpageref{NW47t2dy-2pu6zi-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3pFvE5-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume B1: x in meet Fam;
  then carr H in Fam & for A1 holds A1 in Fam implies x in A1 by A3,SETFAM_1:def 1;
  then B2: x in H;
  then B3: x is Element of G() by GROUP_2:42;
  reconsider psi = phi" as \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G() by GROUP_6:62;
  B4: dom phi = the carrier of G() by FUNCT_2:def 1;
  B5: psi.x in meet Fam by B1,A5;
  B6: phi.(psi.x) = x by B3,\nwlinkedidentc{Th6}{NW18nMBU-1Brdpy-1};
  psi is bijective & x in G() by B2, GROUP_2:40;
  then psi.x in dom phi by B4, FUNCT_2:5;
  hence x in phi .: meet Fam by B6,B5,FUNCT_1:def 6;
end;
\nwused{\\{NW47t2dy-3pFvE5-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th6}}{Th6}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-2pu6zi-1}\nwindexuse{\nwixident{Th6}}{Th6}{NW47t2dy-2pu6zi-1}\nwendcode{}\nwbegindocs{68}\nwdocspar

\begin{proof}[Proof step ($y\in\varphi(\bigcap\mathcal{F})\implies y\in\bigcap\mathcal{F}$).]
  Let $\varphi\in\Aut(G)$ be arbitrary.
Suppose $y\in\varphi(\bigcap\mathcal{F})$. Then there is an
$x\in\bigcap\mathcal{F}$ such that $y=\varphi(x)$. Then
$\varphi(x)\in\bigcap\mathcal{F}$ from our first proof step. Hence
$y\in\bigcap\mathcal{F}$.
\end{proof}

\nwenddocs{}\nwbegincode{69}\sublabel{NW47t2dy-3LSeN1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3LSeN1-1}}}\moddef{Proof step: $y\in\varphi(\bigcap\mathcal{F})\implies y\in\bigcap\mathcal{F}$~{\nwtagstyle{}\subpageref{NW47t2dy-3LSeN1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3pFvE5-1}}\nwenddeflinemarkup
proof
  let y be object;
  assume y in phi .: meet Fam;
  then consider x being object such that
  B1: x in dom phi & x in meet Fam & y = phi.x
  by FUNCT_1:def 6;
  thus y in meet Fam by B1,A5;
end;
\nwused{\\{NW47t2dy-3pFvE5-1}}\nwendcode{}\nwbegindocs{70}\nwdocspar

\begin{scheme}\label{scheme:characteristic:results:meet-is-characteristic}
Let $P[-]$ be a predicate on subgroups of $G$ for which (1) there is at
least one subgroup $H\subgroup G$ satisfying $P[H]$ and (2) if
$H\subgroup G$ satisfies $P[H]$, then for any automorphism
$\varphi\in\Aut(G)$ we have $P[\varphi(H)]$.

Let $\mathcal{F} = \{A\subset G\mid \exists H\subgroup G, P[H]\land A=U(H)\}$
be the family of sets underlying all subgroups of $G$ satisfying $P[-]$.
There exists a subgroup $K\subgroup G$ whose underling set is
$U(K) = \bigcap\mathcal{F}$ such that $K$ is characteristic.
\end{scheme}

\begin{proof}[Proof outline]
The proof boils down to what we would find in a textbook. For any
Automorphism $\varphi\in\Aut(G)$, we have the collection $\mathcal{F}$
of subgroups of $G$ satisfying $P[H]$, then we know there exists a
subgroup $K\subgroup G$ such that its underlying set $U(K)$ is
\begin{equation}
U(K) := \bigcap\mathcal{F}.
\end{equation}
Now to prove it is characteristic, we reason as follows:
\begin{equation}
\varphi(K)=\varphi(\bigcap\mathcal{F})=\bigcap\varphi(\mathcal{F})=\bigcap
\mathcal{F} = K.
\end{equation}
We take advantage of Scheme~\ref{scheme:characteristic:results:intersection-invariant-under-automorphism} to prove
\begin{equation}
\varphi(\bigcap\mathcal{F})=\bigcap\varphi(\mathcal{F})=\bigcap \mathcal{F}.
\end{equation}
We also use the hypothesis that subgroups $H\subgroup G$ satisfying $P[H]$ are
mapped to subgroups $\varphi(H)$ satisfying $P[\varphi(H)]$ under
automorphisms $\varphi\in G$.
\end{proof}

\nwenddocs{}\nwbegincode{71}\sublabel{NW47t2dy-5CDvr-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-5CDvr-1}}}\moddef{Scheme: $\bigcap\{A\subset G\mid\exists H\subgroup G, A=H, P[H]\}$ is characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-5CDvr-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
scheme
  \nwlinkedidentc{MeetIsChar}{NW47t2dy-5CDvr-1}\{G() -> Group, P[set]\} :
  ex K being strict Subgroup of G() st
  the carrier of K = meet \{A where A is Subset of G() :
  ex H being strict Subgroup of G() st A = the carrier of H & P[H]\} &
  K is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
provided
A1: for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G()
    for H being strict Subgroup of G()
    st P[H]
    holds P[Image(phi|H)] and
A2: ex H being strict Subgroup of G() st P[H]
proof
  set Fam = \{A where A is Subset of G() :
             ex H being strict Subgroup of G()
             st A = the carrier of H & P[H]\};

  A3: for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G()
  holds phi .: meet Fam = meet Fam from \nwlinkedidentc{CharMeet}{NW47t2dy-3pFvE5-1}(A1,A2);

  consider K being strict Subgroup of G() such that
  A4: the carrier of K = meet Fam
  from GROUP_4:sch 1(A2);
  take K;

  for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G()
  holds Image(phi|K) = K
  proof
    let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G();
    the carrier of Image(phi|K)
     = the carrier of phi .: K by GRSOLV_1:def 3
    .= phi .: (the carrier of K) by GRSOLV_1:8
    .= phi .: meet Fam by A4
    .= meet Fam by A3
    .= the carrier of K by A4;
    hence Image(phi|K) = K by GROUP_2:59;
  end;
  hence thesis by A4;
end;
\nwindexdefn{\nwixident{MeetIsChar}}{MeetIsChar}{NW47t2dy-5CDvr-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{MeetIsChar}}{MeetIsChar}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{CharMeet}}{CharMeet}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-5CDvr-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-5CDvr-1}\nwindexuse{\nwixident{CharMeet}}{CharMeet}{NW47t2dy-5CDvr-1}\nwendcode{}\nwbegindocs{72}\nwdocspar
\begin{proposition}[{\mml[Th38]{group4}}]
  Let $G$ be a group. Suppose $G$ has a maximal subgroup.
  Then for any group element $a\in G$, we have
  $a\in\FrattiniSubgroup(G)$ if and only if for every maximal subgroup
  $H\properSubgroup G$ we have $a\in H$.
\end{proposition}

\begin{theorem}
The Frattini subgroup $\FrattiniSubgroup(G)$ is a characteristic subgroup of $G$.
\end{theorem}

\begin{proof}[Proof outline]
The proof boils down to what we would find in a textbook.
We have abstracted away the argument to form Scheme~\ref{scheme:characteristic:results:meet-is-characteristic},
which gives us the results.
\end{proof}

\begin{thm-remark}
Observe the key property required to prove that $\Phi(G)$ is
characteristic is the observation we have a family $\mathcal{F}$ of
subgroups of $G$ for which any automorphism $\varphi\in\Aut(G)$ acts
like a permutation of $\mathcal{F}$. If this is true, then
$\bigcap\mathcal{F}$ is characteristic. We can formulate this argument
as a scheme.
\end{thm-remark}

\nwenddocs{}\nwbegincode{73}\sublabel{NW47t2dy-1wEepZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1wEepZ-1}}}\moddef{Theorem: $\FrattiniSubgroup(G)$ is characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-1wEepZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th44}{NW47t2dy-1wEepZ-1}:
  (ex H being strict Subgroup of G st H is maximal) implies
  Phi(G) is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} Subgroup of G
proof
  defpred P[Subgroup of G] means $1 is maximal;
  assume A1: ex H being strict Subgroup of G st P[H];
  set MaxSubCarrs = \{A where A is Subset of G :
                     ex H being strict Subgroup of G
                     st A = the carrier of H & P[H]\};

  A2: for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  for H being strict Subgroup of G
  st P[H]
  holds P[Image(phi|H)] by \nwlinkedidentc{Th26}{NW1Nnu7l-39Q49p-1};

  consider K being strict Subgroup of G such that
  A3: the carrier of K = meet \{A where A is Subset of G :
      ex H being strict Subgroup of G st A = the carrier of H & P[H]\} and
  A4: K is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
  from \nwlinkedidentc{MeetIsChar}{NW47t2dy-5CDvr-1}(A2,A1);
  K = Phi(G) by A1,A3,GROUP_4:def 7;
  hence thesis by A4;
end;
\nwindexdefn{\nwixident{Th44}}{Th44}{NW47t2dy-1wEepZ-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th44}}{Th44}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{MeetIsChar}}{MeetIsChar}}\\{{\nwixident{Th26}}{Th26}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-1wEepZ-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-1wEepZ-1}\nwindexuse{\nwixident{MeetIsChar}}{MeetIsChar}{NW47t2dy-1wEepZ-1}\nwindexuse{\nwixident{Th26}}{Th26}{NW47t2dy-1wEepZ-1}\nwendcode{}\nwbegindocs{74}\nwdocspar
\begin{definition}\label{defn:characteristic:results:p-core}
Let $G$ be a finite group, let $p\in\NN$ be a prime. Then the
\define{$p$-Core} of $G$ is the subgroup
\begin{equation}
  \pCore{p}{G} = \bigcap\SylowSubgroups{p}{G}
\end{equation}
given by the intersection of all Sylow $p$-subgroups of $G$.
\end{definition}

\begin{def-remark}
We will be leaning on results from~\mml{group10} concerning Sylow's
theorems, specifically Sylow $p$-subgroups.
\end{def-remark}

\nwenddocs{}\nwbegincode{75}\sublabel{NW47t2dy-4cW2Y2-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-4cW2Y2-1}}}\moddef{Definition: $p$-Core~{\nwtagstyle{}\subpageref{NW47t2dy-4cW2Y2-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
definition
  let G be finite Group;
  let p be prime Nat;
  func p\nwlinkedidentc{-core_of_G}{NW47t2dy-4cW2Y2-1} -> strict Subgroup of G means
  :Def7:
  the carrier of it = meet\{A where A is Subset of G :
  ex P being strict Subgroup of G st A = the carrier of P &
  P is_Sylow_p-subgroup_of_prime p\};
  existence
  proof
    defpred SPS[Subgroup of G] means $1 is_Sylow_p-subgroup_of_prime p;
    A1: ex P being strict Subgroup of G st SPS[P]
    by GROUP_10:10;
    ex H being strict Subgroup of G st the carrier of H = meet\{A where
    A is Subset of G: ex P being strict Subgroup of G st A = the carrier of P & SPS[P]\}
    from GROUP_4:sch 1(A1);
    hence thesis;
  end;
  uniqueness by GROUP_2:59;
  correctness;
end;
\nwindexdefn{\nwixident{-core{\_}of{\_}G}}{-core:unof:unG}{NW47t2dy-4cW2Y2-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{-core{\_}of{\_}G}}{-core:unof:unG}}}\nwendcode{}\nwbegindocs{76}\nwdocspar
\begin{voc}
Before proving the $p$-core is characteristic, we need to tell Mizar
there is a new token in town: {\Tt{}-core{\_}of{\_}\nwendquote} which should be associated with Definition~\ref{defn:characteristic:results:p-core}.
\end{voc}

\nwenddocs{}\nwbegincode{77}\sublabel{NW47t2dy-4FyAEL-2}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-4FyAEL-2}}}\moddef{DICT/CHAR.VOC~{\nwtagstyle{}\subpageref{NWoaARJ-4FyAEL-1}}}\plusendmoddef\nwstartdeflinemarkup\nwprevnextdefs{NW47t2dy-4FyAEL-1}{\relax}\nwenddeflinemarkup
O-core_of_
\nwendcode{}\nwbegindocs{78}\nwdocspar

\begin{theorem}
  Let $G$ be any finite group, $p\in\NN$ a prime number.
  Then the $p$-core of $G$, $\pCore{p}{G}$, is a characteristic
  subgroup.
\end{theorem}

\begin{proof}
The proof boils down to what we would find in a textbook.
We have abstracted away the argument to form Scheme~\ref{scheme:characteristic:results:meet-is-characteristic},
which gives us the results.
\end{proof}

\nwenddocs{}\nwbegincode{79}\sublabel{NW47t2dy-26IJy2-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-26IJy2-1}}}\moddef{Theorem: $p$-Core is Characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-26IJy2-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th45}{NW47t2dy-26IJy2-1}:
  for G being finite Group
  for p being prime Nat
  holds p\nwlinkedidentc{-core_of_G}{NW47t2dy-4cW2Y2-1} is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
proof
  let G be finite Group;
  let p be prime Nat;
  defpred P[Subgroup of G] means $1 is_Sylow_p-subgroup_of_prime p;

  A1: ex H being strict Subgroup of G st P[H] by GROUP_10:10;
  set MaxSubCarrs = \{A where A is Subset of G :
                     ex H being strict Subgroup of G
                     st A = the carrier of H & P[H]\};

  A2: for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  for P being strict Subgroup of G
  st P[P]
  holds P[Image(phi|P)] by \nwlinkedidentc{Th22}{NW1Nnu7l-3PWeZI-1};

  consider K being strict Subgroup of G such that
  A4: the carrier of K = meet \{A where A is Subset of G :
      ex H being strict Subgroup of G st A = the carrier of H & P[H]\} and
  A5: K is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
  from \nwlinkedidentc{MeetIsChar}{NW47t2dy-5CDvr-1}(A2,A1);
  K = p\nwlinkedidentc{-core_of_G}{NW47t2dy-4cW2Y2-1} by A4,Def7;
  hence thesis by A5;
end;
\nwindexdefn{\nwixident{Th45}}{Th45}{NW47t2dy-26IJy2-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th45}}{Th45}}}\nwidentuses{\\{{\nwixident{-core{\_}of{\_}G}}{-core:unof:unG}}\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{MeetIsChar}}{MeetIsChar}}\\{{\nwixident{Th22}}{Th22}}}\nwindexuse{\nwixident{-core{\_}of{\_}G}}{-core:unof:unG}{NW47t2dy-26IJy2-1}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-26IJy2-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-26IJy2-1}\nwindexuse{\nwixident{MeetIsChar}}{MeetIsChar}{NW47t2dy-26IJy2-1}\nwindexuse{\nwixident{Th22}}{Th22}{NW47t2dy-26IJy2-1}\nwendcode{}\nwbegindocs{80}\nwdocspar
\subsection{Derived Subgroup is Characteristic}
We will denote the \emph{set} of all commutators of elements of $G$ by
\begin{equation}
\Commutators(G) := \{[a,b]\in G\mid a,b\in G\}.
\end{equation}
The derived subgroup is the \emph{subgroup} generated by this
\begin{equation}
G' = [G,G] := \langle\Commutators(G)\rangle.
\end{equation}
We will prove the derived subgroup is characteristic.

\begin{theorem}
Let $G$ be a group, let $C=\Commutators(G)$ be the set of
commutators of any pair of group elements. Then for any automorphism
$\varphi\in\Aut(G)$, we have $\varphi(C) = C$.
\end{theorem}

\begin{proof}[Proof outline]
We will prove $\varphi(C)\subset C$ and $\varphi(C)\supset C$.
\end{proof}

\nwenddocs{}\nwbegincode{81}\sublabel{NW47t2dy-1BwBWL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1BwBWL-1}}}\moddef{Theorem: $\forall\varphi\in G,\varphi(\Commutators(G))=\Commutators(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-1BwBWL-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th46}{NW47t2dy-1BwBWL-1}:
  for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  holds phi .: commutators G = commutators G
proof
  let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  for g being object
  st g in commutators G
  holds g in phi .: commutators G
  \LA{}Proof: $\varphi(\Commutators(G))\supset\Commutators(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-22edeY-1}}\RA{}
  then P1: commutators G c= phi .: commutators G by TARSKI:def 3;
  for h being object
  st h in phi .: commutators G
  holds h in commutators G
  \LA{}Proof: $\varphi(\Commutators(G))\subset\Commutators(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-3odp3Y-1}}\RA{}
  then phi .: commutators G c= commutators G by TARSKI:def 3;
  hence commutators G = phi .: commutators G by P1,XBOOLE_0:def 10;
end;
\nwindexdefn{\nwixident{Th46}}{Th46}{NW47t2dy-1BwBWL-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th46}}{Th46}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-1BwBWL-1}\nwendcode{}\nwbegindocs{82}\nwdocspar
\begin{proof}[{Proof step [$\varphi(\Commutators(G))\supset\Commutators(G)$]}.]
  Let $g\in\Commutators(G)$. Then consider $a,b\in G$ such that
  \begin{equation}
g = [a,b]
  \end{equation}
  by Theorem~\mml[Th58]{group5}. Take $x=\varphi^{-1}(a)$ and
  $y=\varphi^{-1}(b)$. These are elements of $G$, so $[x,y]\in\Commutators(G)$.
  Then $\varphi([x,y])\in\varphi(\Commutators(G))$ and
  \begin{equation}
\varphi([x,y])=[a,b]=g
  \end{equation}
  thus $g\in\varphi(\Commutators(G))$. Since we let $g$ be arbitrary,
  this implies $\varphi(\Commutators(G))\supset\Commutators(G)$ by Theorem~\mml[def3]{tarski}.
\end{proof}

\nwenddocs{}\nwbegincode{83}\sublabel{NW47t2dy-22edeY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-22edeY-1}}}\moddef{Proof: $\varphi(\Commutators(G))\supset\Commutators(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-22edeY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1BwBWL-1}}\nwenddeflinemarkup
proof
  let g be object;
  assume B1: g in commutators G;
  then reconsider g as Element of G;
  consider a,b being Element of G such that
  B2: g = [.a,b.]
  by B1, GROUP_5:58;
  reconsider psi = phi" as \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G by GROUP_6:62;
  set x = psi.a;
  set y = psi.b;
  set h = [.x,y.];
  dom phi = the carrier of G by FUNCT_2:def 1;
  then B3: h in dom phi;
  psi.g = psi.([.a,b.]) by B2
       .= [.psi.a,psi.b.] by GROUP_6:34
       .= h;
  then B4: psi.g = h;
  B5: phi.((phi").g) = g by \nwlinkedidentc{Th6}{NW18nMBU-1Brdpy-1};
  h in dom phi & h in commutators G by B3;
  then phi.h in phi .: commutators G by FUNCT_1:def 6;
  then phi.(psi.g) in phi .: commutators G by B4;
  then phi.((phi").g) in phi .: commutators G;
  then g in phi .: commutators G by B5;
  hence thesis;
end;
\nwused{\\{NW47t2dy-1BwBWL-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th6}}{Th6}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-22edeY-1}\nwindexuse{\nwixident{Th6}}{Th6}{NW47t2dy-22edeY-1}\nwendcode{}\nwbegindocs{84}\nwdocspar

\begin{proof}[{Proof step [$\varphi(\Commutators(G))\subset\Commutators(G)$]}.]
We consider an arbitrary $h\in\varphi(\Commutators(G))$. Then there is
some $g\in\Commutators(G)$ such that $\varphi(g)=h$. Consider $a,b\in G$
such that
\begin{equation}
g=[a,b].
\end{equation}
Then by Theorem~\mml[Th34]{group6},
\begin{equation}
\varphi([a,b])
= [\varphi(a),\varphi(b).
\end{equation}
But look, this is a commutator! Combining all this together, this means
$\varphi(g)\in\Commutators(G)$. And since we let $h$ be arbitrary, this
means $\varphi(\Commutators(G))\subset\Commutators(G)$ by Theorem~\mml[def3]{tarski}.
\end{proof}

\nwenddocs{}\nwbegincode{85}\sublabel{NW47t2dy-3odp3Y-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3odp3Y-1}}}\moddef{Proof: $\varphi(\Commutators(G))\subset\Commutators(G)$~{\nwtagstyle{}\subpageref{NW47t2dy-3odp3Y-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1BwBWL-1}}\nwenddeflinemarkup
proof
  let h be object;
  assume B1: h in phi .: commutators G;
  consider g being object such that
      g in dom phi and
  B2: g in commutators G and
  B3: h = phi.g
  by B1,FUNCT_1:def 6;
  consider a,b be Element of G such that
  B4: g = [.a,b.]
  by B2,GROUP_5:58;
  h = phi.g by B3
   .= phi.([.a,b.]) by B4
   .= [.phi.a, phi.b.] by GROUP_6:34;
  hence h in commutators G;
end;
\nwused{\\{NW47t2dy-1BwBWL-1}}\nwendcode{}\nwbegindocs{86}\nwdocspar

\begin{theorem}
Let $H\subgroup G$ be a subgroup, $\varphi\in\Aut(G)$ be an automorphism.
If every $h\in H$ satisfies $\varphi(h)\in H$, then $\varphi(H)\subgroup H$.
\end{theorem}

\nwenddocs{}\nwbegincode{87}\sublabel{NW47t2dy-3M3ox1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3M3ox1-1}}}\moddef{Theorem: $\forall h\in H,\varphi(h)\in H$ implies $\varphi(H)\subgroup H$~{\nwtagstyle{}\subpageref{NW47t2dy-3M3ox1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th47}{NW47t2dy-3M3ox1-1}:
  for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
  for H being Subgroup of G
  st (for h being Element of H
      holds phi.h in H)
  holds Image(phi|H) is Subgroup of H
proof
  let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
  let H be Subgroup of G;
  assume A1: for h being Element of H holds phi.h in H;
  for y being object
  st y in rng(phi|H)
  holds y in the carrier of H
  proof
    let y be object;
    assume y in rng(phi|H);
    then consider x being object such that
    B1: x in dom(phi|H) and
    B2: y = (phi|H).x
    by FUNCT_1:def 3;
    B3: x in H by B1;
    then reconsider x as Element of H;
    x is Element of G by GROUP_2:42;
    then (phi|H).x = phi.x by B3,\nwlinkedidentc{Th2}{NW18nMBU-32pfqx-1};
    then B4: y = phi.x by B2;
    phi.x in H by A1;
    hence y in the carrier of H by B4;
  end;
  then rng(phi|H) c= the carrier of H by TARSKI:def 3;
  then the carrier of Image(phi|H) c= the carrier of H by GROUP_6:44;
  hence Image(phi|H) is Subgroup of H by GROUP_2:57;
end;
\nwindexdefn{\nwixident{Th47}}{Th47}{NW47t2dy-3M3ox1-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th47}}{Th47}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th2}}{Th2}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-3M3ox1-1}\nwindexuse{\nwixident{Th2}}{Th2}{NW47t2dy-3M3ox1-1}\nwendcode{}\nwbegindocs{88}\nwdocspar
\begin{theorem}
If $A\subset G$ is a nonempty subset such that, for any automorphism
$\varphi\in\Aut(G)$ we have $\varphi(A) = A$, then the generated
subgroup $\langle A\rangle$ is a characteristic subgroup.
\end{theorem}

\nwenddocs{}\nwbegincode{89}\sublabel{NW47t2dy-3lDAoY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3lDAoY-1}}}\moddef{Theorem: $A\subset G$ s.t. $\forall\varphi\in\Aut(G),\varphi(A)=A$, then $\langle A\rangle$ is characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-3lDAoY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th48}{NW47t2dy-3lDAoY-1}:
  for A being non empty Subset of G
  st (for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G
      holds phi .: A = A)
  holds gr A is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
proof
  let A be non empty Subset of G;
  assume A1: for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds phi .: A = A;
  A2: for a being Element of A
  holds phi.a in A
  proof
    let a be Element of A;
    dom phi = the carrier of G by FUNCT_2:def 1;
    then a in dom phi;
    then phi.a in phi .: A by FUNCT_1:def 6;
    hence phi.a in A by A1;
  end;
  set H = gr A;
  A3: for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds Image(phi|H) is Subgroup of H
  proof
    let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G;
    B2: for h being Element of G
    st h in H
    holds phi.h in H
    proof
      let h be Element of G;
      assume h in H;
      then consider F1 being FinSequence of the carrier of G,
                    I being FinSequence of INT such that
      C2: len F1 = len I and
      C3: rng F1 c= A and
      C4: Product(F1 |^ I) = h
      by GROUP_4:28;
      deffunc F(Nat) = phi.(F1/.$1);
      consider F2 being FinSequence such that
      C5: len(F2) = len F1 and
      C6: for k being Nat st k in dom F2 holds F2.k = F(k)
      from FINSEQ_1:sch 2;
      C7: dom F2 = dom F1 by C5,FINSEQ_3:29;
      C8: F2 is FinSequence of the carrier of G & rng F2 c= A
      proof
        D1: for y being object st y in rng F2 holds y in A
        proof
          let y be object;
          assume y in rng F2;
          then consider k being object such that
          E2: k in dom F2 and
          E3: y = F2.k by FUNCT_1:def 3;
          reconsider k as Element of NAT by E2;
          set x = F1.k;
          x in rng F1 by FUNCT_1:def 3, E2, C7;
          then reconsider x as Element of A by C3;
          E4: x = F1/.k by E2,C7,PARTFUN1:def 6;
          y = F(k) by E2,E3,C6
           .= phi.(F1/.k)
           .= phi.(x) by E4;
          then y in A by A2;
          then E5: y is Element of A;
          thus thesis by E5;
        end;
        D2: rng F2 c= A by D1, TARSKI:def 3;
        for y being object st y in rng F2 holds y in the carrier of G
        proof
          let y be object;
          assume y in rng F2;
          then y in A by D1;
          hence y in the carrier of G;
        end;
        hence rng F2 c= the carrier of G by TARSKI:def 3;
        thus rng F2 c= A by D2;
      end;
      then reconsider F2 as FinSequence of the carrier of G;
      set h2 = Product(F2 |^ I);
      C9: (for k being Nat st k in dom F1
      holds F2.k = phi.(F1.k)) & len F1 = len I & len F2 = len I
      proof
        thus (for k being Nat st k in dom F1
        holds F2.k = phi.(F1.k))
        proof
          let k be Nat;
          assume D1: k in dom F1;
          then k in dom F2 by C7;
          then F2.k = F(k) by C6
                   .= phi.(F1/.k);
          hence F2.k = phi.(F1.k) by D1,PARTFUN1:def 6;
        end;
        thus len F1 = len I by C2;
        thus len F2 = len I by C2,C5;
      end;
      then phi.(Product(F1 |^ I)) = Product(F2 |^ I) by GROUP_9:125;
      then len F2 = len I & rng F2 c= A & Product(F2 |^ I) = phi.h
      by C4,C9,C8;
      hence phi.h in H by GROUP_4:28;
    end;
    for h being Element of H
    holds phi.h in H
    proof
      let h be Element of H;
      C1: h in H;
      h is Element of G by GROUP_2:42;
      then phi.h in H by B2,C1;
      hence thesis;
    end;
    hence Image(phi|H) is Subgroup of H by \nwlinkedidentc{Th47}{NW47t2dy-3M3ox1-1};
  end;
  thus gr A is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} by A3,\nwlinkedidentc{Th42}{NW47t2dy-4Z20G4-1};
end;
\nwindexdefn{\nwixident{Th48}}{Th48}{NW47t2dy-3lDAoY-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th48}}{Th48}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th42}}{Th42}}\\{{\nwixident{Th47}}{Th47}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-3lDAoY-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-3lDAoY-1}\nwindexuse{\nwixident{Th42}}{Th42}{NW47t2dy-3lDAoY-1}\nwindexuse{\nwixident{Th47}}{Th47}{NW47t2dy-3lDAoY-1}\nwendcode{}\nwbegindocs{90}\nwdocspar
\begin{theorem}
The derived subgroup $G'=[G,G]$ is a characteristic subgroup.
\end{theorem}

\nwenddocs{}

\nwixlogsorted{c}{{$\exists a\in\varphi^{-1}(H),g=\varphi(a)$}{NW1Nnu7l-41Hbi6-1}{\nwixu{NW1Nnu7l-47FJLD-1}\nwixd{NW1Nnu7l-41Hbi6-1}}}%
\nwixlogsorted{c}{{$\exists b\in H, a = \varphi^{-1}(b)$}{NW1Nnu7l-2rS80d-1}{\nwixu{NW1Nnu7l-47FJLD-1}\nwixd{NW1Nnu7l-2rS80d-1}}}%
\nwixlogsorted{c}{{$\varphi(x)\in G$}{NW1Nnu7l-4JfXI9-1}{\nwixu{NW1Nnu7l-39h8sj-1}\nwixd{NW1Nnu7l-4JfXI9-1}}}%
\nwixlogsorted{c}{{$\varphi(x)\notin\varphi(H)$}{NW1Nnu7l-476s7N-1}{\nwixu{NW1Nnu7l-39h8sj-1}\nwixd{NW1Nnu7l-476s7N-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} article body}{NW18nMBU-2TX9wk-1}{\nwixu{NWoaARJ-2sCaVS-1}\nwixd{NW18nMBU-2TX9wk-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} constructors}{NW4bbsBH-45oKpZ-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-45oKpZ-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} definitions}{NW4bbsBH-25lITS-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-25lITS-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} equalities}{NW4bbsBH-1aojze-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-1aojze-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} expansions}{NW4bbsBH-aWL85-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-aWL85-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} notations}{NW4bbsBH-40mYXi-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-40mYXi-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} registrations}{NW4bbsBH-PI8yt-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-PI8yt-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} requirements}{NW4bbsBH-4BdAzJ-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-4BdAzJ-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} schemes}{NW4bbsBH-21wWTp-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-21wWTp-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} theorems}{NW4bbsBH-1CXYUa-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-1CXYUa-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} vocabularies}{NW4bbsBH-3Tf8w1-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-3Tf8w1-1}}}%
\nwixlogsorted{c}{{Automorphisms of Groups}{NW1Nnu7l-1CMOm-1}{\nwixu{NW18nMBU-2TX9wk-1}\nwixd{NW1Nnu7l-1CMOm-1}}}%
\nwixlogsorted{c}{{Characteristic subgroups}{NW47t2dy-3NltVm-1}{\nwixu{NW18nMBU-2TX9wk-1}\nwixd{NW47t2dy-3NltVm-1}}}%
\nwixlogsorted{c}{{Corollary: conjugation of given element is an \emph{inner} automorphism}{NW3Mfp8C-47V7KL-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-47V7KL-1}}}%
\nwixlogsorted{c}{{Definition: $p$-Core}{NW47t2dy-4cW2Y2-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-4cW2Y2-1}}}%
\nwixlogsorted{c}{{Definition: \code{}Automorphism\edoc{}}{NW1Nnu7l-2qSYW4-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-2qSYW4-1}}}%
\nwixlogsorted{c}{{Definition: \code{}characteristic\edoc{} attribute}{NW47t2dy-qejLV-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-qejLV-1}}}%
\nwixlogsorted{c}{{Definition: \code{}Endomorphism\edoc{}}{NW1Nnu7l-1U3x3j-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-1U3x3j-1}}}%
\nwixlogsorted{c}{{Definition: \code{}inner\edoc{} for Automorphism}{NW3Mfp8C-1Tb4wZ-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-1Tb4wZ-1}}}%
\nwixlogsorted{c}{{Definition: proper subgroup}{NW18nMBU-RKCxZ-1}{\nwixu{NW18nMBU-KQsbx-1}\nwixd{NW18nMBU-RKCxZ-1}}}%
\nwixlogsorted{c}{{DICT/CHAR.VOC}{NWoaARJ-4FyAEL-1}{\nwixd{NWoaARJ-4FyAEL-1}\nwixd{NW3Mfp8C-4FyAEL-1}\nwixd{NW47t2dy-4FyAEL-1}\nwixd{NW47t2dy-4FyAEL-2}}}%
\nwixlogsorted{c}{{Environment for \code{}char.miz\edoc{}}{NW4bbsBH-3ZQoFX-1}{\nwixu{NWoaARJ-2sCaVS-1}\nwixd{NW4bbsBH-3ZQoFX-1}}}%
\nwixlogsorted{c}{{Establish $f^{-1}$ is an Endomorphism}{NW3Mfp8C-lTiQo-1}{\nwixu{NW3Mfp8C-a3qbq-1}\nwixd{NW3Mfp8C-lTiQo-1}}}%
\nwixlogsorted{c}{{Establish $f^{-1}$ is the inverse function of $f$}{NW3Mfp8C-oixct-1}{\nwixu{NW3Mfp8C-a3qbq-1}\nwixd{NW3Mfp8C-oixct-1}}}%
\nwixlogsorted{c}{{Functions and subset tokens}{NW4bbsBH-1ATTd1-1}{\nwixu{NW4bbsBH-3Tf8w1-1}\nwixd{NW4bbsBH-1ATTd1-1}}}%
\nwixlogsorted{c}{{Group and subgroups tokens}{NW4bbsBH-5jMsk-1}{\nwixu{NW4bbsBH-3Tf8w1-1}\nwixd{NW4bbsBH-5jMsk-1}}}%
\nwixlogsorted{c}{{Group conjugation and normal subgroups tokens}{NW4bbsBH-40Iyod-1}{\nwixu{NW4bbsBH-3Tf8w1-1}\nwixd{NW4bbsBH-40Iyod-1}}}%
\nwixlogsorted{c}{{Group theoretic definitions for \code{}char.miz\edoc{}}{NW4bbsBH-LUUHe-1}{\nwixu{NW4bbsBH-25lITS-1}\nwixd{NW4bbsBH-LUUHe-1}}}%
\nwixlogsorted{c}{{Group theory constructors for \code{}char.miz\edoc{}}{NW4bbsBH-2UphIM-1}{\nwixu{NW4bbsBH-45oKpZ-1}\nwixd{NW4bbsBH-2UphIM-1}}}%
\nwixlogsorted{c}{{Helper lemmas and registrations for \code{}char.miz\edoc{}}{NW18nMBU-oqDk7-1}{\nwixu{NW18nMBU-2TX9wk-1}\nwixd{NW18nMBU-oqDk7-1}}}%
\nwixlogsorted{c}{{Import group-theoretic theorems for \code{}char.miz\edoc{}}{NW4bbsBH-30lw0c-1}{\nwixu{NW4bbsBH-1CXYUa-1}\nwixd{NW4bbsBH-30lw0c-1}}}%
\nwixlogsorted{c}{{Import set-theoretic theorems for \code{}char.miz\edoc{}}{NW4bbsBH-4KRCaJ-1}{\nwixu{NW4bbsBH-1CXYUa-1}\nwixd{NW4bbsBH-4KRCaJ-1}}}%
\nwixlogsorted{c}{{Include set theoretic definitions for \code{}char.miz\edoc{}}{NW4bbsBH-2JcmrV-1}{\nwixu{NW4bbsBH-25lITS-1}\nwixd{NW4bbsBH-2JcmrV-1}}}%
\nwixlogsorted{c}{{Inner Automorphisms}{NW3Mfp8C-UGF1u-1}{\nwixu{NW18nMBU-2TX9wk-1}\nwixd{NW3Mfp8C-UGF1u-1}}}%
\nwixlogsorted{c}{{Lemma: $H\subgroup G$ and $\trivialSubgroup\subgroup H$ implies $H=\trivialSubgroup$}{NW1Nnu7l-3CeuwY-1}{\nwixd{NW1Nnu7l-3CeuwY-1}\nwixu{NW1Nnu7l-2Beici-1}}}%
\nwixlogsorted{c}{{Lemma: Elements of \code{}InnAut\ G\edoc{} are automorphisms}{NW3Mfp8C-3eJW7Q-1}{\nwixu{NW3Mfp8C-2gUxot-1}\nwixd{NW3Mfp8C-3eJW7Q-1}}}%
\nwixlogsorted{c}{{Lemma: Existence of finite nontrivial groups}{NW18nMBU-3WaVwt-1}{\nwixd{NW18nMBU-3WaVwt-1}\nwixu{NW18nMBU-OpWr6-1}}}%
\nwixlogsorted{c}{{Lemma: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have monomorphism $\varphi|_{H}$}{NW1Nnu7l-2Beici-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-2Beici-1}}}%
\nwixlogsorted{c}{{Lemma: if $H\subgroup\trivialGroup$, then $H=\trivialGroup$}{NW47t2dy-1tYS7d-1}{\nwixu{NW47t2dy-HjATr-1}\nwixd{NW47t2dy-1tYS7d-1}}}%
\nwixlogsorted{c}{{Lemma: maximal subgroups are proper}{NW18nMBU-KtuAy-1}{\nwixu{NW18nMBU-KQsbx-1}\nwixd{NW18nMBU-KtuAy-1}}}%
\nwixlogsorted{c}{{Lemma: trivial subgroup is \code{}characteristic\edoc{}}{NW47t2dy-HjATr-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-HjATr-1}}}%
\nwixlogsorted{c}{{Lemma: two group morphisms which coincide on subgroup have the same image}{NW47t2dy-475WvU-1}{\nwixu{NW47t2dy-4WQdGY-1}\nwixd{NW47t2dy-475WvU-1}}}%
\nwixlogsorted{c}{{License}{NWoaARJ-1lOApn-1}{\nwixu{NWoaARJ-2sCaVS-1}\nwixd{NWoaARJ-1lOApn-1}}}%
\nwixlogsorted{c}{{Nontrivial Groups}{NW18nMBU-1xRFQU-1}{\nwixu{NW18nMBU-2TX9wk-1}\nwixd{NW18nMBU-1xRFQU-1}}}%
\nwixlogsorted{c}{{Number constructors for \code{}char.miz\edoc{}}{NW4bbsBH-1FgKzw-1}{\nwixu{NW4bbsBH-45oKpZ-1}\nwixd{NW4bbsBH-1FgKzw-1}}}%
\nwixlogsorted{c}{{Outer as antonym of inner}{NW3Mfp8C-RgKDM-1}{\nwixu{NW3Mfp8C-1Tb4wZ-1}\nwixd{NW3Mfp8C-RgKDM-1}}}%
\nwixlogsorted{c}{{Proof $\forall y\in G, y \in f(H)\impliedby y\in H^{a}$}{NW3Mfp8C-1b1ocA-1}{\nwixu{NW3Mfp8C-2zspfg-1}\nwixd{NW3Mfp8C-1b1ocA-1}}}%
\nwixlogsorted{c}{{Proof $\forall y\in G, y\in f(H)\implies y\in H^{a}$}{NW3Mfp8C-1BjobC-1}{\nwixu{NW3Mfp8C-2zspfg-1}\nwixd{NW3Mfp8C-1BjobC-1}}}%
\nwixlogsorted{c}{{Proof $\ker(f)\subset\trivialSubgroup$}{NW3Mfp8C-1msO16-1}{\nwixu{NW3Mfp8C-3fLhao-1}\nwixd{NW3Mfp8C-1msO16-1}}}%
\nwixlogsorted{c}{{Proof $f$ is in \code{}InnAut\ G\edoc{} $\implies$ ($f$ is inner automorphism)}{NW3Mfp8C-18aBqf-1}{\nwixu{NW3Mfp8C-2gUxot-1}\nwixd{NW3Mfp8C-18aBqf-1}}}%
\nwixlogsorted{c}{{Proof $f\in\aut(G)\implies f$ is \code{}Automorphism\ of\ G\edoc{}}{NW3Mfp8C-wlMQo-1}{\nwixu{NW3Mfp8C-2VuNZX-1}\nwixd{NW3Mfp8C-wlMQo-1}}}%
\nwixlogsorted{c}{{Proof ($f$ is inner automorphism) $\implies$ $f$ is in \code{}InnAut\ G\edoc{}}{NW3Mfp8C-2maG0l-1}{\nwixu{NW3Mfp8C-2gUxot-1}\nwixd{NW3Mfp8C-2maG0l-1}}}%
\nwixlogsorted{c}{{Proof an endomorphism $f^{-1}$ exists}{NW3Mfp8C-a3qbq-1}{\nwixu{NW3Mfp8C-VBRVv-1}\nwixd{NW3Mfp8C-a3qbq-1}}}%
\nwixlogsorted{c}{{Proof by contradiction: fixed by inner automorphisms implies normal}{NW3Mfp8C-3U116k-1}{\nwixu{NW3Mfp8C-4Qqcti-1}\nwixd{NW3Mfp8C-3U116k-1}}}%
\nwixlogsorted{c}{{Proof of existence of an inner Automorphism}{NW3Mfp8C-9idpO-1}{\nwixu{NW3Mfp8C-4IjmGJ-1}\nwixd{NW3Mfp8C-9idpO-1}}}%
\nwixlogsorted{c}{{Proof step: $\forall\varphi_{0}\in\Aut(G),\forall x, x\in\bigcap\mathcal{F}\implies\varphi_{0}(x)\in\bigcap\mathcal{F}$}{NW47t2dy-yNumc-1}{\nwixu{NW47t2dy-3pFvE5-1}\nwixd{NW47t2dy-yNumc-1}}}%
\nwixlogsorted{c}{{Proof step: $\mathcal{F}\neq\emptyset$}{NW47t2dy-1m2Gqf-1}{\nwixu{NW47t2dy-3pFvE5-1}\nwixd{NW47t2dy-1m2Gqf-1}}}%
\nwixlogsorted{c}{{Proof step: $x\in\bigcap\mathcal{F}\implies x\in\varphi(\bigcap\mathcal{F})$}{NW47t2dy-2pu6zi-1}{\nwixu{NW47t2dy-3pFvE5-1}\nwixd{NW47t2dy-2pu6zi-1}}}%
\nwixlogsorted{c}{{Proof step: $y\in\varphi(\bigcap\mathcal{F})\implies y\in\bigcap\mathcal{F}$}{NW47t2dy-3LSeN1-1}{\nwixu{NW47t2dy-3pFvE5-1}\nwixd{NW47t2dy-3LSeN1-1}}}%
\nwixlogsorted{c}{{Proof: $\forall a\in G, K^{a}=K$}{NW47t2dy-4CFIX3-1}{\nwixu{NW47t2dy-4WQdGY-1}\nwixd{NW47t2dy-4CFIX3-1}}}%
\nwixlogsorted{c}{{Proof: $\forall g\in G$, $g\in\varphi[\varphi^{-1}(H)]\iff g\in H$}{NW1Nnu7l-1ZaFZM-1}{\nwixu{NW1Nnu7l-xUcSR-1}\nwixd{NW1Nnu7l-1ZaFZM-1}}}%
\nwixlogsorted{c}{{Proof: $\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$}{NW1Nnu7l-1MwKaZ-1}{\nwixu{NW1Nnu7l-2Q8R0t-1}\nwixd{NW1Nnu7l-1MwKaZ-1}}}%
\nwixlogsorted{c}{{Proof: $\forall x, x\in X\implies h(x) = f(x)$}{NW18nMBU-1bDmhU-1}{\nwixu{NW18nMBU-l92FA-1}\nwixd{NW18nMBU-1bDmhU-1}}}%
\nwixlogsorted{c}{{Proof: $\forall\varphi\in\Aut(G),H\subgroup\varphi(H)$}{NW47t2dy-2AHwGO-1}{\nwixu{NW47t2dy-1WVJgD-1}\nwixd{NW47t2dy-2AHwGO-1}}}%
\nwixlogsorted{c}{{Proof: $\psi(k)\in L$}{NW1Nnu7l-rcjUo-1}{\nwixu{NW1Nnu7l-2sFwyR-1}\nwixd{NW1Nnu7l-rcjUo-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi(\Commutators(G))\subset\Commutators(G)$}{NW47t2dy-3odp3Y-1}{\nwixu{NW47t2dy-1BwBWL-1}\nwixd{NW47t2dy-3odp3Y-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi(\Commutators(G))\supset\Commutators(G)$}{NW47t2dy-22edeY-1}{\nwixu{NW47t2dy-1BwBWL-1}\nwixd{NW47t2dy-22edeY-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi(L) = K$}{NW1Nnu7l-3oqpnZ-1}{\nwixu{NW1Nnu7l-2sFwyR-1}\nwixd{NW1Nnu7l-3oqpnZ-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi(L)=G$}{NW1Nnu7l-13ZzHL-1}{\nwixu{NW1Nnu7l-2sFwyR-1}\nwixd{NW1Nnu7l-13ZzHL-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi|_{H}$ is surjective}{NW1Nnu7l-41Pxbq-1}{\nwixu{NW1Nnu7l-1QHEJY-1}\nwixd{NW1Nnu7l-41Pxbq-1}}}%
\nwixlogsorted{c}{{Proof: $H$ is maximal implies $K=G$}{NW1Nnu7l-2sFwyR-1}{\nwixu{NW1Nnu7l-39Q49p-1}\nwixd{NW1Nnu7l-2sFwyR-1}}}%
\nwixlogsorted{c}{{Proof: $H\charSubgroup G\impliedby\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$}{NW47t2dy-1WVJgD-1}{\nwixu{NW47t2dy-4Z20G4-1}\nwixd{NW47t2dy-1WVJgD-1}}}%
\nwixlogsorted{c}{{Proof: $H\charSubgroup G\implies\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$}{NW47t2dy-ikrOm-1}{\nwixu{NW47t2dy-4Z20G4-1}\nwixd{NW47t2dy-ikrOm-1}}}%
\nwixlogsorted{c}{{Proof: $H\neq L$}{NW1Nnu7l-aXEjM-1}{\nwixu{NW1Nnu7l-2sFwyR-1}\nwixd{NW1Nnu7l-aXEjM-1}}}%
\nwixlogsorted{c}{{Proof: $y\in f(K)\iff y\in g(K)$}{NW47t2dy-1JehLA-1}{\nwixu{NW47t2dy-475WvU-1}\nwixd{NW47t2dy-1JehLA-1}}}%
\nwixlogsorted{c}{{Proof: $y\in f(K)\implies y\in g(K)$}{NW47t2dy-1yCGg9-1}{\nwixu{NW47t2dy-1JehLA-1}\nwixd{NW47t2dy-1yCGg9-1}}}%
\nwixlogsorted{c}{{Proof: $y\in g(K)\implies y\in f(K)$}{NW47t2dy-1aEga6-1}{\nwixu{NW47t2dy-1JehLA-1}\nwixd{NW47t2dy-1aEga6-1}}}%
\nwixlogsorted{c}{{Proof: existence of strict nontrivial subgroup of $G$}{NW18nMBU-lTKq-1}{\nwixu{NW18nMBU-2RiGxf-1}\nwixd{NW18nMBU-lTKq-1}}}%
\nwixlogsorted{c}{{Proof: normal implies fixed by inner automorphisms}{NW3Mfp8C-ZiHjv-1}{\nwixu{NW3Mfp8C-4Qqcti-1}\nwixd{NW3Mfp8C-ZiHjv-1}}}%
\nwixlogsorted{c}{{Proper Subgroups}{NW18nMBU-KQsbx-1}{\nwixu{NW18nMBU-2TX9wk-1}\nwixd{NW18nMBU-KQsbx-1}}}%
\nwixlogsorted{c}{{Prove $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$}{NW47t2dy-1dPqXM-1}{\nwixu{NW47t2dy-g56Nl-1}\nwixd{NW47t2dy-1dPqXM-1}}}%
\nwixlogsorted{c}{{Register \code{}bijective\edoc{} for \code{}Endomorphism\edoc{}}{NW1Nnu7l-6ndaE-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-6ndaE-1}}}%
\nwixlogsorted{c}{{Register \code{}characteristic\edoc{} as attribute for Subgroup}{NW47t2dy-1HIoHq-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-1HIoHq-1}\nwixd{NW47t2dy-1HIoHq-2}}}%
\nwixlogsorted{c}{{Register \code{}inner\edoc{} for \code{}Automorphism\edoc{}}{NW3Mfp8C-4IjmGJ-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-4IjmGJ-1}}}%
\nwixlogsorted{c}{{Register \code{}strict\edoc{} \code{}characteristic\edoc{} for Subgroups}{NW47t2dy-2iAFXC-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-2iAFXC-1}}}%
\nwixlogsorted{c}{{Register characteristic subgroups are normal}{NW47t2dy-24pxt5-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-24pxt5-1}}}%
\nwixlogsorted{c}{{Register group theoretic clusters for \code{}char.miz\edoc{}}{NW4bbsBH-3SNFzZ-1}{\nwixu{NW4bbsBH-PI8yt-1}\nwixd{NW4bbsBH-3SNFzZ-1}}}%
\nwixlogsorted{c}{{Register number clusters for \code{}char.miz\edoc{}}{NW4bbsBH-kCYBG-1}{\nwixu{NW4bbsBH-PI8yt-1}\nwixd{NW4bbsBH-kCYBG-1}}}%
\nwixlogsorted{c}{{Register set theoretic clusters for \code{}char.miz\edoc{}}{NW4bbsBH-2rYbJz-1}{\nwixu{NW4bbsBH-PI8yt-1}\nwixd{NW4bbsBH-2rYbJz-1}}}%
\nwixlogsorted{c}{{Register: maximal subgroups are proper}{NW18nMBU-3ZDEGc-1}{\nwixu{NW18nMBU-KQsbx-1}\nwixd{NW18nMBU-3ZDEGc-1}}}%
\nwixlogsorted{c}{{Register: non trivial for Group}{NW18nMBU-47kVo6-1}{\nwixu{NW18nMBU-1xRFQU-1}\nwixd{NW18nMBU-47kVo6-1}}}%
\nwixlogsorted{c}{{Register: non trivial for Subgroup}{NW18nMBU-2RiGxf-1}{\nwixu{NW18nMBU-1xRFQU-1}\nwixd{NW18nMBU-2RiGxf-1}}}%
\nwixlogsorted{c}{{Register: nontrivial for "finite group"}{NW18nMBU-OpWr6-1}{\nwixu{NW18nMBU-1xRFQU-1}\nwixd{NW18nMBU-OpWr6-1}}}%
\nwixlogsorted{c}{{Register: proper subgroup for nontrivial groups}{NW18nMBU-1x35KZ-1}{\nwixu{NW18nMBU-KQsbx-1}\nwixd{NW18nMBU-1x35KZ-1}\nwixd{NW18nMBU-1x35KZ-2}}}%
\nwixlogsorted{c}{{Register: proper subgroups of nontrivial subgroups}{NW18nMBU-hGa0Z-1}{\nwixu{NW18nMBU-KQsbx-1}\nwixd{NW18nMBU-hGa0Z-1}}}%
\nwixlogsorted{c}{{Register: the identity function is surjective and bijective}{NW18nMBU-1ouPZe-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-1ouPZe-1}}}%
\nwixlogsorted{c}{{Register: trivial groups and trivial subgroups}{NW18nMBU-1APuWV-1}{\nwixu{NW18nMBU-1xRFQU-1}\nwixd{NW18nMBU-1APuWV-1}}}%
\nwixlogsorted{c}{{Reserve symbols for inner and outer automorphisms}{NW1Nnu7l-1LL7AC-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-1LL7AC-1}}}%
\nwixlogsorted{c}{{Reserve: $\varphi$ for \code{}Automorphism\edoc{}}{NW1Nnu7l-1FGfaH-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-1FGfaH-1}}}%
\nwixlogsorted{c}{{Reserve: $f$ for \code{}Endomorphism\edoc{}}{NW1Nnu7l-18sdY2-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-18sdY2-1}}}%
\nwixlogsorted{c}{{Scheme: $\bigcap\{A\subset G\mid\exists H\subgroup G, A=H, P[H]\}$ is characteristic}{NW47t2dy-5CDvr-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-5CDvr-1}}}%
\nwixlogsorted{c}{{Scheme: if $H\subgroup G\land P[H]$ and $\forall\varphi\in\Aut(G),P[\varphi(H)]$, then $\bigcap\{H\subgroup G\mid P[H]\}$ is $\Aut(G)$-invariant}{NW47t2dy-3pFvE5-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-3pFvE5-1}}}%
\nwixlogsorted{c}{{Ste theoretic constructors for \code{}char.miz\edoc{}}{NW4bbsBH-1oVli-1}{\nwixu{NW4bbsBH-45oKpZ-1}\nwixd{NW4bbsBH-1oVli-1}}}%
\nwixlogsorted{c}{{Step 1: $\forall\varphi\in\Aut(G)\forall y\in G\forall z\in Z(G), \varphi(z)y = y\varphi(z)$}{NW47t2dy-3ZyLrF-1}{\nwixu{NW47t2dy-1dPqXM-1}\nwixd{NW47t2dy-3ZyLrF-1}}}%
\nwixlogsorted{c}{{Step 1: $g\in\varphi[\varphi^{-1}(H)]\implies g\in H$}{NW1Nnu7l-47FJLD-1}{\nwixu{NW1Nnu7l-1ZaFZM-1}\nwixd{NW1Nnu7l-47FJLD-1}}}%
\nwixlogsorted{c}{{Step 2: $\forall\varphi\in\Aut(G)\forall z\in G, z\in Z(G)\implies \varphi(z)\in Z(G)$}{NW47t2dy-1r6gW0-1}{\nwixu{NW47t2dy-1dPqXM-1}\nwixd{NW47t2dy-1r6gW0-1}}}%
\nwixlogsorted{c}{{Step 2: $g\in\varphi[\varphi^{-1}(H)]\impliedby g\in H$}{NW1Nnu7l-WRyHP-1}{\nwixu{NW1Nnu7l-1ZaFZM-1}\nwixd{NW1Nnu7l-WRyHP-1}}}%
\nwixlogsorted{c}{{Step 3: $\forall\varphi\in\Aut(G),\varphi(Z(G))\subgroup Z(G)$}{NW47t2dy-10qnyb-1}{\nwixu{NW47t2dy-1dPqXM-1}\nwixd{NW47t2dy-10qnyb-1}}}%
\nwixlogsorted{c}{{Sub-proof: $H\properSubgroup G\impliedby G\setminus H\neq\emptyset$}{NW18nMBU-dfIXQ-1}{\nwixu{NW18nMBU-17X1oO-1}\nwixd{NW18nMBU-dfIXQ-1}}}%
\nwixlogsorted{c}{{Sub-proof: $H\properSubgroup G\implies G\setminus H\neq\emptyset$}{NW18nMBU-4cgubz-1}{\nwixu{NW18nMBU-17X1oO-1}\nwixd{NW18nMBU-4cgubz-1}}}%
\nwixlogsorted{c}{{Sub-proof: characteristic subgroups invariant under conjugation}{NW47t2dy-2mkOw1-1}{\nwixu{NW47t2dy-xos9m-1}\nwixd{NW47t2dy-2mkOw1-1}}}%
\nwixlogsorted{c}{{Sub-step 1: $a\in\varphi^{-1}(H)$}{NW1Nnu7l-3vZPH1-1}{\nwixu{NW1Nnu7l-WRyHP-1}\nwixd{NW1Nnu7l-3vZPH1-1}}}%
\nwixlogsorted{c}{{Sub-step 2: $b\in\varphi[\varphi^{-1}(H)]$}{NW1Nnu7l-2IWBBW-1}{\nwixu{NW1Nnu7l-WRyHP-1}\nwixd{NW1Nnu7l-2IWBBW-1}}}%
\nwixlogsorted{c}{{Sub-step 3.1: $\forall w\in G,w\in\rng(\varphi|_{Z(G)})\implies w\in Z(G)$}{NW47t2dy-2KjPoO-1}{\nwixu{NW47t2dy-10qnyb-1}\nwixd{NW47t2dy-2KjPoO-1}}}%
\nwixlogsorted{c}{{Sub-step 3: $g\in\varphi[\varphi^{-1}(H)]$}{NW1Nnu7l-kMqjk-1}{\nwixu{NW1Nnu7l-WRyHP-1}\nwixd{NW1Nnu7l-kMqjk-1}}}%
\nwixlogsorted{c}{{TEXT/char.miz}{NWoaARJ-2sCaVS-1}{\nwixd{NWoaARJ-2sCaVS-1}}}%
\nwixlogsorted{c}{{Theorem: $(\forall\varphi\in\Aut(G),\varphi(H)\subgroup H)\implies\varphi[\varphi^{-1}(H)]\subgroup \varphi(H)$}{NW1Nnu7l-g7029-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-g7029-1}}}%
\nwixlogsorted{c}{{Theorem: $\forall h\in H,\varphi(h)\in H$ implies $\varphi(H)\subgroup H$}{NW47t2dy-3M3ox1-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-3M3ox1-1}}}%
\nwixlogsorted{c}{{Theorem: $\forall\varphi\in G,\varphi(\Commutators(G))=\Commutators(G)$}{NW47t2dy-1BwBWL-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-1BwBWL-1}}}%
\nwixlogsorted{c}{{Theorem: $\forall\varphi\in\Aut(G), \varphi[\varphi^{-1}(H)]=H$}{NW1Nnu7l-xUcSR-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-xUcSR-1}}}%
\nwixlogsorted{c}{{Theorem: $\FrattiniSubgroup(G)$ is characteristic}{NW47t2dy-1wEepZ-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-1wEepZ-1}}}%
\nwixlogsorted{c}{{Theorem: $\varphi(H)\subgroup K\implies H\subgroup\varphi^{-1}(K)$}{NW1Nnu7l-zRHLm-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-zRHLm-1}}}%
\nwixlogsorted{c}{{Theorem: $\varphi\in\Aut(G)$ and $H\properSubgroup G$ implies $\varphi(H)\properSubgroup G$}{NW1Nnu7l-39h8sj-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-39h8sj-1}}}%
\nwixlogsorted{c}{{Theorem: $\varphi\in\Aut(G)$ and $H\subgroup G$ such that $\varphi(H)=H$ implies $\varphi|H\in\Aut(H)$}{NW1Nnu7l-1QHEJY-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-1QHEJY-1}}}%
\nwixlogsorted{c}{{Theorem: $A\subset G$ s.t. $\forall\varphi\in\Aut(G),\varphi(A)=A$, then $\langle A\rangle$ is characteristic}{NW47t2dy-3lDAoY-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-3lDAoY-1}}}%
\nwixlogsorted{c}{{Theorem: $f$ in \code{}InnAut\ G\edoc{} iff $f$ is \code{}inner\ Automorphism\ of\ G\edoc{}}{NW3Mfp8C-2gUxot-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-2gUxot-1}}}%
\nwixlogsorted{c}{{Theorem: $f\colon X\into Y$ and $x\notin A\subset X$ implies $f(x)\notin f(A)$}{NW18nMBU-17dzpg-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-17dzpg-1}}}%
\nwixlogsorted{c}{{Theorem: $g\in H\subgroup G$ and $K\subgroup G$, then $H\subgroup K\implies g\in K$}{NW18nMBU-q3KUi-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-q3KUi-1}}}%
\nwixlogsorted{c}{{Theorem: $H\properSubgroup K\subgroup G$ and $H\neq K$ implies $K$ is nontrivial}{NW18nMBU-2DotbH-1}{\nwixu{NW18nMBU-KQsbx-1}\nwixd{NW18nMBU-2DotbH-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$ is characteristic iff $\forall\varphi\in\Aut(G),\varphi(H)\subgroup H$}{NW47t2dy-4Z20G4-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-4Z20G4-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$ is proper iff $G\setminus H\neq\emptyset$}{NW18nMBU-17X1oO-1}{\nwixu{NW18nMBU-KQsbx-1}\nwixd{NW18nMBU-17X1oO-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$ is proper iff the underlying sets are different}{NW18nMBU-3PEt35-1}{\nwixu{NW18nMBU-KQsbx-1}\nwixd{NW18nMBU-3PEt35-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup G$, $H$ is trivial implies $H=\trivialSubgroup_{G}$}{NW18nMBU-3Oqgqd-1}{\nwixu{NW18nMBU-1xRFQU-1}\nwixd{NW18nMBU-3Oqgqd-1}}}%
\nwixlogsorted{c}{{Theorem: $H\subgroup K$ and $K\subgroup G$, then $K=\trivialSubgroup\implies H=\trivialSubgroup$}{NW18nMBU-A6DSQ-1}{\nwixu{NW18nMBU-1xRFQU-1}\nwixd{NW18nMBU-A6DSQ-1}}}%
\nwixlogsorted{c}{{Theorem: $p$-Core is Characteristic}{NW47t2dy-26IJy2-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-26IJy2-1}}}%
\nwixlogsorted{c}{{Theorem: $Z(G)$ is characteristic subgroup}{NW47t2dy-g56Nl-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-g56Nl-1}}}%
\nwixlogsorted{c}{{Theorem: \code{}id\ G\edoc{} is effectively inner}{NW3Mfp8C-4YoKSm-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-4YoKSm-1}}}%
\nwixlogsorted{c}{{Theorem: Automorphisms map maximal subgroups to maximal subgroups}{NW1Nnu7l-39Q49p-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-39Q49p-1}}}%
\nwixlogsorted{c}{{Theorem: Automorphisms map trivial subgroups to themselves}{NW1Nnu7l-49bqr6-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-49bqr6-1}}}%
\nwixlogsorted{c}{{Theorem: characteristic subgroup of a normal subgroup is normal}{NW47t2dy-4WQdGY-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-4WQdGY-1}}}%
\nwixlogsorted{c}{{Theorem: characteristic subgroups are normal}{NW47t2dy-xos9m-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-xos9m-1}}}%
\nwixlogsorted{c}{{Theorem: Conjugation by fixed element is an automorphism}{NW3Mfp8C-VBRVv-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-VBRVv-1}}}%
\nwixlogsorted{c}{{Theorem: constructing inner automorphisms from group elements}{NW3Mfp8C-arh13-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-arh13-1}}}%
\nwixlogsorted{c}{{Theorem: Endomorphisms preserve the trivial subgroup}{NW1Nnu7l-3pJfHu-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-3pJfHu-1}}}%
\nwixlogsorted{c}{{Theorem: Existence of characteristic subgroups}{NW47t2dy-3KEBxf-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-3KEBxf-1}}}%
\nwixlogsorted{c}{{Theorem: for $\varphi\in\Aut(G)$ and $H\subgroup G$, we have $\ker(\varphi|H)\subgroup\ker(\varphi)$}{NW1Nnu7l-2Q8R0t-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-2Q8R0t-1}}}%
\nwixlogsorted{c}{{Theorem: for $H\subgroup G$ and $K\subgroup G$ both trivial, $H=K$}{NW18nMBU-4EQBnP-1}{\nwixu{NW18nMBU-1xRFQU-1}\nwixd{NW18nMBU-4EQBnP-1}}}%
\nwixlogsorted{c}{{Theorem: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have $H\iso\varphi(H)$}{NW1Nnu7l-3WScXE-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-3WScXE-1}}}%
\nwixlogsorted{c}{{Theorem: if $f$ is bijective, then $(f^{-1})^{-1}=f$}{NW18nMBU-l92FA-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-l92FA-1}}}%
\nwixlogsorted{c}{{Theorem: if $f\colon X\to Y$ is bijective, then $f\circ f^{-1}=\id_{Y}$}{NW18nMBU-1Brdpy-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-1Brdpy-1}}}%
\nwixlogsorted{c}{{Theorem: inner automorphism acting on subgroup is conjugate of argument}{NW3Mfp8C-2zspfg-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-2zspfg-1}}}%
\nwixlogsorted{c}{{Theorem: inner Automorphisms fix only normal Subgroups}{NW3Mfp8C-4Qqcti-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-4Qqcti-1}}}%
\nwixlogsorted{c}{{Theorem: isomorphic subgroups have equal indices}{NW1Nnu7l-2VpvPR-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-2VpvPR-1}}}%
\nwixlogsorted{c}{{Theorem: Kernel of conjugation as endomorphism}{NW3Mfp8C-3fLhao-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-3fLhao-1}}}%
\nwixlogsorted{c}{{Theorem: Relate \code{}Automorphism\ of\ G\edoc{} to elements of \code{}Aut\ G\edoc{}}{NW3Mfp8C-2VuNZX-1}{\nwixu{NW3Mfp8C-UGF1u-1}\nwixd{NW3Mfp8C-2VuNZX-1}}}%
\nwixlogsorted{c}{{Theorem: restriction of group morphism acts on elements like the original}{NW18nMBU-32pfqx-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-32pfqx-1}}}%
\nwixlogsorted{c}{{Theorem: Sandwich Subgroup Equality Theorem}{NW18nMBU-2pqevM-1}{\nwixd{NW18nMBU-2pqevM-1}}}%
\nwixlogsorted{c}{{Theorem: Subgroups invariant under conjugation are normal}{NW18nMBU-4Nsdji-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-4Nsdji-1}}}%
\nwixlogsorted{c}{{Theorem: Sylow $p$-Subgroups invariant under $\Aut(G)$}{NW1Nnu7l-3PWeZI-1}{\nwixu{NW1Nnu7l-1CMOm-1}\nwixd{NW1Nnu7l-3PWeZI-1}}}%
\nwixlogsorted{c}{{Theorem: The derived subgroup is characteristic}{NW47t2dy-44iz0d-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-44iz0d-1}}}%
\nwixlogsorted{c}{{Theorem: transitivity of characteristic subgroups}{NW47t2dy-2ur0LT-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-2ur0LT-1}}}%
\nwixlogsorted{c}{{Theorem: trivial groups look like $\trivialSubgroup$}{NW18nMBU-2jhymB-1}{\nwixu{NW18nMBU-1xRFQU-1}\nwixd{NW18nMBU-2jhymB-1}}}%
\nwixlogsorted{c}{{Theorem: unique subgroup of order $n$ is \code{}characteristic\edoc{}}{NW47t2dy-3r3l0M-1}{\nwixu{NW47t2dy-3NltVm-1}\nwixd{NW47t2dy-3r3l0M-1}}}%
\nwixlogsorted{i}{{\nwixident{-core{\_}of{\_}G}}{-core:unof:unG}}%
\nwixlogsorted{i}{{\nwixident{Automorphism}}{Automorphism}}%
\nwixlogsorted{i}{{\nwixident{characteristic}}{characteristic}}%
\nwixlogsorted{i}{{\nwixident{CharMeet}}{CharMeet}}%
\nwixlogsorted{i}{{\nwixident{Def10}}{Def10}}%
\nwixlogsorted{i}{{\nwixident{Def5}}{Def5}}%
\nwixlogsorted{i}{{\nwixident{Def6}}{Def6}}%
\nwixlogsorted{i}{{\nwixident{Endomorphism}}{Endomorphism}}%
\nwixlogsorted{i}{{\nwixident{inner}}{inner}}%
\nwixlogsorted{i}{{\nwixident{Lm1}}{Lm1}}%
\nwixlogsorted{i}{{\nwixident{Lm2}}{Lm2}}%
\nwixlogsorted{i}{{\nwixident{Lm3}}{Lm3}}%
\nwixlogsorted{i}{{\nwixident{Lm6}}{Lm6}}%
\nwixlogsorted{i}{{\nwixident{Lm7}}{Lm7}}%
\nwixlogsorted{i}{{\nwixident{Lm8}}{Lm8}}%
\nwixlogsorted{i}{{\nwixident{LmFiniteNontrivial}}{LmFiniteNontrivial}}%
\nwixlogsorted{i}{{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}}%
\nwixlogsorted{i}{{\nwixident{MeetIsChar}}{MeetIsChar}}%
\nwixlogsorted{i}{{\nwixident{outer}}{outer}}%
\nwixlogsorted{i}{{\nwixident{proper}}{proper}}%
\nwixlogsorted{i}{{\nwixident{Th10}}{Th10}}%
\nwixlogsorted{i}{{\nwixident{Th11}}{Th11}}%
\nwixlogsorted{i}{{\nwixident{Th12}}{Th12}}%
\nwixlogsorted{i}{{\nwixident{Th13}}{Th13}}%
\nwixlogsorted{i}{{\nwixident{Th14}}{Th14}}%
\nwixlogsorted{i}{{\nwixident{Th15}}{Th15}}%
\nwixlogsorted{i}{{\nwixident{Th16}}{Th16}}%
\nwixlogsorted{i}{{\nwixident{Th17}}{Th17}}%
\nwixlogsorted{i}{{\nwixident{Th18}}{Th18}}%
\nwixlogsorted{i}{{\nwixident{Th19}}{Th19}}%
\nwixlogsorted{i}{{\nwixident{Th2}}{Th2}}%
\nwixlogsorted{i}{{\nwixident{Th20}}{Th20}}%
\nwixlogsorted{i}{{\nwixident{Th21}}{Th21}}%
\nwixlogsorted{i}{{\nwixident{Th22}}{Th22}}%
\nwixlogsorted{i}{{\nwixident{Th23}}{Th23}}%
\nwixlogsorted{i}{{\nwixident{Th24}}{Th24}}%
\nwixlogsorted{i}{{\nwixident{Th25}}{Th25}}%
\nwixlogsorted{i}{{\nwixident{Th26}}{Th26}}%
\nwixlogsorted{i}{{\nwixident{Th27}}{Th27}}%
\nwixlogsorted{i}{{\nwixident{Th28}}{Th28}}%
\nwixlogsorted{i}{{\nwixident{Th29}}{Th29}}%
\nwixlogsorted{i}{{\nwixident{Th3}}{Th3}}%
\nwixlogsorted{i}{{\nwixident{Th30}}{Th30}}%
\nwixlogsorted{i}{{\nwixident{Th31}}{Th31}}%
\nwixlogsorted{i}{{\nwixident{Th32}}{Th32}}%
\nwixlogsorted{i}{{\nwixident{Th33}}{Th33}}%
\nwixlogsorted{i}{{\nwixident{Th34}}{Th34}}%
\nwixlogsorted{i}{{\nwixident{Th35}}{Th35}}%
\nwixlogsorted{i}{{\nwixident{Th36}}{Th36}}%
\nwixlogsorted{i}{{\nwixident{Th37}}{Th37}}%
\nwixlogsorted{i}{{\nwixident{Th38}}{Th38}}%
\nwixlogsorted{i}{{\nwixident{Th39}}{Th39}}%
\nwixlogsorted{i}{{\nwixident{Th4}}{Th4}}%
\nwixlogsorted{i}{{\nwixident{Th40}}{Th40}}%
\nwixlogsorted{i}{{\nwixident{Th41}}{Th41}}%
\nwixlogsorted{i}{{\nwixident{Th42}}{Th42}}%
\nwixlogsorted{i}{{\nwixident{Th43}}{Th43}}%
\nwixlogsorted{i}{{\nwixident{Th44}}{Th44}}%
\nwixlogsorted{i}{{\nwixident{Th45}}{Th45}}%
\nwixlogsorted{i}{{\nwixident{Th46}}{Th46}}%
\nwixlogsorted{i}{{\nwixident{Th47}}{Th47}}%
\nwixlogsorted{i}{{\nwixident{Th48}}{Th48}}%
\nwixlogsorted{i}{{\nwixident{Th49}}{Th49}}%
\nwixlogsorted{i}{{\nwixident{Th5}}{Th5}}%
\nwixlogsorted{i}{{\nwixident{Th6}}{Th6}}%
\nwixlogsorted{i}{{\nwixident{Th7}}{Th7}}%
\nwixlogsorted{i}{{\nwixident{Th8}}{Th8}}%
\nwixlogsorted{i}{{\nwixident{Th9}}{Th9}}%
\nwixlogsorted{i}{{\nwixident{trivial}}{trivial}}%
\nwbegincode{91}\sublabel{NW47t2dy-44iz0d-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-44iz0d-1}}}\moddef{Theorem: The derived subgroup is characteristic~{\nwtagstyle{}\subpageref{NW47t2dy-44iz0d-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3NltVm-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th49}{NW47t2dy-44iz0d-1}:
  G` is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1}
proof
  [.1_G,1_G.] in commutators G;
  then A1: commutators G <> \{\};
  for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-2qSYW4-1} of G holds phi .: commutators G =
  commutators G by \nwlinkedidentc{Th46}{NW47t2dy-1BwBWL-1};
  then gr commutators G is \nwlinkedidentc{characteristic}{NW47t2dy-qejLV-1} by A1,\nwlinkedidentc{Th48}{NW47t2dy-3lDAoY-1};
  hence thesis;
end;
\nwindexdefn{\nwixident{Th49}}{Th49}{NW47t2dy-44iz0d-1}\eatline
\nwused{\\{NW47t2dy-3NltVm-1}}\nwidentdefs{\\{{\nwixident{Th49}}{Th49}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th46}}{Th46}}\\{{\nwixident{Th48}}{Th48}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-44iz0d-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-44iz0d-1}\nwindexuse{\nwixident{Th46}}{Th46}{NW47t2dy-44iz0d-1}\nwindexuse{\nwixident{Th48}}{Th48}{NW47t2dy-44iz0d-1}\nwendcode{}
