% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-% ===> this file was generated automatically by noweave --- better not edit it
\chapter{Characteristic Subgroups}

\N{Structure of an article}
We call a Mizar file/script an ``article''. While developing a Mizar
article, the main body is stored in a {\Tt{}TEXT/\nwendquote} subdirectory. As I
understand it, the casing of the directory matters (because there are
DOS computers which have case-sensitive file systems\dots or something).
Every Mizar article looks like:

\nwfilename{nw/characteristic.nw}\nwbegincode{1}\sublabel{NWoaARJ-2sCaVS-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWoaARJ-2sCaVS-1}}}\moddef{TEXT/char.miz~{\nwtagstyle{}\subpageref{NWoaARJ-2sCaVS-1}}}\endmoddef\nwstartdeflinemarkup\nwenddeflinemarkup

\LA{}Environment for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-3ZQoFX-1}}\RA{}

\LA{}\code{}char.miz\edoc{} article body~{\nwtagstyle{}\subpageref{NW18nMBU-2TX9wk-1}}\RA{}

\nwnotused{TEXT/char.miz}\nwendcode{}\nwbegindocs{2}\nwdocspar

\M
Each Mizar article has an associated ``vocabular file'' which lists the
\emph{new} terms introduced. It's stored in a {\Tt{}DICT/\nwendquote}
subdirectory. Terms are prefixed with the following:
\begin{itemize}
\item {\Tt{}R\nwendquote} for predicate (like {\Tt{}Rare{\_}isomorphic\nwendquote} for a new predicate {\Tt{}are{\_}isomorphic\nwendquote})
\item {\Tt{}O\nwendquote} for functor (e.g., {\Tt{}Oid\nwendquote} for {\Tt{}id\nwendquote})
\item {\Tt{}M\nwendquote} for mode (e.g., {\Tt{}MSubgroup\nwendquote} for {\Tt{}Subgroup\nwendquote})
\item {\Tt{}G\nwendquote} for structure (e.g., {\Tt{}GmultLoopStr{\_}0\nwendquote} for {\Tt{}multLoopStr{\_}0\nwendquote})
\item {\Tt{}U\nwendquote} for selectors (e.g., {\Tt{}Ucarrier\nwendquote} in {\Tt{}STRUCT{\_}0\nwendquote} gives us a
  way to write {\Tt{}the\ carrier\ of\ X\nwendquote})
\item {\Tt{}V\nwendquote} for attributes (so {\Tt{}Vcharacteristic\nwendquote} is a new attribute ``characteristic'')
\item {\Tt{}K\nwendquote} for left functor brackets (like \verb#[:# in {\Tt{}ZFMISC{\_}1\nwendquote})
\item {\Tt{}L\nwendquote} for right functor brackets (like the corresponding \verb#:]#
  in {\Tt{}ZFMISC{\_}1\nwendquote})
\end{itemize}

\M
For our immediate purposes, we want to prove theorems concerning
characteristic subgroups. We can start with checking if the vocabulary
word ``characteristic'' has been introduced by running on the command
line ``\verb#findvoc -w "characteristic"#'' to see if any article has
already introduced it. (None has, so far.) Since we want to describe
``characteristic Subgroups'' and ``Subgroup'' is a mode defined in
{\Tt{}GROUP{\_}2\nwendquote}, it seems reasonable to introduce a new adjective
[attribute] ``characteristic'' Thus we begin:

\nwenddocs{}\nwbegincode{3}\sublabel{NWoaARJ-9L8EQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NWoaARJ-9L8EQ-1}}}\moddef{DICT/TMP.VOC~{\nwtagstyle{}\subpageref{NWoaARJ-9L8EQ-1}}}\endmoddef\nwstartdeflinemarkup\nwenddeflinemarkup
Vcharacteristic

\nwnotused{DICT/TMP.VOC}\nwendcode{}\nwbegindocs{4}\nwdocspar

%\input{tex/characteristic/environ}


%\input{tex/characteristic/preparatory}
%\input{tex/characteristic/automorphism}
%\input{tex/characteristic/isomorphism}
%\input{tex/characteristic/results}
\nwenddocs{}\nwfilename{nw/characteristic/environ.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\section{Environment}

\M
The header, or ``environment part'', tells Mizar what mathematics needs
to be imported from existing Mizar articles found in the MML. The idea
is we can define new terms [``functors''], new predicates, or new types
[``modes''], but we have to specify which articles we want to use for
their definitions, results, and notations.

This is complicated and kind of a distraction. The reader can skip ahead
to where we start proving theorems and defining concepts in
\S\ref{sec:characteristic:preparatory:start}.

\nwenddocs{}\nwbegincode{1}\sublabel{NW4bbsBH-3ZQoFX-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-3ZQoFX-1}}}\moddef{Environment for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-3ZQoFX-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWoaARJ-2sCaVS-1}}\nwenddeflinemarkup
environ

 \LA{}\code{}char.miz\edoc{} vocabularies~{\nwtagstyle{}\subpageref{NW4bbsBH-3Tf8w1-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} constructors~{\nwtagstyle{}\subpageref{NW4bbsBH-45oKpZ-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} notations~{\nwtagstyle{}\subpageref{NW4bbsBH-40mYXi-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} registrations~{\nwtagstyle{}\subpageref{NW4bbsBH-PI8yt-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} requirements~{\nwtagstyle{}\subpageref{NW4bbsBH-4BdAzJ-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} definitions~{\nwtagstyle{}\subpageref{NW4bbsBH-25lITS-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} equalities~{\nwtagstyle{}\subpageref{NW4bbsBH-1aojze-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} expansions~{\nwtagstyle{}\subpageref{NW4bbsBH-aWL85-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} theorems~{\nwtagstyle{}\subpageref{NW4bbsBH-1CXYUa-1}}\RA{};
 \LA{}\code{}char.miz\edoc{} schemes~{\nwtagstyle{}\subpageref{NW4bbsBH-21wWTp-1}}\RA{};

\nwused{\\{NWoaARJ-2sCaVS-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{remark}
In practice, we often just copy/paste the {\Tt{}environ\nwendquote} of an article
proving results about similar topics. This is probably the easiest way
to get started, but it leaves one wondering what exactly this elaborate
section \emph{does} in Mizar.
\end{remark}

\subsection{Vocabularies, Notations, Constructors}

\N{Vocabularies}\label{par:characteristic:vocabularies}
The {\Tt{}vocabularies\nwendquote} refers to the identifiers defined. As I understand
it, Mizar is actually using the {\Tt{}vocabularies\nwendquote} for the user to add new
tokens to the language. Then Mizar will parse the file and treat
user-defined terms \emph{as} terms. The meaning associated to them will
be spelled out in the other parts of the {\Tt{}environ\nwendquote}.

For example, {\Tt{}Isomorphism\nwendquote} may be found in {\Tt{}RING{\_}3\nwendquote}. If I wanted to
define an {\Tt{}Isomorphism\nwendquote} of groups, then I must use {\Tt{}Isomorphism\nwendquote} as
a token. Thus I would need to add {\Tt{}RING{\_}3\nwendquote} to the vocabularies list.
(Earlier versions of this text made me think this was a good idea, but
it turned out to be a huge distraction.)

Similarly, {\Tt{}MOD{\_}4\nwendquote} introduces the tokens {\Tt{}\nwlinkedidentq{Endomorphism}{NW1Nnu7l-17cKlQ-1}\nwendquote} and
{\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\nwendquote}, which I want to use, so I add them, too.

\nwenddocs{}\nwbegincode{3}\sublabel{NW4bbsBH-3Tf8w1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-3Tf8w1-1}}}\moddef{\code{}char.miz\edoc{} vocabularies~{\nwtagstyle{}\subpageref{NW4bbsBH-3Tf8w1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
vocabularies MOD_4, TMP,
  \LA{}Functions and subset tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-1ATTd1-1}}\RA{},
  \LA{}Group and subgroups tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-5jMsk-1}}\RA{},
  \LA{}Group conjugation and normal subgroups tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-40Iyod-1}}\RA{}

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{4}\nwdocspar

\N{VOC file}
For our article, we will need to define new tokens. They are placed in
{\Tt{}./DICT/CHAR.VOC\nwendquote} (relative to whatever directory we have made our
Mizar workstation). As we introduce new terms, we will check if it
exists already in Mizar by running ``{\Tt{}findvoc\ -w\ "term"\nwendquote}''. If Mizar
is unfamiliar with the term, then nothing will be reported, and we will
have to add it to our {\Tt{}VOC\nwendquote} file. Otherwise, if {\Tt{}term\nwendquote} is introduced
in another article, we add it to our {\Tt{}vocabularies\nwendquote} environ directive.

\M
We need to recognize the tokens found in rudimentary set theory, so we
begin with importing the usual suspects. For {\Tt{}bijective\nwendquote} and {\Tt{}onto\nwendquote},
we need {\Tt{}FUNCT{\_}2\nwendquote}. We will also be proving properties concerning the
cardinality of subgroups, so we load {\Tt{}CARD{\_}1\nwendquote}.

\nwenddocs{}\nwbegincode{5}\sublabel{NW4bbsBH-1ATTd1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1ATTd1-1}}}\moddef{Functions and subset tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-1ATTd1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3Tf8w1-1}}\nwenddeflinemarkup
MSSUBFAM, RELAT_1, TARSKI, FUNCT_1, ZFMISC_1, NUMBERS, WELLORD1,
SUBSET_1, XBOOLE_0, FUNCT_2, CARD_1

\nwused{\\{NW4bbsBH-3Tf8w1-1}}\nwendcode{}\nwbegindocs{6}\nwdocspar

\M
Characteristic subgroups requires recognizing tokens about\dots groups,
and subgroups.

\nwenddocs{}\nwbegincode{7}\sublabel{NW4bbsBH-5jMsk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-5jMsk-1}}}\moddef{Group and subgroups tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-5jMsk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3Tf8w1-1}}\nwenddeflinemarkup
STRUCT_0, GROUP_1, GROUP_2, GROUP_4, GROUP_5, GROUP_6,
BINOP_1, BINOP_2, ALGSTR_0, REALSET1, GRSOLV_1, AUTGROUP

\nwused{\\{NW4bbsBH-3Tf8w1-1}}\nwendcode{}\nwbegindocs{8}\nwdocspar

\M
{\Tt{}NEWTON\nwendquote} defines the token {\Tt{}|{\char94}\nwendquote}, used as infix operator {\Tt{}a\ |{\char94}\ b\nwendquote}
which is Mizar notation for $a^{b}$. Mizar follows group theorist
notation of writing $g^{h} = h^{-1}gh$ for conjugation. Also observe
that {\Tt{}normal\nwendquote} is introduced in {\Tt{}PRE{\_}TOPC\nwendquote}, so we need to include
that, as well.

\nwenddocs{}\nwbegincode{9}\sublabel{NW4bbsBH-40Iyod-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-40Iyod-1}}}\moddef{Group conjugation and normal subgroups tokens~{\nwtagstyle{}\subpageref{NW4bbsBH-40Iyod-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3Tf8w1-1}}\nwenddeflinemarkup
NEWTON, PRE_TOPC, GROUP_3

\nwused{\\{NW4bbsBH-3Tf8w1-1}}\nwendcode{}\nwbegindocs{10}\nwdocspar

\N{Constructors}
But the vocabularies just permits Mizar's parser to \emph{recognize}
terms. For the \emph{meaning} of these terms, we need to import the
\emph{constructors}. But if a constructor uses \emph{another article}'s
constructors, we need to also import that other article as well.

Often we just copy the articles imported for the notations section, but
in my experience it's often a strict subset of the notations. I'm lazy,
so I'll just copy the constructor imports:

\nwenddocs{}\nwbegincode{11}\sublabel{NW4bbsBH-45oKpZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-45oKpZ-1}}}\moddef{\code{}char.miz\edoc{} constructors~{\nwtagstyle{}\subpageref{NW4bbsBH-45oKpZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
constructors \LA{}set theoretic notation for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-MR2Mf-1}}\RA{},
  \LA{}group theoretic notation for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-1zkrZj-1}}\RA{}

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{12}\nwdocspar

\N{Notations}
Now we need to import the functor patterns to ``couple'' the definitions
and notations. Usually this is just the constructor list.

\nwenddocs{}\nwbegincode{13}\sublabel{NW4bbsBH-40mYXi-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-40mYXi-1}}}\moddef{\code{}char.miz\edoc{} notations~{\nwtagstyle{}\subpageref{NW4bbsBH-40mYXi-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
notations \LA{}set theoretic notation for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-MR2Mf-1}}\RA{},
  \LA{}group theoretic notation for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-1zkrZj-1}}\RA{}

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{14}\nwdocspar

\M The basics of Tarski--Grothendieck set theory may be found in
{\Tt{}TARSKI\nwendquote}. Partial functions are introduced in {\Tt{}PARTFUN1\nwendquote}. Binary
operations applied to functions {\Tt{}FUNCOP{\_}1\nwendquote} will be necessary later
on. And fancy functions from sets to sets, like {\Tt{}Permutation\nwendquote}, is
defined in {\Tt{}FUNCT{\_}2\nwendquote}. There are few random odds and ends, like
{\Tt{}NUMBERS\nwendquote} for subsets of complex numbers

\nwenddocs{}\nwbegincode{15}\sublabel{NW4bbsBH-MR2Mf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-MR2Mf-1}}}\moddef{set theoretic notation for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-MR2Mf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-45oKpZ-1}\\{NW4bbsBH-40mYXi-1}}\nwenddeflinemarkup
TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, FUNCT_1,
RELSET_1, PARTFUN1, FUNCT_2, FUNCOP_1, CARD_1, NUMBERS

\nwused{\\{NW4bbsBH-45oKpZ-1}\\{NW4bbsBH-40mYXi-1}}\nwendcode{}\nwbegindocs{16}\nwdocspar

\M
The group theoretic notions are a grab bag of binary operators
({\Tt{}BINOP{\_}1\nwendquote} and {\Tt{}BINOP{\_}2\nwendquote}), prerequisites for algebraic structures
({\Tt{}STRUCT{\_}0\nwendquote} and {\Tt{}ALGSTR{\_}0\nwendquote}), primordial group theoretic articles
({\Tt{}REALSET1\nwendquote}), and the relevant group theory articles.

\nwenddocs{}\nwbegincode{17}\sublabel{NW4bbsBH-1zkrZj-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1zkrZj-1}}}\moddef{group theoretic notation for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW4bbsBH-1zkrZj-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-45oKpZ-1}\\{NW4bbsBH-40mYXi-1}}\nwenddeflinemarkup
BINOP_1, BINOP_2, STRUCT_0, ALGSTR_0, REALSET1, GROUP_1, GROUP_2,
GROUP_3, GROUP_4, GROUP_5, GROUP_6, GRSOLV_1, AUTGROUP

\nwused{\\{NW4bbsBH-45oKpZ-1}\\{NW4bbsBH-40mYXi-1}}\nwendcode{}\nwbegindocs{18}\nwdocspar

\subsection{Registrations, Definitions, Theorems, Schemes}

\N{Registrations}
We often cluster adjectives together with registrations, or have one
adjective imply another automatically (like how a characteristic
Subgroup is always normal). We import these using the registrations
portion of the environment. For our purposes, we may need basic facts
about relations ({\Tt{}RELAT{\_}1\nwendquote}), functions and partial functions ({\Tt{}FUNCT{\_}1\nwendquote},
{\Tt{}PARTFUN1\nwendquote}, {\Tt{}FUNCT{\_}2\nwendquote}), relations between sets ({\Tt{}RELSET{\_}1\nwendquote}).

\nwenddocs{}\nwbegincode{19}\sublabel{NW4bbsBH-PI8yt-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-PI8yt-1}}}\moddef{\code{}char.miz\edoc{} registrations~{\nwtagstyle{}\subpageref{NW4bbsBH-PI8yt-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
registrations \LA{}Register set theoretic clusters~{\nwtagstyle{}\subpageref{NW4bbsBH-1d38DI-1}}\RA{},
  \LA{}Register group theoretic clusters~{\nwtagstyle{}\subpageref{NW4bbsBH-3IQfHr-1}}\RA{}

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{20}\nwdocspar

\M
The clusters we want to use from set theory are defined in the ``same''
scattering of places.

\nwenddocs{}\nwbegincode{21}\sublabel{NW4bbsBH-1d38DI-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1d38DI-1}}}\moddef{Register set theoretic clusters~{\nwtagstyle{}\subpageref{NW4bbsBH-1d38DI-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-PI8yt-1}}\nwenddeflinemarkup
XBOOLE_0, RELAT_1, FUNCT_1, PARTFUN1, RELSET_1, FUNCT_2

\nwused{\\{NW4bbsBH-PI8yt-1}}\nwendcode{}\nwbegindocs{22}\nwdocspar

\M
We also need to register adjectives germane to group theory.

\nwenddocs{}\nwbegincode{23}\sublabel{NW4bbsBH-3IQfHr-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-3IQfHr-1}}}\moddef{Register group theoretic clusters~{\nwtagstyle{}\subpageref{NW4bbsBH-3IQfHr-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-PI8yt-1}}\nwenddeflinemarkup
STRUCT_0, GROUP_1, GROUP_2, GROUP_3, GROUP_6

\nwused{\\{NW4bbsBH-PI8yt-1}}\nwendcode{}\nwbegindocs{24}\nwdocspar

\N{Definitions} When using a definition $f := M$, we need to cite it in
a proof. Specifically, automatically unfolding predicates from specific
articles. If we want this to be automated, we can cite the article in
the {\Tt{}definitions\nwendquote} portion of the {\Tt{}environ\nwendquote}.

\nwenddocs{}\nwbegincode{25}\sublabel{NW4bbsBH-25lITS-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-25lITS-1}}}\moddef{\code{}char.miz\edoc{} definitions~{\nwtagstyle{}\subpageref{NW4bbsBH-25lITS-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
definitions \LA{}Include set theoretic definitions~{\nwtagstyle{}\subpageref{NW4bbsBH-4e7fxs-1}}\RA{},
  \LA{}Include group theoretic definitions~{\nwtagstyle{}\subpageref{NW4bbsBH-40sjrh-1}}\RA{}

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{26}\nwdocspar

\begin{remark}
  Kornilowicz~\cite[see \S{5.1}]{kornilowicz2015definitional} that:
  ``Environment directive {\Tt{}definitions\nwendquote} is used for importing two different kinds of information from the database: definitional expansions used by REASONER and expansions of terms defined by equals used by EQUALIZER.''
\end{remark}

\M Arguably, we want to be using basic predicates concerning subsets
({\Tt{}SUBSET{\_}1\nwendquote}), functions ({\Tt{}FUNCT{\_}1\nwendquote} and {\Tt{}FUNCT{\_}2\nwendquote}), and set theory
({\Tt{}TARSKI\nwendquote}), so let's just add them.

\nwenddocs{}\nwbegincode{27}\sublabel{NW4bbsBH-4e7fxs-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-4e7fxs-1}}}\moddef{Include set theoretic definitions~{\nwtagstyle{}\subpageref{NW4bbsBH-4e7fxs-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-25lITS-1}}\nwenddeflinemarkup
SUBSET_1, FUNCT_1, TARSKI, FUNCT_2

\nwused{\\{NW4bbsBH-25lITS-1}}\nwendcode{}\nwbegindocs{28}\nwdocspar

\M
But we also want to use facts concerning normal subgroups ({\Tt{}GROUP{\_}3\nwendquote})
and the automorphism group $\aut(G)$ ({\Tt{}AUTGROUP\nwendquote}).

\nwenddocs{}\nwbegincode{29}\sublabel{NW4bbsBH-40sjrh-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-40sjrh-1}}}\moddef{Include group theoretic definitions~{\nwtagstyle{}\subpageref{NW4bbsBH-40sjrh-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-25lITS-1}}\nwenddeflinemarkup
GROUP_3, AUTGROUP

\nwused{\\{NW4bbsBH-25lITS-1}}\nwendcode{}\nwbegindocs{30}\nwdocspar

\N{Theorems}
The {\Tt{}vocabularies\nwendquote} allows Mizar's scanner and parser to
\emph{recognize} terms. The {\Tt{}constructors\nwendquote} and {\Tt{}notations\nwendquote} allows us
to use the patterns and constructors for terms. But if we want to cite
theorems and definitions in proofs (i.e., if we want to use the
\emph{results} of previous articles), then we need to add those cited
articles to the {\Tt{}theorems\nwendquote} environment.

\nwenddocs{}\nwbegincode{31}\sublabel{NW4bbsBH-1CXYUa-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1CXYUa-1}}}\moddef{\code{}char.miz\edoc{} theorems~{\nwtagstyle{}\subpageref{NW4bbsBH-1CXYUa-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
theorems
  \LA{}Import set-theoretic theorems~{\nwtagstyle{}\subpageref{NW4bbsBH-2m40FU-1}}\RA{},
  \LA{}Import group-theoretic theorems~{\nwtagstyle{}\subpageref{NW4bbsBH-cTLti-1}}\RA{}

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{32}\nwdocspar

\M We have the usual cast of set theoretic characters.
\nwenddocs{}\nwbegincode{33}\sublabel{NW4bbsBH-2m40FU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-2m40FU-1}}}\moddef{Import set-theoretic theorems~{\nwtagstyle{}\subpageref{NW4bbsBH-2m40FU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-1CXYUa-1}}\nwenddeflinemarkup
TARSKI_0, TARSKI, SUBSET_1, RELSET_1, FUNCT_1, FUNCT_2, ZFMISC_1,
XBOOLE_0, RELAT_1

\nwused{\\{NW4bbsBH-1CXYUa-1}}\nwendcode{}\nwbegindocs{34}\nwdocspar

\M Again, we import the usual group theoretic theorems.
\nwenddocs{}\nwbegincode{35}\sublabel{NW4bbsBH-cTLti-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-cTLti-1}}}\moddef{Import group-theoretic theorems~{\nwtagstyle{}\subpageref{NW4bbsBH-cTLti-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-1CXYUa-1}}\nwenddeflinemarkup
GROUP_1, GROUP_2, GROUP_3, GROUP_5, GROUP_6, REALSET1, STRUCT_0,
GRSOLV_1, AUTGROUP

\nwused{\\{NW4bbsBH-1CXYUa-1}}\nwendcode{}\nwbegindocs{36}\nwdocspar

\N{Schemes}
If we want to cite and use a scheme defined elsewhere, then we need the
article's name cited in the {\Tt{}schemes\nwendquote} portion of the environment.

\nwenddocs{}\nwbegincode{37}\sublabel{NW4bbsBH-21wWTp-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-21wWTp-1}}}\moddef{\code{}char.miz\edoc{} schemes~{\nwtagstyle{}\subpageref{NW4bbsBH-21wWTp-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
schemes BINOP_1, FUNCT_2

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{38}\nwdocspar

\subsection{\dots and the rest}

\N{Equalities}
This seems to be introduced around 2015, the only documentation I could
find was in Kornilowics~\cite{kornilowicz2015definitional}.
Expansions of terms defined by {\Tt{}equals\nwendquote} are imported by a new
{\Tt{}environ\nwendquote} directive {\Tt{}equalities\nwendquote}.

\nwenddocs{}

\nwixlogsorted{c}{{\code{}char.miz\edoc{} article body}{NW18nMBU-2TX9wk-1}{\nwixu{NWoaARJ-2sCaVS-1}\nwixd{NW18nMBU-2TX9wk-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} constructors}{NW4bbsBH-45oKpZ-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-45oKpZ-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} definitions}{NW4bbsBH-25lITS-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-25lITS-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} equalities}{NW4bbsBH-1aojze-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-1aojze-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} expansions}{NW4bbsBH-aWL85-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-aWL85-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} notations}{NW4bbsBH-40mYXi-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-40mYXi-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} registrations}{NW4bbsBH-PI8yt-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-PI8yt-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} requirements}{NW4bbsBH-4BdAzJ-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-4BdAzJ-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} schemes}{NW4bbsBH-21wWTp-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-21wWTp-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} theorems}{NW4bbsBH-1CXYUa-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-1CXYUa-1}}}%
\nwixlogsorted{c}{{\code{}char.miz\edoc{} vocabularies}{NW4bbsBH-3Tf8w1-1}{\nwixu{NW4bbsBH-3ZQoFX-1}\nwixd{NW4bbsBH-3Tf8w1-1}}}%
\nwixlogsorted{c}{{\code{}Id{\_}G\edoc{} is injective}{NW1Nnu7l-17utZy-1}{\nwixu{NW1Nnu7l-37g7e5-1}\nwixd{NW1Nnu7l-17utZy-1}}}%
\nwixlogsorted{c}{{\code{}Id{\_}G\edoc{} is surjective}{NW1Nnu7l-2Qowg2-1}{\nwixu{NW1Nnu7l-37g7e5-1}\nwixd{NW1Nnu7l-2Qowg2-1}}}%
\nwixlogsorted{c}{{Characteristic subgroup results}{NW47t2dy-3N17ED-1}{\nwixu{NW18nMBU-2TX9wk-1}\nwixd{NW47t2dy-3N17ED-1}}}%
\nwixlogsorted{c}{{Corollary: conjugation of given element is an \emph{inner} automorphism}{NW3Mfp8C-47V7KL-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-47V7KL-1}}}%
\nwixlogsorted{c}{{Define $\Id_{G}$}{NW1Nnu7l-27i33n-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-27i33n-1}}}%
\nwixlogsorted{c}{{Define \code{}Automorphism\edoc{}}{NW1Nnu7l-4WeeL5-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-4WeeL5-1}}}%
\nwixlogsorted{c}{{Define \code{}characteristic\edoc{} attribute}{NW47t2dy-49dosn-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-49dosn-1}}}%
\nwixlogsorted{c}{{Define \code{}Endomorphism\edoc{}}{NW1Nnu7l-17cKlQ-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-17cKlQ-1}\nwixd{NW1Nnu7l-17cKlQ-2}}}%
\nwixlogsorted{c}{{Define \code{}inner\edoc{} for Automorphism}{NW3Mfp8C-13QmRM-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-13QmRM-1}}}%
\nwixlogsorted{c}{{DICT/CHAR.VOC}{NW1Nnu7l-4FyAEL-1}{\nwixd{NW1Nnu7l-4FyAEL-1}\nwixd{NW3Mfp8C-4FyAEL-1}}}%
\nwixlogsorted{c}{{DICT/TMP.VOC}{NWoaARJ-9L8EQ-1}{\nwixd{NWoaARJ-9L8EQ-1}}}%
\nwixlogsorted{c}{{Environment for \code{}char.miz\edoc{}}{NW4bbsBH-3ZQoFX-1}{\nwixu{NWoaARJ-2sCaVS-1}\nwixd{NW4bbsBH-3ZQoFX-1}}}%
\nwixlogsorted{c}{{Establish $f^{-1}$ is an Endomorphism}{NW3Mfp8C-lTiQo-1}{\nwixu{NW3Mfp8C-a3qbq-1}\nwixd{NW3Mfp8C-lTiQo-1}}}%
\nwixlogsorted{c}{{Establish $f^{-1}$ is the inverse function of $f$}{NW3Mfp8C-oixct-1}{\nwixu{NW3Mfp8C-a3qbq-1}\nwixd{NW3Mfp8C-oixct-1}}}%
\nwixlogsorted{c}{{Functions and subset tokens}{NW4bbsBH-1ATTd1-1}{\nwixu{NW4bbsBH-3Tf8w1-1}\nwixd{NW4bbsBH-1ATTd1-1}}}%
\nwixlogsorted{c}{{Group and subgroups tokens}{NW4bbsBH-5jMsk-1}{\nwixu{NW4bbsBH-3Tf8w1-1}\nwixd{NW4bbsBH-5jMsk-1}}}%
\nwixlogsorted{c}{{Group conjugation and normal subgroups tokens}{NW4bbsBH-40Iyod-1}{\nwixu{NW4bbsBH-3Tf8w1-1}\nwixd{NW4bbsBH-40Iyod-1}}}%
\nwixlogsorted{c}{{group theoretic notation for \code{}char.miz\edoc{}}{NW4bbsBH-1zkrZj-1}{\nwixu{NW4bbsBH-45oKpZ-1}\nwixu{NW4bbsBH-40mYXi-1}\nwixd{NW4bbsBH-1zkrZj-1}}}%
\nwixlogsorted{c}{{Helper lemmas and registrations for \code{}char.miz\edoc{}}{NW18nMBU-oqDk7-1}{\nwixu{NW18nMBU-2TX9wk-1}\nwixd{NW18nMBU-oqDk7-1}}}%
\nwixlogsorted{c}{{Import group-theoretic theorems}{NW4bbsBH-cTLti-1}{\nwixu{NW4bbsBH-1CXYUa-1}\nwixd{NW4bbsBH-cTLti-1}}}%
\nwixlogsorted{c}{{Import set-theoretic theorems}{NW4bbsBH-2m40FU-1}{\nwixu{NW4bbsBH-1CXYUa-1}\nwixd{NW4bbsBH-2m40FU-1}}}%
\nwixlogsorted{c}{{Include group theoretic definitions}{NW4bbsBH-40sjrh-1}{\nwixu{NW4bbsBH-25lITS-1}\nwixd{NW4bbsBH-40sjrh-1}}}%
\nwixlogsorted{c}{{Include set theoretic definitions}{NW4bbsBH-4e7fxs-1}{\nwixu{NW4bbsBH-25lITS-1}\nwixd{NW4bbsBH-4e7fxs-1}}}%
\nwixlogsorted{c}{{Inner and outer automorphisms}{NW1Nnu7l-32pmQO-1}{\nwixu{NW18nMBU-2TX9wk-1}\nwixd{NW1Nnu7l-32pmQO-1}}}%
\nwixlogsorted{c}{{Lemma: $f\colon X\onto Y\implies f(X)=Y$}{NW18nMBU-3LADMa-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-3LADMa-1}}}%
\nwixlogsorted{c}{{Lemma: $g\in H\subgroup G$ and $K\subgroup G$, then $H\subgroup K\implies g\in K$}{NW18nMBU-7Q5oR-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-7Q5oR-1}}}%
\nwixlogsorted{c}{{Lemma: $H\subgroup G$ and $\trivialSubgroup\subgroup H$ implies $H=\trivialSubgroup$}{NW1Nnu7l-3CeuwY-1}{\nwixd{NW1Nnu7l-3CeuwY-1}\nwixu{NW1Nnu7l-2Beici-1}}}%
\nwixlogsorted{c}{{Lemma: $H\subgroup K\subgroup G_{1}$ and $f\colon G_{1}\to G_{2}$ is a morphism, then $(f|_{K})|_{H}=f|_{H}\colon H\to G_{2}$ is a morphism}{NW18nMBU-EZoEE-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-EZoEE-1}}}%
\nwixlogsorted{c}{{Lemma: A group element in the subgroup is a subgroup element}{NW18nMBU-4DvAms-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-4DvAms-1}}}%
\nwixlogsorted{c}{{Lemma: Elements of \code{}InnAut\ G\edoc{} are automorphisms}{NW3Mfp8C-3eJW7Q-1}{\nwixu{NW3Mfp8C-2gUxot-1}\nwixd{NW3Mfp8C-3eJW7Q-1}}}%
\nwixlogsorted{c}{{Lemma: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have monomorphism $\varphi|_{H}$}{NW1Nnu7l-2Beici-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-2Beici-1}}}%
\nwixlogsorted{c}{{Lemma: if $H\subgroup\trivialGroup$, then $H=\trivialGroup$}{NW47t2dy-1tYS7d-1}{\nwixu{NW47t2dy-HjATr-1}\nwixd{NW47t2dy-1tYS7d-1}}}%
\nwixlogsorted{c}{{Lemma: Morphism is surjective if its image is its codomain}{NW18nMBU-35JO6n-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-35JO6n-1}}}%
\nwixlogsorted{c}{{Lemma: restriction of group morphism acts on elements like the original}{NW18nMBU-3Uc8Un-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-3Uc8Un-1}}}%
\nwixlogsorted{c}{{Lemma: Sandwich Subgroup Equality Theorem}{NW18nMBU-2ftEik-1}{\nwixd{NW18nMBU-2ftEik-1}}}%
\nwixlogsorted{c}{{Lemma: Subgroups invariant under conjugation are normal}{NW18nMBU-3PXqHm-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-3PXqHm-1}}}%
\nwixlogsorted{c}{{Lemma: trivial subgroup is \code{}characteristic\edoc{}}{NW47t2dy-HjATr-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-HjATr-1}}}%
\nwixlogsorted{c}{{Lemma: two group morphisms which coincide on subgroup have the same image}{NW47t2dy-475WvU-1}{\nwixu{NW47t2dy-4WQdGY-1}\nwixd{NW47t2dy-475WvU-1}}}%
\nwixlogsorted{c}{{Outer as antonym of inner}{NW3Mfp8C-RgKDM-1}{\nwixu{NW3Mfp8C-13QmRM-1}\nwixd{NW3Mfp8C-RgKDM-1}}}%
\nwixlogsorted{c}{{Proof $\forall y\in G, y \in H^{a}\implies y\in f(H)$}{NW3Mfp8C-AZduT-1}{\nwixu{NW3Mfp8C-2zspfg-1}\nwixd{NW3Mfp8C-AZduT-1}}}%
\nwixlogsorted{c}{{Proof $\forall y\in G, y\in f(H)\implies y\in H^{a}$}{NW3Mfp8C-1BjobC-1}{\nwixu{NW3Mfp8C-2zspfg-1}\nwixd{NW3Mfp8C-1BjobC-1}}}%
\nwixlogsorted{c}{{Proof $\Id_{G}$ is unique}{NW1Nnu7l-q6iKQ-1}{\nwixu{NW1Nnu7l-27i33n-1}\nwixd{NW1Nnu7l-q6iKQ-1}}}%
\nwixlogsorted{c}{{Proof $\ker(f)\subset\trivialSubgroup$}{NW3Mfp8C-1msO16-1}{\nwixu{NW3Mfp8C-3fLhao-1}\nwixd{NW3Mfp8C-1msO16-1}}}%
\nwixlogsorted{c}{{Proof $\trivialSubgroup\subset\ker(f)$}{NW3Mfp8C-12vITF-1}{\nwixu{NW3Mfp8C-3fLhao-1}\nwixd{NW3Mfp8C-12vITF-1}}}%
\nwixlogsorted{c}{{Proof $f$ is in \code{}InnAut\ G\edoc{} $\implies$ ($f$ is inner automorphism)}{NW3Mfp8C-18aBqf-1}{\nwixu{NW3Mfp8C-2gUxot-1}\nwixd{NW3Mfp8C-18aBqf-1}}}%
\nwixlogsorted{c}{{Proof $f\in\aut(G)\impliedby f$ is \code{}Automorphism\ of\ G\edoc{}}{NW3Mfp8C-21iyLo-1}{\nwixu{NW3Mfp8C-2VuNZX-1}\nwixd{NW3Mfp8C-21iyLo-1}}}%
\nwixlogsorted{c}{{Proof $f\in\aut(G)\implies f$ is \code{}Automorphism\ of\ G\edoc{}}{NW3Mfp8C-wlMQo-1}{\nwixu{NW3Mfp8C-2VuNZX-1}\nwixd{NW3Mfp8C-wlMQo-1}}}%
\nwixlogsorted{c}{{Proof ($f$ is inner automorphism) $\implies$ $f$ is in \code{}InnAut\ G\edoc{}}{NW3Mfp8C-2maG0l-1}{\nwixu{NW3Mfp8C-2gUxot-1}\nwixd{NW3Mfp8C-2maG0l-1}}}%
\nwixlogsorted{c}{{Proof an endomorphism $f^{-1}$ exists}{NW3Mfp8C-a3qbq-1}{\nwixu{NW3Mfp8C-VBRVv-1}\nwixd{NW3Mfp8C-a3qbq-1}}}%
\nwixlogsorted{c}{{Proof by contradiction: fixed by inner automorphisms implies normal}{NW3Mfp8C-3U116k-1}{\nwixu{NW3Mfp8C-4Qqcti-1}\nwixd{NW3Mfp8C-3U116k-1}}}%
\nwixlogsorted{c}{{Proof of existence of an inner Automorphism}{NW3Mfp8C-9idpO-1}{\nwixu{NW3Mfp8C-4IjmGJ-1}\nwixd{NW3Mfp8C-9idpO-1}}}%
\nwixlogsorted{c}{{Proof that $\Id_{G}$ exists}{NW1Nnu7l-2hCvdU-1}{\nwixu{NW1Nnu7l-27i33n-1}\nwixd{NW1Nnu7l-2hCvdU-1}}}%
\nwixlogsorted{c}{{Proof: $\forall a\in G, K^{a}=K$}{NW47t2dy-4CFIX3-1}{\nwixu{NW47t2dy-4WQdGY-1}\nwixd{NW47t2dy-4CFIX3-1}}}%
\nwixlogsorted{c}{{Proof: $\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$}{NW1Nnu7l-1MwKaZ-1}{\nwixu{NW1Nnu7l-2Q8R0t-1}\nwixd{NW1Nnu7l-1MwKaZ-1}}}%
\nwixlogsorted{c}{{Proof: $\forall k\in G$, $k\in K\implies f(k)=g(k)$}{NW47t2dy-5gaS4-1}{\nwixu{NW47t2dy-4CFIX3-1}\nwixd{NW47t2dy-5gaS4-1}\nwixu{NW47t2dy-2ur0LT-1}}}%
\nwixlogsorted{c}{{Proof: $\forall x, x\in X\implies h(x) = f(x)$}{NW18nMBU-1bDmhU-1}{\nwixu{NW18nMBU-l92FA-1}\nwixd{NW18nMBU-1bDmhU-1}}}%
\nwixlogsorted{c}{{Proof: $\forall x,x\in X\implies (f^{-1}\circ f)(x) = \id_{X}(x)$}{NW18nMBU-45FeqA-1}{\nwixu{NW18nMBU-29j2HE-1}\nwixd{NW18nMBU-45FeqA-1}}}%
\nwixlogsorted{c}{{Proof: $\forall y, y\in Y\implies (f\circ f^{-1})(y) = \id_{Y}(y)$}{NW18nMBU-2pd9SK-1}{\nwixu{NW18nMBU-29j2HE-1}\nwixd{NW18nMBU-2pd9SK-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi^{-1}$ is multiplicative}{NW1Nnu7l-pjwkC-1}{\nwixu{NW1Nnu7l-3TdlgM-1}\nwixd{NW1Nnu7l-pjwkC-1}}}%
\nwixlogsorted{c}{{Proof: $\varphi|_{H}$ is surjective}{NW1Nnu7l-41Pxbq-1}{\nwixu{NW1Nnu7l-1QHEJY-1}\nwixd{NW1Nnu7l-41Pxbq-1}}}%
\nwixlogsorted{c}{{Proof: $y\in f(K)\iff y\in g(K)$}{NW47t2dy-1JehLA-1}{\nwixu{NW47t2dy-475WvU-1}\nwixd{NW47t2dy-1JehLA-1}}}%
\nwixlogsorted{c}{{Proof: $y\in f(K)\implies y\in g(K)$}{NW47t2dy-1yCGg9-1}{\nwixu{NW47t2dy-1JehLA-1}\nwixd{NW47t2dy-1yCGg9-1}}}%
\nwixlogsorted{c}{{Proof: $y\in f(X)\implies y\in\mathrm{rng}(f)$}{NW18nMBU-13m7BQ-1}{\nwixu{NW18nMBU-3LADMa-1}\nwixd{NW18nMBU-13m7BQ-1}}}%
\nwixlogsorted{c}{{Proof: $y\in g(K)\implies y\in f(K)$}{NW47t2dy-1aEga6-1}{\nwixu{NW47t2dy-1JehLA-1}\nwixd{NW47t2dy-1aEga6-1}}}%
\nwixlogsorted{c}{{Proof: $y\in\mathrm{rng}(f)\implies y\in f(X)$}{NW18nMBU-43XoCQ-1}{\nwixu{NW18nMBU-3LADMa-1}\nwixd{NW18nMBU-43XoCQ-1}}}%
\nwixlogsorted{c}{{Proof: normal implies fixed by inner automorphisms}{NW3Mfp8C-ZiHjv-1}{\nwixu{NW3Mfp8C-4Qqcti-1}\nwixd{NW3Mfp8C-ZiHjv-1}}}%
\nwixlogsorted{c}{{Register \code{}bijective\edoc{} for \code{}Endomorphism\edoc{}}{NW1Nnu7l-6ndaE-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-6ndaE-1}}}%
\nwixlogsorted{c}{{Register \code{}characteristic\edoc{} as attribute for Subgroup}{NW47t2dy-1HIoHq-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-1HIoHq-1}}}%
\nwixlogsorted{c}{{Register \code{}Id{\_}G\edoc{} is bijective}{NW1Nnu7l-37g7e5-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-37g7e5-1}}}%
\nwixlogsorted{c}{{Register \code{}inner\edoc{} for \code{}Automorphism\edoc{}}{NW3Mfp8C-4IjmGJ-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-4IjmGJ-1}}}%
\nwixlogsorted{c}{{Register \code{}strict\edoc{} \code{}characteristic\edoc{} for Subgroups}{NW47t2dy-2iAFXC-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-2iAFXC-1}}}%
\nwixlogsorted{c}{{Register characteristic subgroups are normal}{NW47t2dy-24pxt5-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-24pxt5-1}}}%
\nwixlogsorted{c}{{Register group theoretic clusters}{NW4bbsBH-3IQfHr-1}{\nwixu{NW4bbsBH-PI8yt-1}\nwixd{NW4bbsBH-3IQfHr-1}}}%
\nwixlogsorted{c}{{Register set theoretic clusters}{NW4bbsBH-1d38DI-1}{\nwixu{NW4bbsBH-PI8yt-1}\nwixd{NW4bbsBH-1d38DI-1}}}%
\nwixlogsorted{c}{{Register: the identity function is surjective and bijective}{NW18nMBU-1ouPZe-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-1ouPZe-1}}}%
\nwixlogsorted{c}{{Reserve symbols for inner and outer automorphisms}{NW1Nnu7l-1LL7AC-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-1LL7AC-1}}}%
\nwixlogsorted{c}{{Results and definition for Inner automorphisms}{NW3Mfp8C-gMHRo-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW3Mfp8C-gMHRo-1}}}%
\nwixlogsorted{c}{{set theoretic notation for \code{}char.miz\edoc{}}{NW4bbsBH-MR2Mf-1}{\nwixu{NW4bbsBH-45oKpZ-1}\nwixu{NW4bbsBH-40mYXi-1}\nwixd{NW4bbsBH-MR2Mf-1}}}%
\nwixlogsorted{c}{{Sub-proof: characteristic subgroups invariant under conjugation}{NW47t2dy-2mkOw1-1}{\nwixu{NW47t2dy-xos9m-1}\nwixd{NW47t2dy-2mkOw1-1}}}%
\nwixlogsorted{c}{{TEXT/char.miz}{NWoaARJ-2sCaVS-1}{\nwixd{NWoaARJ-2sCaVS-1}}}%
\nwixlogsorted{c}{{Theorem: $\varphi\in\Aut(G)$ and $H\subgroup G$ such that $\varphi(H)=H$ implies $\varphi|H\in\Aut(H)$}{NW1Nnu7l-1QHEJY-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-1QHEJY-1}}}%
\nwixlogsorted{c}{{Theorem: $f$ in \code{}InnAut\ G\edoc{} iff $f$ is \code{}inner\ Automorphism\ of\ G\edoc{}}{NW3Mfp8C-2gUxot-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-2gUxot-1}}}%
\nwixlogsorted{c}{{Theorem: $Z(G)$ is characteristic subgroup}{NW47t2dy-g56Nl-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-g56Nl-1}}}%
\nwixlogsorted{c}{{Theorem: \code{}Id{\_}G\edoc{} is effectively inner}{NW3Mfp8C-ATJLl-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-ATJLl-1}}}%
\nwixlogsorted{c}{{Theorem: \code{}Id{\_}G\edoc{} is the same as \code{}id\ the\ carrier\ of\ G\edoc{}}{NW1Nnu7l-4SFZrK-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-4SFZrK-1}}}%
\nwixlogsorted{c}{{Theorem: Automorphisms map trivial subgroups to themselves}{NW1Nnu7l-49bqr6-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-49bqr6-1}}}%
\nwixlogsorted{c}{{Theorem: bijections have inverses}{NW18nMBU-29j2HE-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-29j2HE-1}}}%
\nwixlogsorted{c}{{Theorem: characteristic subgroup of a normal subgroup is normal}{NW47t2dy-4WQdGY-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-4WQdGY-1}}}%
\nwixlogsorted{c}{{Theorem: characteristic subgroups are normal}{NW47t2dy-xos9m-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-xos9m-1}}}%
\nwixlogsorted{c}{{Theorem: Conjugation by fixed element is an automorphism}{NW3Mfp8C-VBRVv-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-VBRVv-1}}}%
\nwixlogsorted{c}{{Theorem: constructing inner automorphisms from group elements}{NW3Mfp8C-arh13-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-arh13-1}}}%
\nwixlogsorted{c}{{Theorem: Endomorphisms preserve the trivial subgroup}{NW1Nnu7l-3pJfHu-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-3pJfHu-1}}}%
\nwixlogsorted{c}{{Theorem: Existence of characteristic subgroups}{NW47t2dy-3KEBxf-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-3KEBxf-1}}}%
\nwixlogsorted{c}{{Theorem: for $\varphi\in\Aut(G)$ and $H\subgroup G$, we have $\ker(\varphi|H)\subgroup\ker(\varphi)$}{NW1Nnu7l-2Q8R0t-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-2Q8R0t-1}}}%
\nwixlogsorted{c}{{Theorem: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have $H\iso\varphi(H)$}{NW1Nnu7l-3WScXE-1}{\nwixu{NW1Nnu7l-32pmQO-1}\nwixd{NW1Nnu7l-3WScXE-1}}}%
\nwixlogsorted{c}{{Theorem: if $\varphi\in\Aut(G)$, then $\varphi^{-1}\in\Aut(G)$}{NW1Nnu7l-3TdlgM-1}{\nwixd{NW1Nnu7l-3TdlgM-1}}}%
\nwixlogsorted{c}{{Theorem: if $f$ is bijective, then $(f^{-1})^{-1}=f$}{NW18nMBU-l92FA-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-l92FA-1}}}%
\nwixlogsorted{c}{{Theorem: if $f\colon X\to Y$ is bijective, then $f\circ f^{-1}=\id_{Y}$}{NW18nMBU-1Brdpy-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-1Brdpy-1}}}%
\nwixlogsorted{c}{{Theorem: if $f\colon X\to Y$ is bijective, then there exists an inverse function and $f^{-1}\colon Y\to X$ is bijective}{NW18nMBU-swt6L-1}{\nwixu{NW18nMBU-oqDk7-1}\nwixd{NW18nMBU-swt6L-1}}}%
\nwixlogsorted{c}{{Theorem: inner automorphism acting on subgroup is conjugate of argument}{NW3Mfp8C-2zspfg-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-2zspfg-1}}}%
\nwixlogsorted{c}{{Theorem: inner Automorphisms fix only normal Subgroups}{NW3Mfp8C-4Qqcti-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-4Qqcti-1}}}%
\nwixlogsorted{c}{{Theorem: Kernel of conjugation as endomorphism}{NW3Mfp8C-3fLhao-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-3fLhao-1}}}%
\nwixlogsorted{c}{{Theorem: Relate \code{}Automorphism\ of\ G\edoc{} to elements of \code{}Aut\ G\edoc{}}{NW3Mfp8C-2VuNZX-1}{\nwixu{NW3Mfp8C-gMHRo-1}\nwixd{NW3Mfp8C-2VuNZX-1}}}%
\nwixlogsorted{c}{{Theorem: transitivity of characteristic subgroups}{NW47t2dy-2ur0LT-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-2ur0LT-1}}}%
\nwixlogsorted{c}{{Theorem: unique subgroup of order $n$ is \code{}characteristic\edoc{}}{NW47t2dy-3r3l0M-1}{\nwixu{NW47t2dy-3N17ED-1}\nwixd{NW47t2dy-3r3l0M-1}}}%
\nwixlogsorted{i}{{\nwixident{Automorphism}}{Automorphism}}%
\nwixlogsorted{i}{{\nwixident{characteristic}}{characteristic}}%
\nwixlogsorted{i}{{\nwixident{Def3}}{Def3}}%
\nwixlogsorted{i}{{\nwixident{Def5}}{Def5}}%
\nwixlogsorted{i}{{\nwixident{Def9}}{Def9}}%
\nwixlogsorted{i}{{\nwixident{Endomorphism}}{Endomorphism}}%
\nwixlogsorted{i}{{\nwixident{Id{\_}}}{Id:un}}%
\nwixlogsorted{i}{{\nwixident{Id{\_}G}}{Id:unG}}%
\nwixlogsorted{i}{{\nwixident{inner}}{inner}}%
\nwixlogsorted{i}{{\nwixident{Lm1}}{Lm1}}%
\nwixlogsorted{i}{{\nwixident{Lm10}}{Lm10}}%
\nwixlogsorted{i}{{\nwixident{Lm11}}{Lm11}}%
\nwixlogsorted{i}{{\nwixident{Lm12}}{Lm12}}%
\nwixlogsorted{i}{{\nwixident{Lm13}}{Lm13}}%
\nwixlogsorted{i}{{\nwixident{Lm2}}{Lm2}}%
\nwixlogsorted{i}{{\nwixident{Lm3}}{Lm3}}%
\nwixlogsorted{i}{{\nwixident{Lm4}}{Lm4}}%
\nwixlogsorted{i}{{\nwixident{Lm5}}{Lm5}}%
\nwixlogsorted{i}{{\nwixident{Lm6}}{Lm6}}%
\nwixlogsorted{i}{{\nwixident{Lm8}}{Lm8}}%
\nwixlogsorted{i}{{\nwixident{Lm9}}{Lm9}}%
\nwixlogsorted{i}{{\nwixident{LmEpi}}{LmEpi}}%
\nwixlogsorted{i}{{\nwixident{LmNormalSubgroup}}{LmNormalSubgroup}}%
\nwixlogsorted{i}{{\nwixident{LmOntoMapsEverything}}{LmOntoMapsEverything}}%
\nwixlogsorted{i}{{\nwixident{LmRestrictCollapse}}{LmRestrictCollapse}}%
\nwixlogsorted{i}{{\nwixident{LmSandwich}}{LmSandwich}}%
\nwixlogsorted{i}{{\nwixident{LmSubgroupElt}}{LmSubgroupElt}}%
\nwixlogsorted{i}{{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}}%
\nwixlogsorted{i}{{\nwixident{outer}}{outer}}%
\nwixlogsorted{i}{{\nwixident{Th1}}{Th1}}%
\nwixlogsorted{i}{{\nwixident{Th10}}{Th10}}%
\nwixlogsorted{i}{{\nwixident{Th11}}{Th11}}%
\nwixlogsorted{i}{{\nwixident{Th12}}{Th12}}%
\nwixlogsorted{i}{{\nwixident{Th13}}{Th13}}%
\nwixlogsorted{i}{{\nwixident{Th14}}{Th14}}%
\nwixlogsorted{i}{{\nwixident{Th15}}{Th15}}%
\nwixlogsorted{i}{{\nwixident{Th16}}{Th16}}%
\nwixlogsorted{i}{{\nwixident{Th17}}{Th17}}%
\nwixlogsorted{i}{{\nwixident{Th18}}{Th18}}%
\nwixlogsorted{i}{{\nwixident{Th19}}{Th19}}%
\nwixlogsorted{i}{{\nwixident{Th2}}{Th2}}%
\nwixlogsorted{i}{{\nwixident{Th20}}{Th20}}%
\nwixlogsorted{i}{{\nwixident{Th21}}{Th21}}%
\nwixlogsorted{i}{{\nwixident{Th22}}{Th22}}%
\nwixlogsorted{i}{{\nwixident{Th23}}{Th23}}%
\nwixlogsorted{i}{{\nwixident{Th24}}{Th24}}%
\nwixlogsorted{i}{{\nwixident{Th25}}{Th25}}%
\nwixlogsorted{i}{{\nwixident{Th26}}{Th26}}%
\nwixlogsorted{i}{{\nwixident{Th27}}{Th27}}%
\nwixlogsorted{i}{{\nwixident{Th3}}{Th3}}%
\nwixlogsorted{i}{{\nwixident{Th8}}{Th8}}%
\nwixlogsorted{i}{{\nwixident{Th9}}{Th9}}%
\nwbegincode{39}\sublabel{NW4bbsBH-1aojze-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-1aojze-1}}}\moddef{\code{}char.miz\edoc{} equalities~{\nwtagstyle{}\subpageref{NW4bbsBH-1aojze-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
equalities BINOP_1, REALSET1, GROUP_2, GROUP_3, ALGSTR_0

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{40}\nwdocspar

\N{Expansions}
Import expansions of predicates and adjectives from the specified
articles.

\nwenddocs{}\nwbegincode{41}\sublabel{NW4bbsBH-aWL85-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-aWL85-1}}}\moddef{\code{}char.miz\edoc{} expansions~{\nwtagstyle{}\subpageref{NW4bbsBH-aWL85-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
expansions BINOP_1, FUNCT_2

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{42}\nwdocspar

\N{Requirements} Within mathematics, there's a lot of implicit
knowledge. Mizar automates some of that with {\Tt{}requirements\nwendquote}
inclusions. For example, if we want to show {\Tt{}x\ in\ X\nwendquote}
(Mizar for the primitive binary predicate $x\in X$) implies
the typing relation {\Tt{}x\ is\ Element\ of\ X\nwendquote}, well, that's ``obvious'' to
us humans, and we can make it obvious to Mizar as well using the proper
requirements.

\begin{remark}
As I understand it (from Wiedijk's excellent ``Writing a Mizar Article
in 9 easy steps''), the only possibilities for the {\Tt{}requirements\nwendquote} are:
{\Tt{}BOOLE\nwendquote}, {\Tt{}SUBSET\nwendquote}, {\Tt{}NUMERALS\nwendquote}, {\Tt{}ARITHM\nwendquote}, {\Tt{}REAL\nwendquote}.
\end{remark}

\nwenddocs{}\nwbegincode{43}\sublabel{NW4bbsBH-4BdAzJ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW4bbsBH-4BdAzJ-1}}}\moddef{\code{}char.miz\edoc{} requirements~{\nwtagstyle{}\subpageref{NW4bbsBH-4BdAzJ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW4bbsBH-3ZQoFX-1}}\nwenddeflinemarkup
requirements BOOLE, SUBSET

\nwused{\\{NW4bbsBH-3ZQoFX-1}}\nwendcode{}\nwbegindocs{44}\nwdocspar
\nwenddocs{}\nwfilename{nw/characteristic/preparatory.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
% This is placed here so the LaTeX is organized correctly, thanks to
% problems with noweb :(
\section{Article Body}\label{sec:characteristic:preparatory:start}

\M
The article body is where the magic happens. Now we can start making
definitions, stating theorems, proving results. The basic structure of
our article can be cleaved in two: first we state and prove ``helper
lemmas'', which probably belong somewhere else, but currently are not
located anywhere in the Mizar library. The second half are our results
concerning characteristic subgroups.

Just to give some idea of what we're doing, we will have to define a
notion of {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\nwendquote}. We will also have to prove a number of
results concerning {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\nwendquote}s. After all, a characteristic
subgroup is one which is left invariant under any automorphism of its
parent group.

Once that has been squared away, we will define a notion of a
{\Tt{}\nwlinkedidentq{characteristic}{NW47t2dy-49dosn-1}\nwendquote} subgroup. Then we will prove results right away.

\nwenddocs{}\nwbegincode{1}\sublabel{NW18nMBU-2TX9wk-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-2TX9wk-1}}}\moddef{\code{}char.miz\edoc{} article body~{\nwtagstyle{}\subpageref{NW18nMBU-2TX9wk-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NWoaARJ-2sCaVS-1}}\nwenddeflinemarkup
\LA{}Helper lemmas and registrations for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW18nMBU-oqDk7-1}}\RA{}

\LA{}Inner and outer automorphisms~{\nwtagstyle{}\subpageref{NW1Nnu7l-32pmQO-1}}\RA{}
\LA{}Characteristic subgroup results~{\nwtagstyle{}\subpageref{NW47t2dy-3N17ED-1}}\RA{}

\nwused{\\{NWoaARJ-2sCaVS-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\subsection{Preparatory results}

\N{Helper lemmas}
There are a lot of recurring patterns which can be isolated into helper
functions---err, lemmas. I'm sure many (if not all) are already present
somewhere in the Mizar Mathematical Library, but I couldn't find them. I
am placing them within their own ``section'', because if I ever submit
the result to the Mizar Mathematical Library, they will either be
removed (and relocated to the relevant articles) or the editors will
know what I should have done instead.

\nwenddocs{}\nwbegincode{3}\sublabel{NW18nMBU-oqDk7-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-oqDk7-1}}}\moddef{Helper lemmas and registrations for \code{}char.miz\edoc{}~{\nwtagstyle{}\subpageref{NW18nMBU-oqDk7-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2TX9wk-1}}\nwenddeflinemarkup
begin :: preparatory work
reserve X for set;

\LA{}Lemma: $f\colon X\onto Y\implies f(X)=Y$~{\nwtagstyle{}\subpageref{NW18nMBU-3LADMa-1}}\RA{}
\LA{}Register: the identity function is surjective and bijective~{\nwtagstyle{}\subpageref{NW18nMBU-1ouPZe-1}}\RA{}
\LA{}Lemma: A group element in the subgroup is a subgroup element~{\nwtagstyle{}\subpageref{NW18nMBU-4DvAms-1}}\RA{}
\LA{}Lemma: $g\in H\subgroup G$ and $K\subgroup G$, then $H\subgroup K\implies g\in K$~{\nwtagstyle{}\subpageref{NW18nMBU-7Q5oR-1}}\RA{}
\LA{}Lemma: restriction of group morphism acts on elements like the original~{\nwtagstyle{}\subpageref{NW18nMBU-3Uc8Un-1}}\RA{}
\LA{}Lemma: Subgroups invariant under conjugation are normal~{\nwtagstyle{}\subpageref{NW18nMBU-3PXqHm-1}}\RA{}
\LA{}Lemma: Morphism is surjective if its image is its codomain~{\nwtagstyle{}\subpageref{NW18nMBU-35JO6n-1}}\RA{}
\LA{}Lemma: $H\subgroup K\subgroup G_{1}$ and $f\colon G_{1}\to G_{2}$ is a morphism, then $(f|_{K})|_{H}=f|_{H}\colon H\to G_{2}$ is a morphism~{\nwtagstyle{}\subpageref{NW18nMBU-EZoEE-1}}\RA{}
\LA{}Theorem: if $f$ is bijective, then $(f^{-1})^{-1}=f$~{\nwtagstyle{}\subpageref{NW18nMBU-l92FA-1}}\RA{}
\LA{}Theorem: if $f\colon X\to Y$ is bijective, then $f\circ f^{-1}=\id_{Y}$~{\nwtagstyle{}\subpageref{NW18nMBU-1Brdpy-1}}\RA{}
\LA{}Theorem: bijections have inverses~{\nwtagstyle{}\subpageref{NW18nMBU-29j2HE-1}}\RA{}
\LA{}Theorem: if $f\colon X\to Y$ is bijective, then there exists an inverse function and $f^{-1}\colon Y\to X$ is bijective~{\nwtagstyle{}\subpageref{NW18nMBU-swt6L-1}}\RA{}

\nwused{\\{NW18nMBU-2TX9wk-1}}\nwendcode{}\nwbegindocs{4}\nwdocspar

\M
We need to prove, if $f\colon X\onto Y$ is a surjective function of
sets, then $f(X)=Y$.

\begin{remark}[Mizar notation \texttt{f.:A} and \texttt{f.x}]\index{\texttt{f.:A}!Mizar for $f(A)$}\index{\texttt{f.x}!Mizar for $f(x)$}
We should caution Mizar's notation for writing something like, if
$f\colon X\to Y$ is a function of sets and $A\subset X$, then
$f(A)=\{f(a)\in Y|a\in A\}$ is denoted as {\Tt{}f.:A\nwendquote} instead of $f(A)$,
and {\Tt{}f.a\nwendquote} instead of $f(a)$. This is because $f$ is a set theoretic
function, a collection of ``(input, output)'' ordered pairs. Mizar
distinguishes $f(x)$ as function application from ``functors'' (i.e.,
parametrized terms) by using $f(x)=\mathtt{f.x}$ for mathematical functions.
\end{remark}

\nwenddocs{}\nwbegincode{5}\sublabel{NW18nMBU-3LADMa-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-3LADMa-1}}}\moddef{Lemma: $f\colon X\onto Y\implies f(X)=Y$~{\nwtagstyle{}\subpageref{NW18nMBU-3LADMa-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{LmOntoMapsEverything}{NW18nMBU-3LADMa-1}:
for X,Y being non empty set
for f being Function of X,Y
st f is onto
holds f .: X = Y
proof
  let X,Y be non empty set;
  let f be Function of X,Y;
  assume f is onto;
  then A1: rng f = Y;
  A2: dom f = X by FUNCT_2:def 1;
  then A3: for y being object
  holds y in rng f iff ex x being object st x in X & y = f.x
  by FUNCT_1:def 3;
  A4: for y being object holds y in (f .: X) iff
  ex x being object st x in X & x in X & y = f.x
  by A2,FUNCT_1:def 6;

  C1: for y being object holds y in (f .: X) implies y in rng f
  \LA{}Proof: $y\in f(X)\implies y\in\mathrm{rng}(f)$~{\nwtagstyle{}\subpageref{NW18nMBU-13m7BQ-1}}\RA{}

  C2: for y being object holds y in rng f implies y in (f .: X)
  \LA{}Proof: $y\in\mathrm{rng}(f)\implies y\in f(X)$~{\nwtagstyle{}\subpageref{NW18nMBU-43XoCQ-1}}\RA{}
  for y being object holds y in rng f iff y in (f .: X) by C1,C2;
  then rng f = f .: X by TARSKI:2;
  hence f .: X = Y by A1;
end;

\nwindexdefn{\nwixident{LmOntoMapsEverything}}{LmOntoMapsEverything}{NW18nMBU-3LADMa-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{LmOntoMapsEverything}}{LmOntoMapsEverything}}}\nwendcode{}\nwbegindocs{6}\nwdocspar
\nwenddocs{}\nwbegincode{7}\sublabel{NW18nMBU-13m7BQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-13m7BQ-1}}}\moddef{Proof: $y\in f(X)\implies y\in\mathrm{rng}(f)$~{\nwtagstyle{}\subpageref{NW18nMBU-13m7BQ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-3LADMa-1}}\nwenddeflinemarkup
proof
  let y be object;
  assume y in (f .: X);
  then consider x being object such that
  B1: x in X and x in X and B2: y = f.x
  by A4;
  thus y in rng f by A3,B1,B2;
end;

\nwused{\\{NW18nMBU-3LADMa-1}}\nwendcode{}\nwbegindocs{8}\nwdocspar

\nwenddocs{}\nwbegincode{9}\sublabel{NW18nMBU-43XoCQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-43XoCQ-1}}}\moddef{Proof: $y\in\mathrm{rng}(f)\implies y\in f(X)$~{\nwtagstyle{}\subpageref{NW18nMBU-43XoCQ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-3LADMa-1}}\nwenddeflinemarkup
proof
  let y be object;
  assume y in rng f;
  then consider x being object such that
  B1: x in X and B2: y = f.x
  by A3;
  thus y in (f .: X) by A4,B1,B2;
end;

\nwused{\\{NW18nMBU-3LADMa-1}}\nwendcode{}\nwbegindocs{10}\nwdocspar

\M
We begin by registering the identity function as being surjective and
bijective. This should have been done in {\Tt{}FUNCT{\_}2\nwendquote}, but hey, what can
you do?

\nwenddocs{}\nwbegincode{11}\sublabel{NW18nMBU-1ouPZe-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1ouPZe-1}}}\moddef{Register: the identity function is surjective and bijective~{\nwtagstyle{}\subpageref{NW18nMBU-1ouPZe-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
registration
  let X;
  cluster id X -> onto;
  coherence;
end;

registration
  let X;
  cluster id X -> bijective;
  coherence;
end;

\nwused{\\{NW18nMBU-oqDk7-1}}\nwendcode{}\nwbegindocs{12}\nwdocspar

\M
We also need to prove that, if we have a subgroup $H\subgroup G$ and
$h\in G$ is an arbitrary element of the underlying set, then $h\in H$
implies the typing judgement ``{\Tt{}h\ is\ Element\ of\ H\nwendquote}''.

\begin{remark}\index{\texttt{h in H}!Mizar for $h\in H$}
Mizar writes ``{\Tt{}h\ in\ H\nwendquote}'' instead of ``$h\in H$''. The statement
``{\Tt{}h\ is\ Element\ of\ H\nwendquote}'' is a typing declaration roughly analogous to
``$h{:}H$''; strictly speaking, it's a predicate in the object language,
not a judgement in the metalanguage.
\end{remark}

\nwenddocs{}\nwbegincode{13}\sublabel{NW18nMBU-4DvAms-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-4DvAms-1}}}\moddef{Lemma: A group element in the subgroup is a subgroup element~{\nwtagstyle{}\subpageref{NW18nMBU-4DvAms-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{LmSubgroupElt}{NW18nMBU-4DvAms-1}:
for G being Group
for H being Subgroup of G
for h being Element of G st h in H holds h is Element of H
proof
  let G be Group,
      H be Subgroup of G,
      h be Element of G;
  assume h in H;
  then h is Element of the carrier of H by STRUCT_0:def 5;
  then h is Element of H;
  hence thesis;
end;

\nwindexdefn{\nwixident{LmSubgroupElt}}{LmSubgroupElt}{NW18nMBU-4DvAms-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{LmSubgroupElt}}{LmSubgroupElt}}}\nwendcode{}\nwbegindocs{14}\nwdocspar
\begin{lemma}
  Let $G$ be a group and $g\in G$ be any element of the group,
  $H_{1}\subgroup G$ and $H_{2}\subgroup G$ be subgroups.
  If $H_{1}\subgroup H_{2}$ and $g\in H_{1}$, then $g\in H_{2}$.
\end{lemma}

This is another ``Well, duh'' lemma that I couldn't find in Mizar's library.

\nwenddocs{}\nwbegincode{15}\sublabel{NW18nMBU-7Q5oR-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-7Q5oR-1}}}\moddef{Lemma: $g\in H\subgroup G$ and $K\subgroup G$, then $H\subgroup K\implies g\in K$~{\nwtagstyle{}\subpageref{NW18nMBU-7Q5oR-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{LmSubgroupEltTrans}{NW18nMBU-7Q5oR-1}:
  for G being Group
  for H1,H2 being Subgroup of G
  for g being Element of G
  st g in H1 & H1 is Subgroup of H2
  holds g in H2
proof
  let G be Group;
  let H1,H2 be Subgroup of G;
  let g be Element of G;
  assume A1: g in H1 & H1 is Subgroup of H2;
  then g is Element of H1 by \nwlinkedidentc{LmSubgroupElt}{NW18nMBU-4DvAms-1};
  then g in H2 by A1, GROUP_2:40;
  hence thesis;
end;

\nwindexdefn{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}{NW18nMBU-7Q5oR-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}}}\nwidentuses{\\{{\nwixident{LmSubgroupElt}}{LmSubgroupElt}}}\nwindexuse{\nwixident{LmSubgroupElt}}{LmSubgroupElt}{NW18nMBU-7Q5oR-1}\nwendcode{}\nwbegindocs{16}\nwdocspar
\N{Restriction of Group Morphisms to Subgroups}
Mizar proves that, if $f\colon X\to Y$ is a set theoretic function and
$A\subset X$ is an arbitrary subset, then $\forall a\in X$ we have
$a\in A\implies f|_{A}(a)=f(a)$. But this doesn't generalize to
morphisms, sadly, because a group is like a chocolate-covered set.

So we just prove for any pair of groups $G_{1}$ and $G_{2}$,
for any subgroup $H\subgroup G_{1}$,
for any group morphism $f\colon G_{1}\to G_{2}$, and for arbitrary $h\in G_{1}$,
we have $h\in H\implies f|_{H}(h) = f(h)$. The reasoning is that we can
always look at the set-theoretic function $U(f)$ underlying $f$, then
piggie-back off earlier results establishing the desired claim
(Theorem~49 of {\Tt{}FUNCT{\_}1\nwendquote}, to be precise).

\nwenddocs{}\nwbegincode{17}\sublabel{NW18nMBU-3Uc8Un-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-3Uc8Un-1}}}\moddef{Lemma: restriction of group morphism acts on elements like the original~{\nwtagstyle{}\subpageref{NW18nMBU-3Uc8Un-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1}: for G1,G2 being Group
for H being Subgroup of G1
for f being Homomorphism of G1,G2
for h being Element of G1
st h in H
holds (f|H).h = f.h
proof
  let G1,G2 be Group;
  let H be Subgroup of G1;
  let f be Homomorphism of G1,G2;
  let h be Element of G1;
  assume h in H;
  then h is Element of H by \nwlinkedidentc{LmSubgroupElt}{NW18nMBU-4DvAms-1};
  then (f|(the carrier of H)).h = f.h by FUNCT_1:49;
  then (f|H).h = f.h by GRSOLV_1:def 2;
  hence thesis;
end;

\nwindexdefn{\nwixident{Lm3}}{Lm3}{NW18nMBU-3Uc8Un-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Lm3}}{Lm3}}}\nwidentuses{\\{{\nwixident{LmSubgroupElt}}{LmSubgroupElt}}}\nwindexuse{\nwixident{LmSubgroupElt}}{LmSubgroupElt}{NW18nMBU-3Uc8Un-1}\nwendcode{}\nwbegindocs{18}\nwdocspar
\M
Let $H_{1}\subgroup G$ and $H_{2}\subgroup G$.
If $H_{1}\subgroup H_{2}$ and $H_{2}\subgroup H_{1}$, then
$H_{1}=H_{2}$. Pretty simple, right? \dots I'm not sure I'll need this,
but here it is if I do.

\nwenddocs{}\nwbegincode{19}\sublabel{NW18nMBU-2ftEik-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-2ftEik-1}}}\moddef{Lemma: Sandwich Subgroup Equality Theorem~{\nwtagstyle{}\subpageref{NW18nMBU-2ftEik-1}}}\endmoddef\nwstartdeflinemarkup\nwenddeflinemarkup
\nwlinkedidentc{LmSandwich}{NW18nMBU-2ftEik-1}: for H1 being strict Subgroup of G
for H2 being strict Subgroup of G
st (H1 is Subgroup of H2) & (H2 is Subgroup of H1)
holds H1 = H2
proof
  let H1 be strict Subgroup of G;
  let H2 be strict Subgroup of G;
  assume H1 is Subgroup of H2 & H2 is Subgroup of H1;
  then the multMagma of H1 = the multMagma of H2 by GROUP_2:55;
  hence thesis;
end;

\nwindexdefn{\nwixident{LmSandwich}}{LmSandwich}{NW18nMBU-2ftEik-1}\eatline
\nwnotused{Lemma: Sandwich Subgroup Equality Theorem}\nwidentdefs{\\{{\nwixident{LmSandwich}}{LmSandwich}}}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{remark}[On ``strict'' mathematical gadgets]\index{strict@\texttt{strict}|textbf}
Mizar has a notion of a ``{\Tt{}strict\nwendquote}'' attribute. What does it mean?
Well, sometimes a mathematical gadget is ``composite''; like a vector
space over a field is an Abelian group with vector addition, but it also
has other stuff (like scalar multiplication). This ``other stuff''
prevents it from being a ``bald-faced Abelian group''. Just as black
holes have no hair, strict groups have no hair: it's just a
{\Tt{}multMagma\nwendquote} satisfying the group properties (in Mizar, at least).
\end{remark}

\M Let $H\subgroup G$ be such that $\forall a\in G, a^{-1}Ha=H$.
Then $H\normalSubgroup G$ is a normal subgroup. The current theorems in
{\Tt{}GROUP{\_}3\nwendquote} require $H$ to be a \emph{strict} subgroup, but this
strictness condition is not necessary.

\nwenddocs{}\nwbegincode{21}\sublabel{NW18nMBU-3PXqHm-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-3PXqHm-1}}}\moddef{Lemma: Subgroups invariant under conjugation are normal~{\nwtagstyle{}\subpageref{NW18nMBU-3PXqHm-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{LmNormalSubgroup}{NW18nMBU-3PXqHm-1}:
for G being Group
for H being Subgroup of G
st (for a being Element of G holds H |^ a = H)
holds H is normal Subgroup of G
proof
  let G be Group;
  let H be Subgroup of G;
  assume for a being Element of G holds H |^ a = H;
  then for a being Element of G holds the carrier of H |^ a = the carrier of H;
  then for a being Element of G holds the multMagma of H = H |^ a by GROUP_2:59;
  hence H is normal Subgroup of G by GROUP_3:def 13;
end;

\nwindexdefn{\nwixident{LmNormalSubgroup}}{LmNormalSubgroup}{NW18nMBU-3PXqHm-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{LmNormalSubgroup}}{LmNormalSubgroup}}}\nwendcode{}\nwbegindocs{22}\nwdocspar
\begin{theorem}
  Let $\varphi\colon G_{1}\to G_{2}$ be a group morphism.
  If $\varphi(G_{1})=G_{2}$, then $\varphi$ is surjective.
\end{theorem}

Mizar has this lemma in its library, but it has a more stringent
requirement that $G_{2}$ be a {\Tt{}strict\ Group\nwendquote}, which is totally unnecessary.

\nwenddocs{}\nwbegincode{23}\sublabel{NW18nMBU-35JO6n-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-35JO6n-1}}}\moddef{Lemma: Morphism is surjective if its image is its codomain~{\nwtagstyle{}\subpageref{NW18nMBU-35JO6n-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{LmEpi}{NW18nMBU-35JO6n-1}:
  for G1,G2 being Group
  for f being Homomorphism of G1,G2
  st Image(f) = G2
  holds f is onto
proof
  let G1,G2 be Group;
  let f be Homomorphism of G1,G2;
  assume A1: Image(f) = G2;
  then rng f = the carrier of Image f by GROUP_6:44
            .= the carrier of G2 by A1;
  then f is onto by FUNCT_2:def 3;
  hence thesis;
end;

\nwindexdefn{\nwixident{LmEpi}}{LmEpi}{NW18nMBU-35JO6n-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{LmEpi}}{LmEpi}}}\nwendcode{}\nwbegindocs{24}\nwdocspar
\begin{lemma}
Let $G_{1}$ and $G_{2}$ be groups, $K\subgroup G_{1}$ and $H\subgroup K$
be subgroups. If $f\colon G_{1}\to G_{2}$ is a group morphism, then
$(f|_{K})|_{H}=f|_{H}\colon H\to G_{2}$ is a group morphism.
\end{lemma}

Something like this was proven in {\Tt{}FUNCT{\_}1:50\nwendquote}, but I couldn't apply
that theorem (not even to functions of sets).

\nwenddocs{}\nwbegincode{25}\sublabel{NW18nMBU-EZoEE-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-EZoEE-1}}}\moddef{Lemma: $H\subgroup K\subgroup G_{1}$ and $f\colon G_{1}\to G_{2}$ is a morphism, then $(f|_{K})|_{H}=f|_{H}\colon H\to G_{2}$ is a morphism~{\nwtagstyle{}\subpageref{NW18nMBU-EZoEE-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{LmRestrictCollapse}{NW18nMBU-EZoEE-1}:
for G,G2 being Group
for N being Subgroup of G
for H being Subgroup of N
for f being Homomorphism of G,G2
holds (f|N)|H = f|H
proof
  let G,G2 be Group;
  let N be Subgroup of G;
  let H be Subgroup of N;
  let f be Homomorphism of G,G2;
  set UN = the carrier of N;
  set UH = the carrier of H;
  UH c= UN by GROUP_2:def 5;
  then A1: (f|UN)|UH = f|UH & (f|UN) = f|N & f|UH = f|H
  by RELAT_1:73,74,GRSOLV_1:def 2;
  (f|N)|H = (f|N)|UH by GRSOLV_1:def 2
         .= (f|UN)|UH by GRSOLV_1:def 2;
  hence (f|N)|H = f|H by A1;
end;

\nwindexdefn{\nwixident{LmRestrictCollapse}}{LmRestrictCollapse}{NW18nMBU-EZoEE-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{LmRestrictCollapse}}{LmRestrictCollapse}}}\nwendcode{}\nwbegindocs{26}\nwdocspar

\nwenddocs{}\nwbegincode{27}\sublabel{NW18nMBU-l92FA-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-l92FA-1}}}\moddef{Theorem: if $f$ is bijective, then $(f^{-1})^{-1}=f$~{\nwtagstyle{}\subpageref{NW18nMBU-l92FA-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm10}{NW18nMBU-l92FA-1}:
for X,Y being non empty set
for f being Function of X,Y
st f is bijective
holds (f")" = f
proof
  let X,Y be non empty set;
  let f be Function of X,Y;
  assume A1: f is bijective;
  then B1: dom f = X & rng f = Y & f is one-to-one by FUNCT_2:def 3,def 1;
  f is one-to-one & rng f = Y implies f" is Function of Y,X
  by FUNCT_2:25; 
  then consider g being Function of Y,X such that
  A2: g = f"
  by A1,B1,FUNCT_2:25;
  A3: g is bijective by A1,A2,GROUP_6:63;
  then B2: dom g = Y & rng g = X & g is one-to-one by FUNCT_2:def 1,def 3;
  g is one-to-one & rng g = X implies g" is Function of X,Y
  by A3,FUNCT_2:25;
  then consider h being Function of X,Y such that
  A4: h = g"
  by A3,FUNCT_2:def 1, def 3,25;
  A5: h is bijective by A3,A4,GROUP_6:63;

  for x being object st x in X holds h.x = f.x
  \LA{}Proof: $\forall x, x\in X\implies h(x) = f(x)$~{\nwtagstyle{}\subpageref{NW18nMBU-1bDmhU-1}}\RA{}
  then h = f by FUNCT_2:12;
  hence (f")" = f by A2,A4;
end;

\nwindexdefn{\nwixident{Lm10}}{Lm10}{NW18nMBU-l92FA-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Lm10}}{Lm10}}}\nwendcode{}\nwbegindocs{28}\nwdocspar
\nwenddocs{}\nwbegincode{29}\sublabel{NW18nMBU-1bDmhU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1bDmhU-1}}}\moddef{Proof: $\forall x, x\in X\implies h(x) = f(x)$~{\nwtagstyle{}\subpageref{NW18nMBU-1bDmhU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-l92FA-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume Z1: x in X;
  then reconsider x as Element of X;
  Y <> \{\};
  then consider y being object such that
  Z3: y = f.x
  by FUNCT_2:5;
  Z6: g is one-to-one & y in dom g by Z3, A2, B2;
  f is one-to-one & x in dom f by A1, Z1,B1;
  then Z4: x = (f").y by Z3,FUNCT_2:26;
  then Z5: x = g.y by A2;
  h.x = (g").x by A4
     .= (g").(g.y) by Z4,A2
     .= y by Z6,FUNCT_2:26;
  then h.x = f.x by Z3;
  hence thesis;
end;
  
\nwused{\\{NW18nMBU-l92FA-1}}\nwendcode{}\nwbegindocs{30}\nwdocspar

\begin{theorem}
If $f\colon X\to Y$ is a bijective function of sets, then for any $y\in Y$
we have $f(f^{-1}(y))=y$.
\end{theorem}

Mizar has the opposite result in its library, namely, \verb#FUNCT_2:26#
states that $f^{-1}(f(x))=x$ provided $f$ is injective.

\nwenddocs{}\nwbegincode{31}\sublabel{NW18nMBU-1Brdpy-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-1Brdpy-1}}}\moddef{Theorem: if $f\colon X\to Y$ is bijective, then $f\circ f^{-1}=\id_{Y}$~{\nwtagstyle{}\subpageref{NW18nMBU-1Brdpy-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm11}{NW18nMBU-1Brdpy-1}:
for X,Y being non empty set
for f being Function of X,Y
st f is bijective
for y being Element of Y
holds f.((f").y) = y
proof
  let X,Y be non empty set;
  let f be Function of X,Y;
  assume A1: f is bijective;
  let y be Element of Y;
  (rng f = Y & f is one-to-one) &
  (f is one-to-one & rng f = Y implies f" is Function of Y,X)
  by A1,FUNCT_2:def 3, 25;
  then consider g being Function of Y,X such that
  A2: g = f"
  by A1;
  g = f" & f is bijective by A1,A2;
  then g is bijective by A1, GROUP_6:63;
  then y = (g").(g.y) by A2,FUNCT_2:26
        .= ((f")").((f").y) by A2
        .= f.((f").y) by \nwlinkedidentc{Lm10}{NW18nMBU-l92FA-1},A1;
  hence thesis by \nwlinkedidentc{Lm10}{NW18nMBU-l92FA-1};
end;

\nwindexdefn{\nwixident{Lm11}}{Lm11}{NW18nMBU-1Brdpy-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Lm11}}{Lm11}}}\nwidentuses{\\{{\nwixident{Lm10}}{Lm10}}}\nwindexuse{\nwixident{Lm10}}{Lm10}{NW18nMBU-1Brdpy-1}\nwendcode{}\nwbegindocs{32}\nwdocspar
\begin{theorem}
  If $f\colon X\to Y$ is a bijective function of sets,
  then its inverse function $f^{-1}\colon Y\to X$ exists (as defined by
  $f\circ f^{-1}=\id_{Y}$ and $f^{-1}\circ f=\id_{X}$).
\end{theorem}

\nwenddocs{}\nwbegincode{33}\sublabel{NW18nMBU-29j2HE-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-29j2HE-1}}}\moddef{Theorem: bijections have inverses~{\nwtagstyle{}\subpageref{NW18nMBU-29j2HE-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm12}{NW18nMBU-29j2HE-1}:
for X,Y being non empty set
for f being Function of X,Y
st f is bijective
holds f*(f") = id Y & (f")*f = id X
proof
  let X,Y be non empty set;
  let f be Function of X,Y;
  assume A1: f is bijective;
  then consider g being Function of Y,X such that
  A2: g = f" and
  A3: g is bijective
  by \nwlinkedidentc{Lm13}{NW18nMBU-swt6L-1};
  A4: g" = f by A1,A2,A3,\nwlinkedidentc{Lm10}{NW18nMBU-l92FA-1};
  for y being object st y in Y holds (f*(f")).y = (id Y).y
  \LA{}Proof: $\forall y, y\in Y\implies (f\circ f^{-1})(y) = \id_{Y}(y)$~{\nwtagstyle{}\subpageref{NW18nMBU-2pd9SK-1}}\RA{}
  then f*g = id Y by A2,FUNCT_2:12;
  hence f*(f") = id Y by A2,FUNCT_2:12;
  for x being object st x in X holds ((f")*f).x = (id X).x
  \LA{}Proof: $\forall x,x\in X\implies (f^{-1}\circ f)(x) = \id_{X}(x)$~{\nwtagstyle{}\subpageref{NW18nMBU-45FeqA-1}}\RA{}
  then g*f = id X by A2,FUNCT_2:12;
  hence (f")*f = id X by A2,FUNCT_2:12;
end;

\nwindexdefn{\nwixident{Lm12}}{Lm12}{NW18nMBU-29j2HE-1}\eatline
\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Lm12}}{Lm12}}}\nwidentuses{\\{{\nwixident{Lm10}}{Lm10}}\\{{\nwixident{Lm13}}{Lm13}}}\nwindexuse{\nwixident{Lm10}}{Lm10}{NW18nMBU-29j2HE-1}\nwindexuse{\nwixident{Lm13}}{Lm13}{NW18nMBU-29j2HE-1}\nwendcode{}\nwbegindocs{34}\nwdocspar
\nwenddocs{}\nwbegincode{35}\sublabel{NW18nMBU-2pd9SK-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-2pd9SK-1}}}\moddef{Proof: $\forall y, y\in Y\implies (f\circ f^{-1})(y) = \id_{Y}(y)$~{\nwtagstyle{}\subpageref{NW18nMBU-2pd9SK-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-29j2HE-1}}\nwenddeflinemarkup
proof
  let y be object;
  assume Z1: y in Y;
  then (Y <> \{\} & f" is Function of Y,X & f is Function) implies (f*(f")).y=f.((f").y)
  by FUNCT_2:15;
  Z2: Y <> \{\} & f is Function & g is Function of Y,X & g = f" by A2;
  then (f*g).y=f.(g.y) by Z1,FUNCT_2:15
             .= y by A4,A3,Z1,Z2, FUNCT_2:26
             .= (id Y).y by Z1,FUNCT_1:18;
  hence thesis by A2;
end;
  
\nwused{\\{NW18nMBU-29j2HE-1}}\nwendcode{}\nwbegindocs{36}\nwdocspar

\nwenddocs{}\nwbegincode{37}\sublabel{NW18nMBU-45FeqA-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-45FeqA-1}}}\moddef{Proof: $\forall x,x\in X\implies (f^{-1}\circ f)(x) = \id_{X}(x)$~{\nwtagstyle{}\subpageref{NW18nMBU-45FeqA-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-29j2HE-1}}\nwenddeflinemarkup
proof
  let x be object;
  assume Z1: x in X;
  then (X <> \{\} & f is Function of X,Y & f" is Function) implies ((f")*f).x=(f").(f.x)
  by FUNCT_2:15;
  Z2: X <> \{\} & f is Function of X,Y & f" is Function by A2;
  then (g*f).x = g.(f.x) by Z1,FUNCT_2:15
              .= x by A2,Z1,Z2,A1,FUNCT_2:26
              .= (id X).x by Z1,FUNCT_1:18;
  hence thesis by A2;
end;
  
\nwused{\\{NW18nMBU-29j2HE-1}}\nwendcode{}\nwbegindocs{38}\nwdocspar

\begin{theorem}
If $f\colon X\to Y$ is bijective, then there exists an inverse function
$f^{-1}\colon Y\to X$ and $f^{-1}\colon Y\to X$ is bijective.
\end{theorem}

\nwenddocs{}\nwbegincode{39}\sublabel{NW18nMBU-swt6L-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW18nMBU-swt6L-1}}}\moddef{Theorem: if $f\colon X\to Y$ is bijective, then there exists an inverse function and $f^{-1}\colon Y\to X$ is bijective~{\nwtagstyle{}\subpageref{NW18nMBU-swt6L-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-oqDk7-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm13}{NW18nMBU-swt6L-1}:
for X,Y being non empty set
for f being Function of X,Y
st f is bijective
holds ex g being Function of Y,X st g = f" & g is bijective
proof
  let X,Y be non empty set;
  let f be Function of X,Y;
  assume A1: f is bijective;
  then B1: dom f = X & rng f = Y & f is one-to-one by FUNCT_2:def 3,def 1;
  f is one-to-one & rng f = Y implies f" is Function of Y,X
  by FUNCT_2:25; 
  then consider g being Function of Y,X such that
  A2: g = f"
  by A1,B1,FUNCT_2:25;
  take g;
  thus g = f" by A2;
  thus g is bijective by A1,A2, GROUP_6:63;
end;

\nwindexdefn{\nwixident{Lm13}}{Lm13}{NW18nMBU-swt6L-1}\eatline

\nwused{\\{NW18nMBU-oqDk7-1}}\nwidentdefs{\\{{\nwixident{Lm13}}{Lm13}}}\nwendcode{}\nwfilename{nw/characteristic/automorphism.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\subsection{Automorphisms}

\M Now, we have a section for defining inner and outer group
automorphisms. A \emph{group automorphism} is just a bijective endomorphism on
a group, and an \emph{endomorphism} is a group morphism whose codomain
is its domain.

Remember (\S\ref{par:characteristic:vocabularies}), although we are
defining new terms {\Tt{}\nwlinkedidentq{Endomorphism}{NW1Nnu7l-17cKlQ-1}\nwendquote} and {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\nwendquote}, we do not need
to add them to our {\Tt{}DICT/CHAR.VOC\nwendquote} file. Why not? Because the tokens
are already included from {\Tt{}MOD{\_}4\nwendquote}.

\nwenddocs{}\nwbegincode{1}\sublabel{NW1Nnu7l-32pmQO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-32pmQO-1}}}\moddef{Inner and outer automorphisms~{\nwtagstyle{}\subpageref{NW1Nnu7l-32pmQO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2TX9wk-1}}\nwenddeflinemarkup
begin

\LA{}Reserve symbols for inner and outer automorphisms~{\nwtagstyle{}\subpageref{NW1Nnu7l-1LL7AC-1}}\RA{}
\LA{}Define \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-17cKlQ-1}}\RA{}
\LA{}Register \code{}bijective\edoc{} for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-6ndaE-1}}\RA{}
\LA{}Define \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-4WeeL5-1}}\RA{}
\LA{}Theorem: Endomorphisms preserve the trivial subgroup~{\nwtagstyle{}\subpageref{NW1Nnu7l-3pJfHu-1}}\RA{}
\LA{}Theorem: Automorphisms map trivial subgroups to themselves~{\nwtagstyle{}\subpageref{NW1Nnu7l-49bqr6-1}}\RA{}
\LA{}Theorem: for $\varphi\in\Aut(G)$ and $H\subgroup G$, we have $\ker(\varphi|H)\subgroup\ker(\varphi)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Q8R0t-1}}\RA{}
\LA{}Lemma: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have monomorphism $\varphi|_{H}$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Beici-1}}\RA{}
\LA{}Theorem: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have $H\iso\varphi(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3WScXE-1}}\RA{}
\LA{}Define $\Id_{G}$~{\nwtagstyle{}\subpageref{NW1Nnu7l-27i33n-1}}\RA{}
\LA{}Theorem: \code{}Id{\_}G\edoc{} is the same as \code{}id\ the\ carrier\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-4SFZrK-1}}\RA{}
\LA{}Register \code{}Id{\_}G\edoc{} is bijective~{\nwtagstyle{}\subpageref{NW1Nnu7l-37g7e5-1}}\RA{}
\LA{}Theorem: $\varphi\in\Aut(G)$ and $H\subgroup G$ such that $\varphi(H)=H$ implies $\varphi|H\in\Aut(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1QHEJY-1}}\RA{}
\LA{}Results and definition for Inner automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-gMHRo-1}}\RA{}

\nwused{\\{NW18nMBU-2TX9wk-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\M Note we just used the symbol {\Tt{}G\nwendquote} for a generic group, so we add to
the reserved symbols this association.

\nwenddocs{}\nwbegincode{3}\sublabel{NW1Nnu7l-1LL7AC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1LL7AC-1}}}\moddef{Reserve symbols for inner and outer automorphisms~{\nwtagstyle{}\subpageref{NW1Nnu7l-1LL7AC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
reserve G for Group;

\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwendcode{}\nwbegindocs{4}\nwdocspar

\M\index{Endomorphism} A group endomorphism of $G$ is just a homomorphism $f\colon G\to G$.

\nwenddocs{}\nwbegincode{5}\sublabel{NW1Nnu7l-17cKlQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-17cKlQ-1}}}\moddef{Define \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-17cKlQ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwprevnextdefs{\relax}{NW1Nnu7l-17cKlQ-2}\nwenddeflinemarkup
definition :: Def1
  let G;
  mode \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G is Homomorphism of G,G;
end;

\nwindexdefn{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-17cKlQ-1}\eatline
\nwalsodefined{\\{NW1Nnu7l-17cKlQ-2}}\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwendcode{}\nwbegindocs{6}\nwdocspar
\M\label{par:characteristic:register-bijective-for-endomorphism}
We begin by registering the attribute {\Tt{}bijective\nwendquote} for group
endomorphisms. This will effectively create a subtype of
{\Tt{}\nwlinkedidentq{Endomorphism}{NW1Nnu7l-17cKlQ-1}\ of\ G\nwendquote}, the aptly named {\Tt{}bijective\ \nwlinkedidentq{Endomorphism}{NW1Nnu7l-17cKlQ-1}\ of\ G\nwendquote}.
Most of our work has been done in article {\Tt{}GROUP{\_}6\nwendquote} by
Theorem~38 (which effectively states the function on the underlying set
{\Tt{}id\ (the\ carrier\ of\ G)\nwendquote} is a multiplicative function and so nearly a
group morphism that we can reconsider it as an {\Tt{}\nwlinkedidentq{Endomorphism}{NW1Nnu7l-17cKlQ-1}\nwendquote}), and
the fact that {\Tt{}id\ X\nwendquote} is bijective.

\nwenddocs{}\nwbegincode{7}\sublabel{NW1Nnu7l-6ndaE-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-6ndaE-1}}}\moddef{Register \code{}bijective\edoc{} for \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-6ndaE-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
registration
  let G;
  cluster bijective for \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;
  existence
  proof
    reconsider i = id the carrier of G as Homomorphism of G,G by GROUP_6:38;
    i is bijective;
    hence thesis;
  end;
end;

\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-6ndaE-1}\nwendcode{}\nwbegindocs{8}\nwdocspar

\N{Definition (Automorphism)}\index{Automorphism}
Now we have an {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\ of\ G\nwendquote} be just a bijective endomorphism.

\nwenddocs{}\nwbegincode{9}\sublabel{NW1Nnu7l-4WeeL5-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-4WeeL5-1}}}\moddef{Define \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-4WeeL5-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
definition :: Def2
  let G;
  mode \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G is bijective \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;
end;

\nwindexdefn{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-4WeeL5-1}\eatline
\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-4WeeL5-1}\nwendcode{}\nwbegindocs{10}\nwdocspar
\begin{theorem}
For any automorphism $\varphi\colon G\to G$, its inverse $\varphi^{-1}$
is also an automorphism.
\end{theorem}

This is proven in \verb#GROUP_6:62#. We have, for example, the following
accepted by Mizar:

\begin{mizar}
for G being Group
for phi being Automorphism of G
holds phi" is Automorphism of G by GROUP_6:62;
\end{mizar}

\M For any group $G$ and endomorphism $f\in\End(G)$, we have the trivial
subgroup $\trivialSubgroup\subgroup G$ be preserved under $f$; i.e.,
$f(\trivialSubgroup)=\trivialSubgroup$.

\nwenddocs{}\nwbegincode{11}\sublabel{NW1Nnu7l-3pJfHu-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3pJfHu-1}}}\moddef{Theorem: Endomorphisms preserve the trivial subgroup~{\nwtagstyle{}\subpageref{NW1Nnu7l-3pJfHu-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th1}{NW1Nnu7l-3pJfHu-1}:
  Image (f|(1).G) = (1).G
proof
  Image(f|(1).G) = f .: ((1).G) by GRSOLV_1:def 3
                .= (1).G by GRSOLV_1:11;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th1}}{Th1}{NW1Nnu7l-3pJfHu-1}\eatline
\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Th1}}{Th1}}}\nwendcode{}\nwbegindocs{12}\nwdocspar
\M Now we need to tell Mizar that $f$ is an endomorphism of $G$.

\nwenddocs{}\nwbegincode{13}\sublabel{NW1Nnu7l-17cKlQ-2}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-17cKlQ-2}}}\moddef{Define \code{}Endomorphism\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-17cKlQ-1}}}\plusendmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwprevnextdefs{NW1Nnu7l-17cKlQ-1}{\relax}\nwenddeflinemarkup
reserve f for \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;

\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-17cKlQ-2}\nwendcode{}\nwbegindocs{14}\nwdocspar

\M If $\phi$ is an automorphism of a group $G$, then
the image of the trivial subgroup under $\phi$ is a subgroup of itself
$\phi(\trivialSubgroup)\subgroup\trivialSubgroup$. We have, from
Theorem~{\Tt{}\nwlinkedidentq{Th1}{NW1Nnu7l-3pJfHu-1}\nwendquote}, that $\phi(\trivialSubgroup)=\trivialSubgroup$ since
$\phi$ (being an automorphism) is also an endomorphism. And {\Tt{}GROUP{\_}2\nwendquote}
proves that $G$ is a subgroup of itself in Theorem~{\Tt{}Th54\nwendquote}.

\nwenddocs{}\nwbegincode{15}\sublabel{NW1Nnu7l-49bqr6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-49bqr6-1}}}\moddef{Theorem: Automorphisms map trivial subgroups to themselves~{\nwtagstyle{}\subpageref{NW1Nnu7l-49bqr6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
:: In particular, the trivial proper subgroup (1).G of G is invariant
:: under \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} automorphisms, and thus is a \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} subgroup.
theorem \nwlinkedidentc{Th2}{NW1Nnu7l-49bqr6-1}:
  for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
  holds Image(phi|(1).G) is Subgroup of (1).G
proof
  let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  (1).G is Subgroup of (1).G by GROUP_2:54;
  hence Image(phi|(1).G) is Subgroup of (1).G by \nwlinkedidentc{Th1}{NW1Nnu7l-3pJfHu-1};
end;

\nwindexdefn{\nwixident{Th2}}{Th2}{NW1Nnu7l-49bqr6-1}\eatline
\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Th2}}{Th2}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th1}}{Th1}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-49bqr6-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW1Nnu7l-49bqr6-1}\nwindexuse{\nwixident{inner}}{inner}{NW1Nnu7l-49bqr6-1}\nwindexuse{\nwixident{Th1}}{Th1}{NW1Nnu7l-49bqr6-1}\nwendcode{}\nwbegindocs{16}\nwdocspar
\nwenddocs{}\nwbegincode{17}\sublabel{NW1Nnu7l-3CeuwY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3CeuwY-1}}}\moddef{Lemma: $H\subgroup G$ and $\trivialSubgroup\subgroup H$ implies $H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3CeuwY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-2Beici-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm8}{NW1Nnu7l-3CeuwY-1}: for H being Subgroup of G st H is Subgroup of (1).G holds the
multMagma of H = the multMagma of (1).G
proof
  let H be Subgroup of G;
  assume A1: H is Subgroup of (1).G;
  then reconsider H as Subgroup of (1).G;
  (1).G is Subgroup of H by GROUP_2:65;
  then H is Subgroup of (1).G & (1).G is Subgroup of H by A1;
  hence thesis by GROUP_2:55;
end;

\nwindexdefn{\nwixident{Lm8}}{Lm8}{NW1Nnu7l-3CeuwY-1}\eatline
\nwused{\\{NW1Nnu7l-2Beici-1}}\nwidentdefs{\\{{\nwixident{Lm8}}{Lm8}}}\nwendcode{}\nwbegindocs{18}\nwdocspar
\nwenddocs{}\nwbegincode{19}\sublabel{NW1Nnu7l-2Beici-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2Beici-1}}}\moddef{Lemma: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have monomorphism $\varphi|_{H}$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Beici-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
\LA{}Lemma: $H\subgroup G$ and $\trivialSubgroup\subgroup H$ implies $H=\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3CeuwY-1}}\RA{}
\nwlinkedidentc{Lm9}{NW1Nnu7l-2Beici-1}:
for H being Subgroup of G
for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
holds (phi|H) is Homomorphism of H,Image(phi|H) & (phi|H) is one-to-one
proof
  let H be Subgroup of G;
  let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
::  thus (phi|H) is one-to-one Homomorphism of H,Image(phi|H);
  thus phi|H is Homomorphism of H,Image(phi|H) by GRSOLV_1:def 2, GRSOLV_1:def 3, GROUP_6:49;
  phi is one-to-one;
  then Ker(phi) = (1).G by GROUP_6:56;
  then Ker(phi|H) is Subgroup of (1).G by \nwlinkedidentc{Th9}{NW1Nnu7l-2Q8R0t-1};
  then Ker(phi|H) = (1).G by \nwlinkedidentc{Lm8}{NW1Nnu7l-3CeuwY-1}
                 .= (1).H by GROUP_2:63;
  then (phi|H) is one-to-one by GROUP_6:56;
  hence thesis;
end;

\nwindexdefn{\nwixident{Lm9}}{Lm9}{NW1Nnu7l-2Beici-1}\eatline
\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Lm9}}{Lm9}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Lm8}}{Lm8}}\\{{\nwixident{Th9}}{Th9}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-2Beici-1}\nwindexuse{\nwixident{Lm8}}{Lm8}{NW1Nnu7l-2Beici-1}\nwindexuse{\nwixident{Th9}}{Th9}{NW1Nnu7l-2Beici-1}\nwendcode{}\nwbegindocs{20}\nwdocspar
\begin{theorem}
For any automorphism $\varphi\in\Aut(G)$, its inverse is also an
automorphism $\varphi^{-1}\in\Aut(G)$.
\end{theorem}

\nwenddocs{}\nwbegincode{21}\sublabel{NW1Nnu7l-3TdlgM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3TdlgM-1}}}\moddef{Theorem: if $\varphi\in\Aut(G)$, then $\varphi^{-1}\in\Aut(G)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3TdlgM-1}}}\endmoddef\nwstartdeflinemarkup\nwenddeflinemarkup
theorem \nwlinkedidentc{Th3}{NW1Nnu7l-3TdlgM-1}:
  for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
  holds f" is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
proof
  let f be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  set UG = the carrier of G;
  A1: f is bijective;
  then A2: f" is Function of UG,UG & f" is bijective by GROUP_6:63;
  for a,b being Element of G holds (f").(a * b) = (f").a * (f").b
  \LA{}Proof: $\varphi^{-1}$ is multiplicative~{\nwtagstyle{}\subpageref{NW1Nnu7l-pjwkC-1}}\RA{}
  then f" is multiplicative by GROUP_6:def 6;
  then f" is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G by A2;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th3}}{Th3}{NW1Nnu7l-3TdlgM-1}\eatline
\nwnotused{Theorem: if $\varphi\in\Aut(G)$, then $\varphi^{-1}\in\Aut(G)$}\nwidentdefs{\\{{\nwixident{Th3}}{Th3}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-3TdlgM-1}\nwendcode{}\nwbegindocs{22}\nwdocspar
\nwenddocs{}\nwbegincode{23}\sublabel{NW1Nnu7l-pjwkC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-pjwkC-1}}}\moddef{Proof: $\varphi^{-1}$ is multiplicative~{\nwtagstyle{}\subpageref{NW1Nnu7l-pjwkC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-3TdlgM-1}}\nwenddeflinemarkup
proof
  let a,b be Element of G;
  consider x1 being Element of G such that
  B1: a = f.x1
  by GROUP_6:58,A1;
  consider x2 being Element of G such that
  B2: b = f.x2
  by GROUP_6:58,A1;
  B3: f".a = x1 & f".b = x2 by B1,B2,FUNCT_2:26;
  (f").(a*b) = (f").((f.x1)*(f.x2)) by B1,B2
            .= (f").(f.(x1 * x2)) by A1,FUNCT_2:26,GROUP_6:def 6
            .= x1*x2 by A1,FUNCT_2:26
            .= (f").a * (f").b by B3;
  then (f").(a * b) = (f").a * (f").b;
  hence thesis;
end;

\nwused{\\{NW1Nnu7l-3TdlgM-1}}\nwendcode{}\nwbegindocs{24}\nwdocspar

\begin{theorem}
Let $G$ be a group, $H\subgroup G$ be any subgroup, and
$\varphi\in\Aut(G)$ be any automorphism. Then the image of $H$ under
$\varphi$ is isomorphic to $H$ itself, i.e., $H\iso\varphi(H)$.
\end{theorem}

\nwenddocs{}\nwbegincode{25}\sublabel{NW1Nnu7l-3WScXE-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-3WScXE-1}}}\moddef{Theorem: for any $\varphi\in\Aut(G)$ and $H\subgroup G$ we have $H\iso\varphi(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-3WScXE-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th8}{NW1Nnu7l-3WScXE-1}:
  for H being Subgroup of G
  for phi being \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
  holds H,phi .: H are_isomorphic
proof
  let H be Subgroup of G;
  let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  reconsider H2 = phi .: H as Subgroup of G;
  Image(phi|H) = H2 by GRSOLV_1:def 3;
  phi|H is one-to-one by \nwlinkedidentc{Lm9}{NW1Nnu7l-2Beici-1};
  then H,Image(phi|H) are_isomorphic by GROUP_6:68;
  then H,phi .: H are_isomorphic by GRSOLV_1:def 3;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th8}}{Th8}{NW1Nnu7l-3WScXE-1}\eatline
\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Th8}}{Th8}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Lm9}}{Lm9}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-3WScXE-1}\nwindexuse{\nwixident{Lm9}}{Lm9}{NW1Nnu7l-3WScXE-1}\nwendcode{}\nwbegindocs{26}\nwdocspar
\begin{theorem}
Let $G$ be a group, $H\subgroup G$ any subgroup, and $\varphi\in\aut(G)$
any automorphism.
Then $\ker(\varphi|H)\subgroup\ker(\varphi)$.
\end{theorem}

\nwenddocs{}\nwbegincode{27}\sublabel{NW1Nnu7l-2Q8R0t-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2Q8R0t-1}}}\moddef{Theorem: for $\varphi\in\Aut(G)$ and $H\subgroup G$, we have $\ker(\varphi|H)\subgroup\ker(\varphi)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Q8R0t-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th9}{NW1Nnu7l-2Q8R0t-1}:
  for G1,G2 being Group
  for f being Homomorphism of G1,G2
  for H being Subgroup of G1
  holds Ker(f|H) is Subgroup of Ker(f)
proof
  let G1,G2 be Group;
  let f be Homomorphism of G1,G2;
  let H be Subgroup of G1;
  A1: Ker(f|H) is Subgroup of G1 by GROUP_2:56;
  Ker(f) is Subgroup of G1;
  for g being Element of G1
  st g in Ker(f|H)
  holds g in Ker(f)
  \LA{}Proof: $\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1MwKaZ-1}}\RA{}
  then Ker(f|H) is Subgroup of Ker(f) by A1,GROUP_2:58;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th9}}{Th9}{NW1Nnu7l-2Q8R0t-1}\eatline
\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Th9}}{Th9}}}\nwendcode{}\nwbegindocs{28}\nwdocspar
\nwenddocs{}\nwbegincode{29}\sublabel{NW1Nnu7l-1MwKaZ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1MwKaZ-1}}}\moddef{Proof: $\forall g\in G, g\in\ker(\varphi|H)\implies g\in\ker(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1MwKaZ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-2Q8R0t-1}}\nwenddeflinemarkup
proof
  let g be Element of G1;
  assume A2: g in Ker(f|H);
  Ker(f|H) is Subgroup of H;
  then A3: g in H by A2, \nwlinkedidentc{LmSubgroupEltTrans}{NW18nMBU-7Q5oR-1};
  then A4: (f|H).g = f.g by \nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1};
  g is Element of H by A3, \nwlinkedidentc{LmSubgroupElt}{NW18nMBU-4DvAms-1};
  then 1_G2 = (f|H).g by A2,GROUP_6:41
           .= f.g by A4;
  then g in Ker(f) by GROUP_6:41;
  hence thesis;
end;

\nwused{\\{NW1Nnu7l-2Q8R0t-1}}\nwidentuses{\\{{\nwixident{Lm3}}{Lm3}}\\{{\nwixident{LmSubgroupElt}}{LmSubgroupElt}}\\{{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}}}\nwindexuse{\nwixident{Lm3}}{Lm3}{NW1Nnu7l-1MwKaZ-1}\nwindexuse{\nwixident{LmSubgroupElt}}{LmSubgroupElt}{NW1Nnu7l-1MwKaZ-1}\nwindexuse{\nwixident{LmSubgroupEltTrans}}{LmSubgroupEltTrans}{NW1Nnu7l-1MwKaZ-1}\nwendcode{}\nwbegindocs{30}\nwdocspar

\N{Identity Group Endomorphism}\index{$\Id_{G}$}\index{Endomorphism!Identity}
I found it tedious to write {\Tt{}id\ (the\ carrier\ of\ G)\nwendquote} over and over
again, so I wrote a shortcut {\Tt{}\nwlinkedidentq{Id{\_}G}{NW1Nnu7l-27i33n-1}\nwendquote} for $\Id_{G}$.

\nwenddocs{}\nwbegincode{31}\sublabel{NW1Nnu7l-27i33n-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-27i33n-1}}}\moddef{Define $\Id_{G}$~{\nwtagstyle{}\subpageref{NW1Nnu7l-27i33n-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
definition :: \nwlinkedidentc{Def3}{NW1Nnu7l-27i33n-1}
  let G;
  func \nwlinkedidentc{Id_G}{NW1Nnu7l-27i33n-1} -> \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G means
  :\nwlinkedidentc{Def3}{NW1Nnu7l-27i33n-1}:
  for x being Element of G holds it.x=x;
  existence
  \LA{}Proof that $\Id_{G}$ exists~{\nwtagstyle{}\subpageref{NW1Nnu7l-2hCvdU-1}}\RA{}
  uniqueness
  \LA{}Proof $\Id_{G}$ is unique~{\nwtagstyle{}\subpageref{NW1Nnu7l-q6iKQ-1}}\RA{}
end;

\nwindexdefn{\nwixident{Id{\_}G}}{Id:unG}{NW1Nnu7l-27i33n-1}\nwindexdefn{\nwixident{Id{\_}}}{Id:un}{NW1Nnu7l-27i33n-1}\nwindexdefn{\nwixident{Def3}}{Def3}{NW1Nnu7l-27i33n-1}\eatline
\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Def3}}{Def3}}\\{{\nwixident{Id{\_}}}{Id:un}}\\{{\nwixident{Id{\_}G}}{Id:unG}}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-27i33n-1}\nwendcode{}\nwbegindocs{32}\nwdocspar
\M We need to add {\Tt{}\nwlinkedidentq{Id{\_}}{NW1Nnu7l-27i33n-1}\nwendquote} to our vocabulary.

\nwenddocs{}\nwbegincode{33}\sublabel{NW1Nnu7l-4FyAEL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-4FyAEL-1}}}\moddef{DICT/CHAR.VOC~{\nwtagstyle{}\subpageref{NW1Nnu7l-4FyAEL-1}}}\endmoddef\nwstartdeflinemarkup\nwprevnextdefs{\relax}{NW3Mfp8C-4FyAEL-1}\nwenddeflinemarkup
OId_

\nwalsodefined{\\{NW3Mfp8C-4FyAEL-1}}\nwnotused{DICT/CHAR.VOC}\nwendcode{}\nwbegindocs{34}\nwdocspar

\N{Proof ($\Id_{G}$ exists)}
Similar to the proof (\S\ref{par:characteristic:register-bijective-for-endomorphism})
that there exists a bijective endomorphism, the proof that $\Id_{G}$
exists amounts to reconsidering {\Tt{}id\nwendquote} as an endomorphism. Earlier work
in {\Tt{}FUNCT{\_}1\nwendquote} proved (in Theorem~17) the identity function satisfies
$\forall x\in X, \id_{X}(x)=x$.

\nwenddocs{}\nwbegincode{35}\sublabel{NW1Nnu7l-2hCvdU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2hCvdU-1}}}\moddef{Proof that $\Id_{G}$ exists~{\nwtagstyle{}\subpageref{NW1Nnu7l-2hCvdU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-27i33n-1}}\nwenddeflinemarkup
proof
  reconsider i = id (the carrier of G) as Homomorphism of G,G by GROUP_6:38;
  for x being Element of G holds i.x = x by FUNCT_1:17;
  hence thesis;
end;

\nwused{\\{NW1Nnu7l-27i33n-1}}\nwendcode{}\nwbegindocs{36}\nwdocspar

\N{Proof (Uniqueness of $\Id_{G}$)}
The usual strategy is to consider two arbitrary endomorphisms
$\Id^{(1)}_{G}$ and $\Id^{(2)}_{G}$ satisfying the definition of
{\Tt{}\nwlinkedidentq{Id{\_}}{NW1Nnu7l-27i33n-1}\nwendquote}, then prove $\Id^{(1)}_{G} = \Id^{(2)}_{G}$.

If we wanted to be completely pedantic, we could cite Theorem~12 from
{\Tt{}FUNCT{\_}2\nwendquote} which states for any functions of sets
$f_{1}$, $f_{2}\colon X\to Y$ we have $\forall x\in X, f_{1}(x)=f_{2}(x)$
implies $f_{1}=f_{2}$.

\nwenddocs{}\nwbegincode{37}\sublabel{NW1Nnu7l-q6iKQ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-q6iKQ-1}}}\moddef{Proof $\Id_{G}$ is unique~{\nwtagstyle{}\subpageref{NW1Nnu7l-q6iKQ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-27i33n-1}}\nwenddeflinemarkup
proof
  let Id1, Id2 be \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G such that
  A1: for x being Element of G holds Id1.x=x and
  A2: for x being Element of G holds Id2.x=x;
  let x be Element of G;
  thus Id1.x = x by A1
            .= Id2.x by A2;
  thus thesis;
end;

\nwused{\\{NW1Nnu7l-27i33n-1}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-q6iKQ-1}\nwendcode{}\nwbegindocs{38}\nwdocspar

\M\label{thm:characteristic:identity-endomorphism-is-identity-function}
We should now have some sanity check that {\Tt{}\nwlinkedidentq{Id{\_}G}{NW1Nnu7l-27i33n-1}\nwendquote} really is
the identity group morphism $\Id_{G}$ that \emph{we} think it is.

\nwenddocs{}\nwbegincode{39}\sublabel{NW1Nnu7l-4SFZrK-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-4SFZrK-1}}}\moddef{Theorem: \code{}Id{\_}G\edoc{} is the same as \code{}id\ the\ carrier\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW1Nnu7l-4SFZrK-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th10}{NW1Nnu7l-4SFZrK-1}:
  \nwlinkedidentc{Id_G}{NW1Nnu7l-27i33n-1} = id (the carrier of G)
proof
  let x be Element of G;
  thus (\nwlinkedidentc{Id_G}{NW1Nnu7l-27i33n-1}).x = x by \nwlinkedidentc{Def3}{NW1Nnu7l-27i33n-1}
               .= (id (the carrier of G)).x;
  thus thesis;
end;

\nwindexdefn{\nwixident{Th10}}{Th10}{NW1Nnu7l-4SFZrK-1}\eatline
\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Th10}}{Th10}}}\nwidentuses{\\{{\nwixident{Def3}}{Def3}}\\{{\nwixident{Id{\_}G}}{Id:unG}}}\nwindexuse{\nwixident{Def3}}{Def3}{NW1Nnu7l-4SFZrK-1}\nwindexuse{\nwixident{Id{\_}G}}{Id:unG}{NW1Nnu7l-4SFZrK-1}\nwendcode{}\nwbegindocs{40}\nwdocspar
\M
Now we should automatically associate $\Id_{G}$ is bijective. This
requires proving a couple of helper lemmas establishing injectivity and
surjectivity.

\nwenddocs{}\nwbegincode{41}\sublabel{NW1Nnu7l-37g7e5-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-37g7e5-1}}}\moddef{Register \code{}Id{\_}G\edoc{} is bijective~{\nwtagstyle{}\subpageref{NW1Nnu7l-37g7e5-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
\LA{}\code{}Id{\_}G\edoc{} is injective~{\nwtagstyle{}\subpageref{NW1Nnu7l-17utZy-1}}\RA{}
\LA{}\code{}Id{\_}G\edoc{} is surjective~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Qowg2-1}}\RA{}

registration let G;
  cluster \nwlinkedidentc{Id_G}{NW1Nnu7l-27i33n-1} -> bijective;
  coherence by \nwlinkedidentc{Lm1}{NW1Nnu7l-17utZy-1},\nwlinkedidentc{Lm2}{NW1Nnu7l-2Qowg2-1};
end;

\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentuses{\\{{\nwixident{Id{\_}G}}{Id:unG}}\\{{\nwixident{Lm1}}{Lm1}}\\{{\nwixident{Lm2}}{Lm2}}}\nwindexuse{\nwixident{Id{\_}G}}{Id:unG}{NW1Nnu7l-37g7e5-1}\nwindexuse{\nwixident{Lm1}}{Lm1}{NW1Nnu7l-37g7e5-1}\nwindexuse{\nwixident{Lm2}}{Lm2}{NW1Nnu7l-37g7e5-1}\nwendcode{}\nwbegindocs{42}\nwdocspar

\begin{lemma}[Identity is injective]
For any group $G$, the identity morphism $\Id_{G}$ is injective.
\end{lemma}

The proof is straightforward since we've established (\S\ref{thm:characteristic:identity-endomorphism-is-identity-function}) the group
endomorphism $\Id_{G}$ coincides with the set-theoretic function $\id_{U(G)}$
on the underlying set $U(G)$ of the group $G$.

\nwenddocs{}\nwbegincode{43}\sublabel{NW1Nnu7l-17utZy-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-17utZy-1}}}\moddef{\code{}Id{\_}G\edoc{} is injective~{\nwtagstyle{}\subpageref{NW1Nnu7l-17utZy-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-37g7e5-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm1}{NW1Nnu7l-17utZy-1}: \nwlinkedidentc{Id_G}{NW1Nnu7l-27i33n-1} is one-to-one
proof
  id (the carrier of G) is one-to-one;
  hence thesis by \nwlinkedidentc{Th10}{NW1Nnu7l-4SFZrK-1};
end;

\nwindexdefn{\nwixident{Lm1}}{Lm1}{NW1Nnu7l-17utZy-1}\eatline
\nwused{\\{NW1Nnu7l-37g7e5-1}}\nwidentdefs{\\{{\nwixident{Lm1}}{Lm1}}}\nwidentuses{\\{{\nwixident{Id{\_}G}}{Id:unG}}\\{{\nwixident{Th10}}{Th10}}}\nwindexuse{\nwixident{Id{\_}G}}{Id:unG}{NW1Nnu7l-17utZy-1}\nwindexuse{\nwixident{Th10}}{Th10}{NW1Nnu7l-17utZy-1}\nwendcode{}\nwbegindocs{44}\nwdocspar
\begin{lemma}[Identity is surjective]
For any group $G$, the identity morphism $\Id_{G}$ is surjective.
\end{lemma}

As with establishing injectivity, it's straightforward.

\nwenddocs{}\nwbegincode{45}\sublabel{NW1Nnu7l-2Qowg2-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-2Qowg2-1}}}\moddef{\code{}Id{\_}G\edoc{} is surjective~{\nwtagstyle{}\subpageref{NW1Nnu7l-2Qowg2-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-37g7e5-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm2}{NW1Nnu7l-2Qowg2-1}: \nwlinkedidentc{Id_G}{NW1Nnu7l-27i33n-1} is onto
proof
  id (the carrier of G) is onto;
  hence thesis by \nwlinkedidentc{Th10}{NW1Nnu7l-4SFZrK-1};
end;

\nwindexdefn{\nwixident{Lm2}}{Lm2}{NW1Nnu7l-2Qowg2-1}\eatline
\nwused{\\{NW1Nnu7l-37g7e5-1}}\nwidentdefs{\\{{\nwixident{Lm2}}{Lm2}}}\nwidentuses{\\{{\nwixident{Id{\_}G}}{Id:unG}}\\{{\nwixident{Th10}}{Th10}}}\nwindexuse{\nwixident{Id{\_}G}}{Id:unG}{NW1Nnu7l-2Qowg2-1}\nwindexuse{\nwixident{Th10}}{Th10}{NW1Nnu7l-2Qowg2-1}\nwendcode{}\nwbegindocs{46}\nwdocspar
\begin{theorem}
  Let $H\subgroup G$ be any subgroup.
  If $\varphi\in\Aut(G)$ is an automorphism such that $\varphi(H)=H$ it
  leaves $H$ invariant, then its restriction to $H$ is an automorphism
  $\varphi|_{H}\in\Aut(H)$.
\end{theorem}

This result isn't surprising, but proving surjectivity was surprisingly
(and agonizingly) hard.

\nwenddocs{}\nwbegincode{47}\sublabel{NW1Nnu7l-1QHEJY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-1QHEJY-1}}}\moddef{Theorem: $\varphi\in\Aut(G)$ and $H\subgroup G$ such that $\varphi(H)=H$ implies $\varphi|H\in\Aut(H)$~{\nwtagstyle{}\subpageref{NW1Nnu7l-1QHEJY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th11}{NW1Nnu7l-1QHEJY-1}:
  for H being strict Subgroup of G
  for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
  st Image(f|H) = H
  holds f|H is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of H
proof
  let H be strict Subgroup of G;
  let f be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  assume A1: Image(f|H) = H;
  then C1: f|H is Homomorphism of H,H by GROUP_6:49;
  C2: f|H is one-to-one by A1, \nwlinkedidentc{Lm9}{NW1Nnu7l-2Beici-1};

  C3: f|H is onto \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of H
  \LA{}Proof: $\varphi|_{H}$ is surjective~{\nwtagstyle{}\subpageref{NW1Nnu7l-41Pxbq-1}}\RA{}
  then f|H is bijective Homomorphism of H,H by C2;
  then f|H is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of H;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th11}}{Th11}{NW1Nnu7l-1QHEJY-1}\eatline
\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwidentdefs{\\{{\nwixident{Th11}}{Th11}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Endomorphism}}{Endomorphism}}\\{{\nwixident{Lm9}}{Lm9}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW1Nnu7l-1QHEJY-1}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW1Nnu7l-1QHEJY-1}\nwindexuse{\nwixident{Lm9}}{Lm9}{NW1Nnu7l-1QHEJY-1}\nwendcode{}\nwbegindocs{48}\nwdocspar
\N{Proof of surjectivity}
For reasons I do not adequately understand, I could not simply handle
{\Tt{}f|H\nwendquote} as a {\Tt{}Homomorphism\ of\ H,H\nwendquote} (despite having established this
fact).

I could not use any theorem concerning surjectivity of group morphisms,
so I just ``forgot'' it was a morphism, proved surjectivity, then
``remembered'' it was a group morphism after all. I am starting to think
that the claim {\Tt{}f\ is\ onto\nwendquote} is different than {\Tt{}f\ is\ onto\ Homomorphism\ of\ G1,G2\nwendquote}.

\nwenddocs{}\nwbegincode{49}\sublabel{NW1Nnu7l-41Pxbq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW1Nnu7l-41Pxbq-1}}}\moddef{Proof: $\varphi|_{H}$ is surjective~{\nwtagstyle{}\subpageref{NW1Nnu7l-41Pxbq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-1QHEJY-1}}\nwenddeflinemarkup
proof
  set UH = the carrier of H;
  B1: f|H is Function of UH,UH by C1;
  rng(f|H) = the carrier of H by GROUP_6:44, A1;
  then f|H is onto Function of UH,UH by B1,FUNCT_2:def 3;
  then f|H is onto Homomorphism of H,H by C1;
  hence thesis;
end;

\nwused{\\{NW1Nnu7l-1QHEJY-1}}\nwendcode{}\nwbegindocs{50}\nwdocspar
\nwenddocs{}\nwfilename{nw/characteristic/inner.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\subsection{Inner Automorphisms}

\M
We can now organize our treatment of inner automorphisms.

\nwenddocs{}\nwbegincode{1}\sublabel{NW3Mfp8C-gMHRo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-gMHRo-1}}}\moddef{Results and definition for Inner automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-gMHRo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW1Nnu7l-32pmQO-1}}\nwenddeflinemarkup
\LA{}Define \code{}inner\edoc{} for Automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-13QmRM-1}}\RA{}
\LA{}Theorem: \code{}Id{\_}G\edoc{} is effectively inner~{\nwtagstyle{}\subpageref{NW3Mfp8C-ATJLl-1}}\RA{}
\LA{}Register \code{}inner\edoc{} for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-4IjmGJ-1}}\RA{}
\LA{}Theorem: Relate \code{}Automorphism\ of\ G\edoc{} to elements of \code{}Aut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2VuNZX-1}}\RA{}
\LA{}Theorem: $f$ in \code{}InnAut\ G\edoc{} iff $f$ is \code{}inner\ Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2gUxot-1}}\RA{}
\LA{}Theorem: inner automorphism acting on subgroup is conjugate of argument~{\nwtagstyle{}\subpageref{NW3Mfp8C-2zspfg-1}}\RA{}
\LA{}Theorem: Kernel of conjugation as endomorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-3fLhao-1}}\RA{}
\LA{}Theorem: Conjugation by fixed element is an automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-VBRVv-1}}\RA{}
\LA{}Corollary: conjugation of given element is an \emph{inner} automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-47V7KL-1}}\RA{}
\LA{}Theorem: constructing inner automorphisms from group elements~{\nwtagstyle{}\subpageref{NW3Mfp8C-arh13-1}}\RA{}
\LA{}Theorem: inner Automorphisms fix only normal Subgroups~{\nwtagstyle{}\subpageref{NW3Mfp8C-4Qqcti-1}}\RA{}

\nwused{\\{NW1Nnu7l-32pmQO-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\N{Definition: Inner Automorphism}\index{Automorphism!inner}\index{inner!Automorphism|see {Automorphism}}
We call a group automorphism $f\in\Aut(G)$ \define{inner} if there is a
group element $g\in G$ such that for all $x\in G$ we have $f(x) = x^{g} = g^{-1}xg$.
That is, $f$ is just conjugation by a fixed group element.

\nwenddocs{}\nwbegincode{3}\sublabel{NW3Mfp8C-13QmRM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-13QmRM-1}}}\moddef{Define \code{}inner\edoc{} for Automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-13QmRM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
definition :: \nwlinkedidentc{Def5}{NW3Mfp8C-13QmRM-1}
  let G;
  let IT be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  attr IT is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} means
  :\nwlinkedidentc{Def5}{NW3Mfp8C-13QmRM-1}:
  ex a being Element of G st
  for x being Element of G holds IT.x = x |^ a;
end;
\LA{}Outer as antonym of inner~{\nwtagstyle{}\subpageref{NW3Mfp8C-RgKDM-1}}\RA{}

\nwindexdefn{\nwixident{Def5}}{Def5}{NW3Mfp8C-13QmRM-1}\nwindexdefn{\nwixident{inner}}{inner}{NW3Mfp8C-13QmRM-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Def5}}{Def5}}\\{{\nwixident{inner}}{inner}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-13QmRM-1}\nwendcode{}\nwbegindocs{4}\nwdocspar
\M\index{Automorphism!outer} We also recall that an automorphism is called \define{Outer} if it is
not inner. Mizar let's us do this with the {\Tt{}antonym\nwendquote} construct within
a {\Tt{}notation\nwendquote} block.

\nwenddocs{}\nwbegincode{5}\sublabel{NW3Mfp8C-RgKDM-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-RgKDM-1}}}\moddef{Outer as antonym of inner~{\nwtagstyle{}\subpageref{NW3Mfp8C-RgKDM-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-13QmRM-1}}\nwenddeflinemarkup
notation
  let G be Group, f be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  antonym f is \nwlinkedidentc{outer}{NW3Mfp8C-RgKDM-1} for f is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1};
end;

\nwindexdefn{\nwixident{outer}}{outer}{NW3Mfp8C-RgKDM-1}\eatline
\nwused{\\{NW3Mfp8C-13QmRM-1}}\nwidentdefs{\\{{\nwixident{outer}}{outer}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-RgKDM-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-RgKDM-1}\nwendcode{}\nwbegindocs{6}\nwdocspar
\N{Update our vocabular file}
Before rushing off to prove properties concerning inner and outer
automorphisms, we should add the attributes to our vocabulary file.


\nwenddocs{}\nwbegincode{7}\sublabel{NW3Mfp8C-4FyAEL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-4FyAEL-1}}}\moddef{DICT/CHAR.VOC~{\nwtagstyle{}\subpageref{NW1Nnu7l-4FyAEL-1}}}\plusendmoddef\nwstartdeflinemarkup\nwprevnextdefs{NW1Nnu7l-4FyAEL-1}{\relax}\nwenddeflinemarkup
Vinner
Vouter

\nwendcode{}\nwbegindocs{8}\nwdocspar

\N{Theorem: $\Id_{G}$ is effectively inner}\label{thm:characteristic:id-inner}
We will be registering ``inner'' as an attribute for ``Automorphism
of $G$''. This will require proving that there exists an inner
Automorphism of $G$. I've found the trivial examples are often best for
establishing the existence of such things, so we will prove {\Tt{}Id\ G\nwendquote} is
an inner Automorphism. This uses the fact, if $e\in G$ is the identity
element, then for any $g\in G$ we have conjugation $g^{e} = e^{-1}ge=g$
(proven in Theorem~19 of {\Tt{}GROUP{\_}3\nwendquote}).

\nwenddocs{}\nwbegincode{9}\sublabel{NW3Mfp8C-ATJLl-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-ATJLl-1}}}\moddef{Theorem: \code{}Id{\_}G\edoc{} is effectively inner~{\nwtagstyle{}\subpageref{NW3Mfp8C-ATJLl-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th12}{NW3Mfp8C-ATJLl-1}:
  for x being Element of G holds (\nwlinkedidentc{Id_G}{NW1Nnu7l-27i33n-1}).x = x |^ 1_G
proof
  let x be Element of G;
  (\nwlinkedidentc{Id_G}{NW1Nnu7l-27i33n-1}).x = x by \nwlinkedidentc{Def3}{NW1Nnu7l-27i33n-1}
          .= x |^ 1_G by GROUP_3:19;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th12}}{Th12}{NW3Mfp8C-ATJLl-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Th12}}{Th12}}}\nwidentuses{\\{{\nwixident{Def3}}{Def3}}\\{{\nwixident{Id{\_}G}}{Id:unG}}}\nwindexuse{\nwixident{Def3}}{Def3}{NW3Mfp8C-ATJLl-1}\nwindexuse{\nwixident{Id{\_}G}}{Id:unG}{NW3Mfp8C-ATJLl-1}\nwendcode{}\nwbegindocs{10}\nwdocspar
\M Now registering {\Tt{}\nwlinkedidentq{inner}{NW3Mfp8C-13QmRM-1}\nwendquote} for {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\nwendquote}.

\nwenddocs{}\nwbegincode{11}\sublabel{NW3Mfp8C-4IjmGJ-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-4IjmGJ-1}}}\moddef{Register \code{}inner\edoc{} for \code{}Automorphism\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-4IjmGJ-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
registration
  let G;
  cluster \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} for \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  existence
  \LA{}Proof of existence of an inner Automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-9idpO-1}}\RA{}
end;

\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-4IjmGJ-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-4IjmGJ-1}\nwendcode{}\nwbegindocs{12}\nwdocspar

\N{Proof} The proof is a two punch knock-out. We take {\Tt{}\nwlinkedidentq{Id{\_}G}{NW1Nnu7l-27i33n-1}\nwendquote} to be the
morphism, {\Tt{}1{\_}g\nwendquote} the group's identity element to be the element
{\Tt{}\nwlinkedidentq{Id{\_}G}{NW1Nnu7l-27i33n-1}\nwendquote} conjugates by, then from earlier (\S\ref{thm:characteristic:id-inner})
we have {\Tt{}\nwlinkedidentq{Id{\_}G}{NW1Nnu7l-27i33n-1}\nwendquote} be inner.

\nwenddocs{}\nwbegincode{13}\sublabel{NW3Mfp8C-9idpO-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-9idpO-1}}}\moddef{Proof of existence of an inner Automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-9idpO-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-4IjmGJ-1}}\nwenddeflinemarkup
proof
  take \nwlinkedidentc{Id_G}{NW1Nnu7l-27i33n-1};
  take 1_G;
  thus thesis by \nwlinkedidentc{Th12}{NW3Mfp8C-ATJLl-1};
end;

\nwused{\\{NW3Mfp8C-4IjmGJ-1}}\nwidentuses{\\{{\nwixident{Id{\_}G}}{Id:unG}}\\{{\nwixident{Th12}}{Th12}}}\nwindexuse{\nwixident{Id{\_}G}}{Id:unG}{NW3Mfp8C-9idpO-1}\nwindexuse{\nwixident{Th12}}{Th12}{NW3Mfp8C-9idpO-1}\nwendcode{}\nwbegindocs{14}\nwdocspar

\N{Theorem ($f\in\aut(G)\iff f$ is {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\ of\ G\nwendquote})}
Mizar has {\Tt{}AUTGROUP\nwendquote}, an article which defines {\Tt{}Aut\ G\nwendquote} the
collection of functions on the underlying set $U(G)$ of a group $G$. We
can prove that $f\in\aut(G)$ if and only if $f$ is {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\ of\ G\nwendquote}.

\nwenddocs{}\nwbegincode{15}\sublabel{NW3Mfp8C-2VuNZX-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-2VuNZX-1}}}\moddef{Theorem: Relate \code{}Automorphism\ of\ G\edoc{} to elements of \code{}Aut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2VuNZX-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th13}{NW3Mfp8C-2VuNZX-1}:
  for G being strict Group, f being object
  holds (f in Aut G) iff (f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G)
proof
  let G be strict Group;
  let f be object;
  thus f in Aut G implies f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
  \LA{}Proof $f\in\aut(G)\implies f$ is \code{}Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-wlMQo-1}}\RA{}
  thus f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G implies f in Aut G
  \LA{}Proof $f\in\aut(G)\impliedby f$ is \code{}Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-21iyLo-1}}\RA{}
  thus thesis;
end;

\nwindexdefn{\nwixident{Th13}}{Th13}{NW3Mfp8C-2VuNZX-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Th13}}{Th13}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-2VuNZX-1}\nwendcode{}\nwbegindocs{16}\nwdocspar
\N{Proof forwards direction} The forward direction is
straightforward. The only subtlety is, since we didn't assume anything
about $f$, we should establish it's an endomorphism of $G$ along the way,

\nwenddocs{}\nwbegincode{17}\sublabel{NW3Mfp8C-wlMQo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-wlMQo-1}}}\moddef{Proof $f\in\aut(G)\implies f$ is \code{}Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-wlMQo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2VuNZX-1}}\nwenddeflinemarkup
proof
  assume A1: f in Aut G;
  then reconsider f as \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G by AUTGROUP:def 1;
  f is bijective by A1,AUTGROUP:def 1;
  then f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  hence thesis;
end;

\nwused{\\{NW3Mfp8C-2VuNZX-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-wlMQo-1}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-wlMQo-1}\nwendcode{}\nwbegindocs{18}\nwdocspar

\N{Proof backwards direction} The backwards direction is nearly
identical to the forwards direction proof.

\nwenddocs{}\nwbegincode{19}\sublabel{NW3Mfp8C-21iyLo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-21iyLo-1}}}\moddef{Proof $f\in\aut(G)\impliedby f$ is \code{}Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-21iyLo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2VuNZX-1}}\nwenddeflinemarkup
proof
  assume f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  then reconsider f as \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  f is bijective;
  then f in Aut G by AUTGROUP:def 1;
  hence thesis;
end;

\nwused{\\{NW3Mfp8C-2VuNZX-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-21iyLo-1}\nwendcode{}\nwbegindocs{20}\nwdocspar

\N{Inner automorphisms are inner automorphisms}
We can relate the notion of an {\Tt{}\nwlinkedidentq{inner}{NW3Mfp8C-13QmRM-1}\ \nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\ of\ G\nwendquote} with elements
of {\Tt{}InnAut\ G\nwendquote} from {\Tt{}AUTGROUP\nwendquote}. The only peculiarity is that
{\Tt{}AUTGROUP\nwendquote} requires $G$ to be a \emph{strict} group.

\nwenddocs{}\nwbegincode{21}\sublabel{NW3Mfp8C-2gUxot-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-2gUxot-1}}}\moddef{Theorem: $f$ in \code{}InnAut\ G\edoc{} iff $f$ is \code{}inner\ Automorphism\ of\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2gUxot-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
\LA{}Lemma: Elements of \code{}InnAut\ G\edoc{} are automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-3eJW7Q-1}}\RA{}

theorem \nwlinkedidentc{Th14}{NW3Mfp8C-2gUxot-1}:
  for G being strict Group
  for f being object
  holds (f in InnAut G) iff (f is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G)
proof
  let G be strict Group;
  let f be object;
  thus (f in InnAut G) implies (f is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G)
  \LA{}Proof $f$ is in \code{}InnAut\ G\edoc{} $\implies$ ($f$ is inner automorphism)~{\nwtagstyle{}\subpageref{NW3Mfp8C-18aBqf-1}}\RA{}
  thus (f is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G) implies (f in InnAut G)
  \LA{}Proof ($f$ is inner automorphism) $\implies$ $f$ is in \code{}InnAut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2maG0l-1}}\RA{}
  thus thesis;
end;

\nwindexdefn{\nwixident{Th14}}{Th14}{NW3Mfp8C-2gUxot-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Th14}}{Th14}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-2gUxot-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-2gUxot-1}\nwendcode{}\nwbegindocs{22}\nwdocspar
\N{Proof in forwards direction} The proof amounts to unwinding
definitions, but the subtlety is in first reconsidering $f$ as an
Automorphism of $G$ thanks to our handy-dandy lemma.

\nwenddocs{}\nwbegincode{23}\sublabel{NW3Mfp8C-18aBqf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-18aBqf-1}}}\moddef{Proof $f$ is in \code{}InnAut\ G\edoc{} $\implies$ ($f$ is inner automorphism)~{\nwtagstyle{}\subpageref{NW3Mfp8C-18aBqf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2gUxot-1}}\nwenddeflinemarkup
proof
  assume A1: f in InnAut G;
  then f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G by \nwlinkedidentc{Lm4}{NW3Mfp8C-3eJW7Q-1};
  then reconsider f as \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  f is Element of Funcs (the carrier of G, the carrier of G) by FUNCT_2:9;
  then consider a being Element of G such that
  A2: for x being Element of G holds f.x = x |^ a
  by A1,AUTGROUP:def 4;
  f is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G by \nwlinkedidentc{Def5}{NW3Mfp8C-13QmRM-1},A2;
  hence thesis;
end;

\nwused{\\{NW3Mfp8C-2gUxot-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Def5}}{Def5}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Lm4}}{Lm4}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-18aBqf-1}\nwindexuse{\nwixident{Def5}}{Def5}{NW3Mfp8C-18aBqf-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-18aBqf-1}\nwindexuse{\nwixident{Lm4}}{Lm4}{NW3Mfp8C-18aBqf-1}\nwendcode{}\nwbegindocs{24}\nwdocspar

\N{Proof in backwards direction}
This is again unwinding the definitions. The same subtlety lurks here,
requiring us to reconsider $f$ as an inner automorphism of $G$.

\nwenddocs{}\nwbegincode{25}\sublabel{NW3Mfp8C-2maG0l-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-2maG0l-1}}}\moddef{Proof ($f$ is inner automorphism) $\implies$ $f$ is in \code{}InnAut\ G\edoc{}~{\nwtagstyle{}\subpageref{NW3Mfp8C-2maG0l-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2gUxot-1}}\nwenddeflinemarkup
proof
  assume B1: f is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  then reconsider f as \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  f is Element of Aut G by B1,\nwlinkedidentc{Th13}{NW3Mfp8C-2VuNZX-1};
  then consider a being Element of G such that
  B2: for x being Element of G holds f.x = x |^ a
  by B1,\nwlinkedidentc{Def5}{NW3Mfp8C-13QmRM-1};
  f is Element of Funcs (the carrier of G, the carrier of G) by FUNCT_2:9;
  then f in InnAut G by B2,AUTGROUP:def 4;
  hence thesis;
end;

\nwused{\\{NW3Mfp8C-2gUxot-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Def5}}{Def5}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th13}}{Th13}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-2maG0l-1}\nwindexuse{\nwixident{Def5}}{Def5}{NW3Mfp8C-2maG0l-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-2maG0l-1}\nwindexuse{\nwixident{Th13}}{Th13}{NW3Mfp8C-2maG0l-1}\nwendcode{}\nwbegindocs{26}\nwdocspar

\M
It's relatively straightforward to show that if $f$ is an element of
{\Tt{}InnAut\ G\nwendquote}, then $f$ is an {\Tt{}\nwlinkedidentq{Automorphism}{NW1Nnu7l-4WeeL5-1}\ of\ G\nwendquote}. We just unwind the
definitions.

\nwenddocs{}\nwbegincode{27}\sublabel{NW3Mfp8C-3eJW7Q-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-3eJW7Q-1}}}\moddef{Lemma: Elements of \code{}InnAut\ G\edoc{} are automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-3eJW7Q-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2gUxot-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm4}{NW3Mfp8C-3eJW7Q-1}:
  for G being strict Group
  for f being Element of InnAut G
  holds f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
proof
  let G be strict Group;
  let f be Element of InnAut G;
  f is Element of Aut G by AUTGROUP:12;
  then f in Aut G;
  hence f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G by \nwlinkedidentc{Th13}{NW3Mfp8C-2VuNZX-1};
end;

\nwindexdefn{\nwixident{Lm4}}{Lm4}{NW3Mfp8C-3eJW7Q-1}\eatline
\nwused{\\{NW3Mfp8C-2gUxot-1}}\nwidentdefs{\\{{\nwixident{Lm4}}{Lm4}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Th13}}{Th13}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-3eJW7Q-1}\nwindexuse{\nwixident{Th13}}{Th13}{NW3Mfp8C-3eJW7Q-1}\nwendcode{}\nwbegindocs{28}\nwdocspar
\begin{theorem}
Given any element $a\in G$, and any inner automorphism $f$ of $G$ such
that $\forall x\in G, f(x) = x^{a} = a^{-1}xa$, it follows that the
image of a subgroup under $f$ is the conjugate of that subgroup
$f(H) = H^{a}$.
\end{theorem}

\nwenddocs{}\nwbegincode{29}\sublabel{NW3Mfp8C-2zspfg-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-2zspfg-1}}}\moddef{Theorem: inner automorphism acting on subgroup is conjugate of argument~{\nwtagstyle{}\subpageref{NW3Mfp8C-2zspfg-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th15}{NW3Mfp8C-2zspfg-1}:
  for H being Subgroup of G
  for a being Element of G
  for f being \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
  st (for x being Element of G holds f.x = x |^ a)
  holds Image(f|H) = H |^ a
proof
  let H be Subgroup of G,
      a be Element of G,
      f be \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  assume
A1: for x being Element of G holds f.x = x |^ a;
C1: for h being Element of G st h in H holds (f|H).h = h |^ a
  proof
    let h be Element of G;
    assume h in H;
    then Z1: f.h = (f|H).h by \nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1};
    f.h = h |^ a by A1;
    hence (f|H).h = h |^ a by Z1;
  end;

C2: for y being Element of G st y in Image(f|H) holds y in H |^ a
  \LA{}Proof $\forall y\in G, y\in f(H)\implies y\in H^{a}$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1BjobC-1}}\RA{}
C3: for y being Element of G st y in H |^ a holds y in Image(f|H)
  \LA{}Proof $\forall y\in G, y \in H^{a}\implies y\in f(H)$~{\nwtagstyle{}\subpageref{NW3Mfp8C-AZduT-1}}\RA{}
  for y being Element of G holds y in (H |^ a) iff y in Image(f|H) by C2,C3;
  then (H |^ a) = Image(f|H) by GROUP_2:def 6;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th15}}{Th15}{NW3Mfp8C-2zspfg-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Th15}}{Th15}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Lm3}}{Lm3}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-2zspfg-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-2zspfg-1}\nwindexuse{\nwixident{Lm3}}{Lm3}{NW3Mfp8C-2zspfg-1}\nwendcode{}\nwbegindocs{30}\nwdocspar
\nwenddocs{}\nwbegincode{31}\sublabel{NW3Mfp8C-1BjobC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-1BjobC-1}}}\moddef{Proof $\forall y\in G, y\in f(H)\implies y\in H^{a}$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1BjobC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2zspfg-1}}\nwenddeflinemarkup
proof
  let y be Element of G;
  assume y in Image(f|H);
  then consider h being Element of H such that
  AA1: (f|H).h = y by GROUP_6:45;
  h is Element of G by GROUP_2:42;
  then reconsider h as Element of G;
  AA2: h in H by STRUCT_0:def 5;
  then (f|H).h = h |^ a by C1;
  then y = h |^ a by AA1;
  then y = h |^ a & h in H by AA2;
  then y in H |^ a by GROUP_3:58;
  hence thesis;
end;

\nwused{\\{NW3Mfp8C-2zspfg-1}}\nwendcode{}\nwbegindocs{32}\nwdocspar


\nwenddocs{}\nwbegincode{33}\sublabel{NW3Mfp8C-AZduT-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-AZduT-1}}}\moddef{Proof $\forall y\in G, y \in H^{a}\implies y\in f(H)$~{\nwtagstyle{}\subpageref{NW3Mfp8C-AZduT-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-2zspfg-1}}\nwenddeflinemarkup
proof
  let y be Element of G;
  assume y in H |^ a;
  then ex g being Element of G st y = g |^ a & g in H by GROUP_3:58;
  then consider g being Element of G such that
  AB1:    y=g|^a and
  AB2:    g in H;

AB3:  (f|H).g = f.g by \nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1},AB2
             .= g |^ a by A1
             .= y by AB1;
  reconsider g as Element of H by AB2,\nwlinkedidentc{LmSubgroupElt}{NW18nMBU-4DvAms-1};
  reconsider fH = (f|H) as Homomorphism of H,G;
  fH.g = y by AB3;
  hence y in Image(f|H) by GROUP_6:45;
end;

\nwused{\\{NW3Mfp8C-2zspfg-1}}\nwidentuses{\\{{\nwixident{Lm3}}{Lm3}}\\{{\nwixident{LmSubgroupElt}}{LmSubgroupElt}}}\nwindexuse{\nwixident{Lm3}}{Lm3}{NW3Mfp8C-AZduT-1}\nwindexuse{\nwixident{LmSubgroupElt}}{LmSubgroupElt}{NW3Mfp8C-AZduT-1}\nwendcode{}\nwbegindocs{34}\nwdocspar

\begin{theorem}
Let $G$ be a group, $f\in\Inn(G)$ be an inner automorphism.
Then $\ker(f)=\trivialSubgroup_{G}$.
\end{theorem}

We will prove something a little
more general, namely, any endomorphism $f\colon G\to G$ defined by
$f(x)=x^{a}$ (for some fixed $a\in G$) will have a trivial kernel.

\nwenddocs{}\nwbegincode{35}\sublabel{NW3Mfp8C-3fLhao-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-3fLhao-1}}}\moddef{Theorem: Kernel of conjugation as endomorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-3fLhao-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th16}{NW3Mfp8C-3fLhao-1}:
  for a being Element of G
  for f being \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G
  st (for x being Element of G holds f.x = x |^ a)
  holds Ker f = (1).G
proof
  let a be Element of G;
  let f be \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;
  assume A1: for x being Element of G holds f.x = x |^ a;
C1:  for x being Element of G holds x in Ker f implies x in (1).G
  \LA{}Proof $\ker(f)\subset\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1msO16-1}}\RA{}

C2:  for x being Element of G holds x in (1).G implies x in Ker f
  \LA{}Proof $\trivialSubgroup\subset\ker(f)$~{\nwtagstyle{}\subpageref{NW3Mfp8C-12vITF-1}}\RA{}
  thus Ker f = (1).G by C1,C2,GROUP_2:60;
end;

\nwindexdefn{\nwixident{Th16}}{Th16}{NW3Mfp8C-3fLhao-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Th16}}{Th16}}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-3fLhao-1}\nwendcode{}\nwbegindocs{36}\nwdocspar
\nwenddocs{}\nwbegincode{37}\sublabel{NW3Mfp8C-12vITF-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-12vITF-1}}}\moddef{Proof $\trivialSubgroup\subset\ker(f)$~{\nwtagstyle{}\subpageref{NW3Mfp8C-12vITF-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-3fLhao-1}}\nwenddeflinemarkup
proof
  let x be Element of G;
  assume x in (1).G;
  then x is Element of (1).G by \nwlinkedidentc{LmSubgroupElt}{NW18nMBU-4DvAms-1};
  then x in the carrier of (1).G;
  then x in \{1_G\} by GROUP_2:def 7;
  then x = 1_G by TARSKI:def 1;
  then f.x = 1_G by GROUP_6:31;
  then x in Ker f by GROUP_6:41;
  hence thesis;
end;

\nwused{\\{NW3Mfp8C-3fLhao-1}}\nwidentuses{\\{{\nwixident{LmSubgroupElt}}{LmSubgroupElt}}}\nwindexuse{\nwixident{LmSubgroupElt}}{LmSubgroupElt}{NW3Mfp8C-12vITF-1}\nwendcode{}\nwbegindocs{38}\nwdocspar

\nwenddocs{}\nwbegincode{39}\sublabel{NW3Mfp8C-1msO16-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-1msO16-1}}}\moddef{Proof $\ker(f)\subset\trivialSubgroup$~{\nwtagstyle{}\subpageref{NW3Mfp8C-1msO16-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-3fLhao-1}}\nwenddeflinemarkup
proof
  let x be Element of G;
  assume x in Ker f;
  then f.x = 1_G by GROUP_6:41;
  then x |^ a = 1_G by A1;
  then B1: x = 1_G by A1,GROUP_3:18,GROUP_6:41;
  the carrier of (1).G = \{1_G\} by GROUP_2:def 7;
  then 1_G in the carrier of (1).G by TARSKI:def 1;
  then x in the carrier of (1).G by B1;
  then x in (1).G by STRUCT_0:def 5;
  hence thesis;
end;

\nwused{\\{NW3Mfp8C-3fLhao-1}}\nwendcode{}\nwbegindocs{40}\nwdocspar

\begin{theorem}[Conjugation by fixed element is an automorphism]
Let $G$ be a group, $a\in G$ a fixed element.
The endomorphism $f\colon G\to G$ defined by $f(x)=x^{a}$ is, in fact,
an automorphism of $G$.
\end{theorem}

\nwenddocs{}\nwbegincode{41}\sublabel{NW3Mfp8C-VBRVv-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-VBRVv-1}}}\moddef{Theorem: Conjugation by fixed element is an automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-VBRVv-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th17}{NW3Mfp8C-VBRVv-1}:
  for a being Element of G
  for f being \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G
  st (for x being Element of G holds f.x = x |^ a)
  holds f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
proof
  let a be Element of G;
  let f be \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;
  assume A0: for x being Element of G holds f.x = x |^ a;
  then Ker f = (1).G by \nwlinkedidentc{Th16}{NW3Mfp8C-3fLhao-1};
  then
C0: f is one-to-one by GROUP_6:56;
C2:  ex fInv being \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G st f*fInv = id (the carrier of G)
  \LA{}Proof an endomorphism $f^{-1}$ exists~{\nwtagstyle{}\subpageref{NW3Mfp8C-a3qbq-1}}\RA{}

  then rng f = the carrier of G by FUNCT_2:18;
  then f is onto by GROUP_6:58;
  then f is bijective by C0;
  then f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th17}}{Th17}{NW3Mfp8C-VBRVv-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Th17}}{Th17}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Endomorphism}}{Endomorphism}}\\{{\nwixident{Th16}}{Th16}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-VBRVv-1}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-VBRVv-1}\nwindexuse{\nwixident{Th16}}{Th16}{NW3Mfp8C-VBRVv-1}\nwendcode{}\nwbegindocs{42}\nwdocspar
\N{Proof an inverse exists}
This is the long part of the proof, its length owing to showing every
detail.

\nwenddocs{}\nwbegincode{43}\sublabel{NW3Mfp8C-a3qbq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-a3qbq-1}}}\moddef{Proof an endomorphism $f^{-1}$ exists~{\nwtagstyle{}\subpageref{NW3Mfp8C-a3qbq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-VBRVv-1}}\nwenddeflinemarkup
proof
  deffunc F(Element of G) = ($1) |^ a";
  consider fInv be Function of the carrier of G, the carrier of G such that
A1: for g being Element of G holds fInv.g = F(g) from FUNCT_2:sch 4;
  fInv is Element of Funcs(the carrier of G, the carrier of G) by FUNCT_2:8;
A2: \LA{}Establish $f^{-1}$ is an Endomorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-lTiQo-1}}\RA{}
  \LA{}Establish $f^{-1}$ is the inverse function of $f$~{\nwtagstyle{}\subpageref{NW3Mfp8C-oixct-1}}\RA{}
  hence thesis;
end;

\nwused{\\{NW3Mfp8C-VBRVv-1}}\nwendcode{}\nwbegindocs{44}\nwdocspar

\N{Sub-Proof: $f^{-1}$ is the inverse of $f$}
The proof is straightforward, simply compose the functions together and
show we get the identity function. We just have to unwind a lot of
definitions.

\nwenddocs{}\nwbegincode{45}\sublabel{NW3Mfp8C-oixct-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-oixct-1}}}\moddef{Establish $f^{-1}$ is the inverse function of $f$~{\nwtagstyle{}\subpageref{NW3Mfp8C-oixct-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-a3qbq-1}}\nwenddeflinemarkup
for x being Element of G holds (f*fInv).x = (id the carrier of G).x
proof
  let x be Element of G;
  (f * fInv).x = f.(fInv.x) by FUNCT_2:15
              .= f.(x |^ a") by A1
              .= (x |^ a") |^ a by A0
              .= x |^ (a" * a) by GROUP_3:24
              .= x |^ 1_G by GROUP_1:def 5
              .= x by GROUP_3:19
              .= (id the carrier of G).x;
  hence thesis;
end;
then f*fInv = id the carrier of G by FUNCT_1:2;

\nwused{\\{NW3Mfp8C-a3qbq-1}}\nwendcode{}\nwbegindocs{46}\nwdocspar

\N{Sub-Proof $f^{-1}$ is a group endomorphism}
We need to establish $f^{-1}$ is multiplicative, i.e.,
$f^{-1}(x_{1}x_{2}) = f^{-1}(x_{1})f^{-1}(x_{2})$. The heavy-lifting has
been done in {\Tt{}GROUP{\_}3\nwendquote}.

\nwenddocs{}\nwbegincode{47}\sublabel{NW3Mfp8C-lTiQo-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-lTiQo-1}}}\moddef{Establish $f^{-1}$ is an Endomorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-lTiQo-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-a3qbq-1}}\nwenddeflinemarkup
for x1,x2 being Element of G holds fInv.(x1 * x2) = fInv.x1 * fInv.x2
proof
  let x1,x2 be Element of G;
  A21: fInv.x1 = x1 |^ a" & fInv.x2 = x2 |^ a" by A1;
  fInv.(x1 * x2) = (x1 * x2) |^ a" by A1
                .= (x1 |^ a") * (x2 |^ a") by GROUP_3:23
                .= fInv.x1 * fInv.x2 by A21;
  hence thesis;
end;
then fInv is multiplicative by GROUP_3:23, GROUP_6:def 6;
then fInv is \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;
then reconsider fInv as \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;

\nwused{\\{NW3Mfp8C-a3qbq-1}}\nwidentuses{\\{{\nwixident{Endomorphism}}{Endomorphism}}}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-lTiQo-1}\nwendcode{}\nwbegindocs{48}\nwdocspar

\begin{corollary}
Given a group element $a\in G$, we can always construct an
inner automorphism $f\in\Inn(G)$ defined by
$\forall x\in G,f(x)=x^{a}=a^{-1}xa$ conjugation by $a$.
\end{corollary}

\nwenddocs{}\nwbegincode{49}\sublabel{NW3Mfp8C-47V7KL-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-47V7KL-1}}}\moddef{Corollary: conjugation of given element is an \emph{inner} automorphism~{\nwtagstyle{}\subpageref{NW3Mfp8C-47V7KL-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th18}{NW3Mfp8C-47V7KL-1}:
  for a being Element of G
  for f being \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G
  st (for x being Element of G holds f.x = x |^ a)
  holds f is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
proof
  let a be Element of G;
  let f be \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;
  assume A0: for x being Element of G holds f.x = x |^ a;
  then f is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G by \nwlinkedidentc{Th17}{NW3Mfp8C-VBRVv-1};
  then f is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G by A0,\nwlinkedidentc{Def5}{NW3Mfp8C-13QmRM-1};
  hence thesis;
end;

\nwindexdefn{\nwixident{Th18}}{Th18}{NW3Mfp8C-47V7KL-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Th18}}{Th18}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Def5}}{Def5}}\\{{\nwixident{Endomorphism}}{Endomorphism}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th17}}{Th17}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-47V7KL-1}\nwindexuse{\nwixident{Def5}}{Def5}{NW3Mfp8C-47V7KL-1}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-47V7KL-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-47V7KL-1}\nwindexuse{\nwixident{Th17}}{Th17}{NW3Mfp8C-47V7KL-1}\nwendcode{}\nwbegindocs{50}\nwdocspar
\N{Constructing inner automorphisms from group elements}
Given a group $G$ and suppose we have an element $a\in G$, can we
construct an inner automorphism $f\in\Inn(G)$ such that
$\forall x\in G, f(x) = x^{a}$? Yes, we can do it!
A wiser way to organize these results may be to first show such an $f$
is an Endomorphism and it exists, then use that result in the proof that
it's an automorphism, and so on.

\nwenddocs{}\nwbegincode{51}\sublabel{NW3Mfp8C-arh13-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-arh13-1}}}\moddef{Theorem: constructing inner automorphisms from group elements~{\nwtagstyle{}\subpageref{NW3Mfp8C-arh13-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th19}{NW3Mfp8C-arh13-1}:
  for a being Element of G
  holds ex f being \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G st (for x being Element of G
  holds f.x = x |^ a)
proof
  let a be Element of G;
  deffunc F(Element of G) = ($1) |^ a;
  consider f be Function of the carrier of G, the carrier of G such that
A1: for g being Element of G holds f.g = F(g) from FUNCT_2:sch 4;
  f is Element of Funcs(the carrier of G, the carrier of G) by FUNCT_2:8;
  for x1,x2 being Element of G holds f.(x1 * x2) = f.x1 * f.x2
  proof
    let x1,x2 be Element of G;
    A2: f.x1 = x1 |^ a & f.x2 = x2 |^ a by A1;
    f.(x1 * x2) = (x1 * x2) |^ a by A1
               .= (x1 |^ a) * (x2 |^ a) by GROUP_3:23
               .= f.x1 * f.x2 by A2;
    hence thesis;
  end;
  then f is multiplicative by GROUP_3:23, GROUP_6:def 6;
  then f is \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;
  then reconsider f as \nwlinkedidentc{Endomorphism}{NW1Nnu7l-17cKlQ-1} of G;
C1: f is \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G by A1,\nwlinkedidentc{Th18}{NW3Mfp8C-47V7KL-1};
  for x being Element of G holds f.x = x |^ a by A1;
  hence thesis by C1;
end;

\nwindexdefn{\nwixident{Th19}}{Th19}{NW3Mfp8C-arh13-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Th19}}{Th19}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Endomorphism}}{Endomorphism}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th18}}{Th18}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-arh13-1}\nwindexuse{\nwixident{Endomorphism}}{Endomorphism}{NW3Mfp8C-arh13-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-arh13-1}\nwindexuse{\nwixident{Th18}}{Th18}{NW3Mfp8C-arh13-1}\nwendcode{}\nwbegindocs{52}\nwdocspar
\begin{theorem}
  Let $H\subgroup G$ be an arbitrary subgroup.
  Then $\forall\varphi\in\Inn(G),\varphi(H)=H$ if and only if
  $H\normalSubgroup G$.
\end{theorem}

This is another, ``Well, I guess Mizar should have this, but I can't
find it, so here we go!''-type proof. The only quirk is the use of
{\Tt{}strict\ Subgroup\nwendquote}, which is necessary because otherwise {\Tt{}H\ |{\char94}\ a\nwendquote} is
strictly speaking a {\Tt{}multMagma\nwendquote}, not a subgroup. And to assert two
subgroups are equal, we need a {\Tt{}strict\nwendquote} subgroup, which requires
adding a {\Tt{}strict\nwendquote} hypothesis.

\nwenddocs{}\nwbegincode{53}\sublabel{NW3Mfp8C-4Qqcti-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-4Qqcti-1}}}\moddef{Theorem: inner Automorphisms fix only normal Subgroups~{\nwtagstyle{}\subpageref{NW3Mfp8C-4Qqcti-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-gMHRo-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th20}{NW3Mfp8C-4Qqcti-1}:
  for H being strict Subgroup of G
  holds (H is normal) iff (for f being \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G holds Image(f|H)=H)
proof
  let H be strict Subgroup of G;
  \LA{}Proof: normal implies fixed by inner automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-ZiHjv-1}}\RA{}
  \LA{}Proof by contradiction: fixed by inner automorphisms implies normal~{\nwtagstyle{}\subpageref{NW3Mfp8C-3U116k-1}}\RA{}
  thus thesis by C1,C2;
end;

\nwindexdefn{\nwixident{Th20}}{Th20}{NW3Mfp8C-4Qqcti-1}\eatline
\nwused{\\{NW3Mfp8C-gMHRo-1}}\nwidentdefs{\\{{\nwixident{Th20}}{Th20}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-4Qqcti-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-4Qqcti-1}\nwendcode{}\nwbegindocs{54}\nwdocspar
\begin{remark}[On \texttt{strict} hypothesis]
The {\Tt{}strict\nwendquote} condition is necessary to prove $H\normalSubgroup G$
implies $\forall\varphi\in\Inn(G),\varphi(H)=H$. Otherwise, we end up
with the slightly peculiar situation where $\varphi(H) = $
{\Tt{}the\ multMagma\ of\ \nwendquote}$H$, which isn't terrible, but requires additional
steps later on in proving ``$K\subgroup N$ is characteristic and
$N\normalSubgroup G$ is {\Tt{}strict\nwendquote} normal implies $K\normalSubgroup G$.''
\end{remark}

\nwenddocs{}\nwbegincode{55}\sublabel{NW3Mfp8C-ZiHjv-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-ZiHjv-1}}}\moddef{Proof: normal implies fixed by inner automorphisms~{\nwtagstyle{}\subpageref{NW3Mfp8C-ZiHjv-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-4Qqcti-1}}\nwenddeflinemarkup
C1: (H is normal) implies (for f being \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G holds Image(f|H)=H)
proof
  assume A0: H is normal;
  let f be \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
  consider a being Element of G such that
  A1: for x being Element of G holds f.x = x |^ a
  by \nwlinkedidentc{Def5}{NW3Mfp8C-13QmRM-1};
  A2: Image(f|H) = H |^ a by A1,\nwlinkedidentc{Th15}{NW3Mfp8C-2zspfg-1};
  H |^ a = the multMagma of H by A0,GROUP_3:def 13
        .= H by GROUP_2:def 6;
  then Image(f|H)=H by A2;
  hence thesis;
end;

\nwused{\\{NW3Mfp8C-4Qqcti-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Def5}}{Def5}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th15}}{Th15}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-ZiHjv-1}\nwindexuse{\nwixident{Def5}}{Def5}{NW3Mfp8C-ZiHjv-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-ZiHjv-1}\nwindexuse{\nwixident{Th15}}{Th15}{NW3Mfp8C-ZiHjv-1}\nwendcode{}\nwbegindocs{56}\nwdocspar

\M Mizar's proof by contradiction is rather curious. If we want to prove
$P\implies Q$ by contradiction, we assert $\neg(P\implies
Q)\implies\bot$. The proof we offer is about as satisfying as any other
proof by contradiction.

\nwenddocs{}\nwbegincode{57}\sublabel{NW3Mfp8C-3U116k-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW3Mfp8C-3U116k-1}}}\moddef{Proof by contradiction: fixed by inner automorphisms implies normal~{\nwtagstyle{}\subpageref{NW3Mfp8C-3U116k-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW3Mfp8C-4Qqcti-1}}\nwenddeflinemarkup
C2: not ((for f being \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G holds Image(f|H)=H) implies H is normal)
    implies contradiction
proof
  assume B1: for f being \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G holds Image(f|H)=H;
  assume not H is normal;
  then consider a being Element of G such that
  B2: H |^ a <> the multMagma of H
  by GROUP_3:def 13;
  consider f being \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G such that
  B3: (for x being Element of G holds f.x= x |^ a)
  by \nwlinkedidentc{Th19}{NW3Mfp8C-arh13-1};
  Image(f|H) = H |^ a by B3, \nwlinkedidentc{Th15}{NW3Mfp8C-2zspfg-1};
  hence contradiction by B1,B2;
end;

\nwused{\\{NW3Mfp8C-4Qqcti-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th15}}{Th15}}\\{{\nwixident{Th19}}{Th19}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW3Mfp8C-3U116k-1}\nwindexuse{\nwixident{inner}}{inner}{NW3Mfp8C-3U116k-1}\nwindexuse{\nwixident{Th15}}{Th15}{NW3Mfp8C-3U116k-1}\nwindexuse{\nwixident{Th19}}{Th19}{NW3Mfp8C-3U116k-1}\nwendcode{}\nwbegindocs{58}\nwdocspar
\nwenddocs{}\nwfilename{nw/characteristic/results.nw}\nwbegindocs{0}% -*- mode: poly-noweb; noweb-code-mode: mizar-mode; -*-
\subsection{Characteristic Subgroups}

\M
We now arrive at the meat of the matter: characteristic subgroups!

\nwenddocs{}\nwbegincode{1}\sublabel{NW47t2dy-3N17ED-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3N17ED-1}}}\moddef{Characteristic subgroup results~{\nwtagstyle{}\subpageref{NW47t2dy-3N17ED-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW18nMBU-2TX9wk-1}}\nwenddeflinemarkup
\LA{}Define \code{}characteristic\edoc{} attribute~{\nwtagstyle{}\subpageref{NW47t2dy-49dosn-1}}\RA{}
\LA{}Lemma: trivial subgroup is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW47t2dy-HjATr-1}}\RA{}
\LA{}Theorem: Existence of characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-3KEBxf-1}}\RA{}
\LA{}Register \code{}characteristic\edoc{} as attribute for Subgroup~{\nwtagstyle{}\subpageref{NW47t2dy-1HIoHq-1}}\RA{}
\LA{}Register \code{}strict\edoc{} \code{}characteristic\edoc{} for Subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-2iAFXC-1}}\RA{}
\LA{}Theorem: characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW47t2dy-xos9m-1}}\RA{}
\LA{}Register characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW47t2dy-24pxt5-1}}\RA{}
\LA{}Theorem: unique subgroup of order $n$ is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW47t2dy-3r3l0M-1}}\RA{}
\LA{}Theorem: characteristic subgroup of a normal subgroup is normal~{\nwtagstyle{}\subpageref{NW47t2dy-4WQdGY-1}}\RA{}
\LA{}Theorem: transitivity of characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-2ur0LT-1}}\RA{}
\LA{}Theorem: $Z(G)$ is characteristic subgroup~{\nwtagstyle{}\subpageref{NW47t2dy-g56Nl-1}}\RA{}

\nwused{\\{NW18nMBU-2TX9wk-1}}\nwendcode{}\nwbegindocs{2}\nwdocspar

\begin{definition}[{Dummit and Foote~\cite[\S4.4]{dummit-foote}}]\index{Subgroup!Characteristic}\index{Characteristic!Subgroup}
A subgroup $H$ of $G$ is called \define{Characteristic} in $G$, usually
denoted $H~\mathrm{char}~G$, if every Automorphism of $G$ maps $H$ to
itself; i.e., $\sigma(H)=H$ for all $\sigma\in\aut(G)$.
\end{definition}

\nwenddocs{}\nwbegincode{3}\sublabel{NW47t2dy-49dosn-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-49dosn-1}}}\moddef{Define \code{}characteristic\edoc{} attribute~{\nwtagstyle{}\subpageref{NW47t2dy-49dosn-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
definition :: \nwlinkedidentc{Def9}{NW47t2dy-49dosn-1}
  let G;
  let IT be Subgroup of G;
  attr IT is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} means
  :\nwlinkedidentc{Def9}{NW47t2dy-49dosn-1}:
  for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
  holds Image (f|IT) = IT;
end;

\nwindexdefn{\nwixident{characteristic}}{characteristic}{NW47t2dy-49dosn-1}\nwindexdefn{\nwixident{Def9}}{Def9}{NW47t2dy-49dosn-1}\eatline
\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentdefs{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Def9}}{Def9}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-49dosn-1}\nwendcode{}\nwbegindocs{4}\nwdocspar
\begin{lemma}
  For any group $G$, its trivial subgroup $\trivialSubgroup$ is characteristic.
\end{lemma}

\nwenddocs{}\nwbegincode{5}\sublabel{NW47t2dy-HjATr-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-HjATr-1}}}\moddef{Lemma: trivial subgroup is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW47t2dy-HjATr-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
\LA{}Lemma: if $H\subgroup\trivialGroup$, then $H=\trivialGroup$~{\nwtagstyle{}\subpageref{NW47t2dy-1tYS7d-1}}\RA{}

\nwlinkedidentc{Lm6}{NW47t2dy-HjATr-1}: (1).G is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1}
proof
A1:  for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G
     holds Image (f|(1).G) is Subgroup of (1).G by \nwlinkedidentc{Th2}{NW1Nnu7l-49bqr6-1};
  for f being \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G holds Image(f|(1).G) = (1).G
  proof
    let f be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
    reconsider I = Image(f|(1).G) as Subgroup of (1).G by A1;
    (1).G = I by \nwlinkedidentc{Lm5}{NW47t2dy-1tYS7d-1};
    then Image(f|(1).G) = (1).G by A1;
    hence thesis;
  end;
  then (1).G is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} by \nwlinkedidentc{Def9}{NW47t2dy-49dosn-1};
  hence thesis;
end;

\nwindexdefn{\nwixident{Lm6}}{Lm6}{NW47t2dy-HjATr-1}\eatline
\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentdefs{\\{{\nwixident{Lm6}}{Lm6}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Def9}}{Def9}}\\{{\nwixident{Lm5}}{Lm5}}\\{{\nwixident{Th2}}{Th2}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-HjATr-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-HjATr-1}\nwindexuse{\nwixident{Def9}}{Def9}{NW47t2dy-HjATr-1}\nwindexuse{\nwixident{Lm5}}{Lm5}{NW47t2dy-HjATr-1}\nwindexuse{\nwixident{Th2}}{Th2}{NW47t2dy-HjATr-1}\nwendcode{}\nwbegindocs{6}\nwdocspar
\N{Lemma: the only subgroup of the trivial group is trivial}
I couldn't quite find this anywhere in the MML, so I had to prove it
myself.

\nwenddocs{}\nwbegincode{7}\sublabel{NW47t2dy-1tYS7d-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1tYS7d-1}}}\moddef{Lemma: if $H\subgroup\trivialGroup$, then $H=\trivialGroup$~{\nwtagstyle{}\subpageref{NW47t2dy-1tYS7d-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-HjATr-1}}\nwenddeflinemarkup
\nwlinkedidentc{Lm5}{NW47t2dy-1tYS7d-1}: for H being Subgroup of G st H is Subgroup of (1).G holds the
multMagma of H = the multMagma of (1).G
proof
  let H be Subgroup of G;
  assume A1: H is Subgroup of (1).G;
  then reconsider H as Subgroup of (1).G;
  (1).G is Subgroup of H by GROUP_2:65;
  then H is Subgroup of (1).G & (1).G is Subgroup of H by A1;
  hence thesis by GROUP_2:55;
end;

\nwindexdefn{\nwixident{Lm5}}{Lm5}{NW47t2dy-1tYS7d-1}\eatline
\nwused{\\{NW47t2dy-HjATr-1}}\nwidentdefs{\\{{\nwixident{Lm5}}{Lm5}}}\nwendcode{}\nwbegindocs{8}\nwdocspar
\N{Existence theorem}
We need to prove the existence of a characteristic subgroup. For our
purposes, it suffices to prove that the trivial subgroup is characteristic.

\nwenddocs{}\nwbegincode{9}\sublabel{NW47t2dy-3KEBxf-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3KEBxf-1}}}\moddef{Theorem: Existence of characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-3KEBxf-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup

theorem \nwlinkedidentc{Th21}{NW47t2dy-3KEBxf-1}:
  ex H being Subgroup of G st H is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1}
proof
  take H = (1).G;
  H is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} by \nwlinkedidentc{Lm6}{NW47t2dy-HjATr-1};
  hence thesis;
end;

\nwindexdefn{\nwixident{Th21}}{Th21}{NW47t2dy-3KEBxf-1}\eatline
\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentdefs{\\{{\nwixident{Th21}}{Th21}}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Lm6}}{Lm6}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-3KEBxf-1}\nwindexuse{\nwixident{Lm6}}{Lm6}{NW47t2dy-3KEBxf-1}\nwendcode{}\nwbegindocs{10}\nwdocspar
\N{Register {\Tt{}\nwlinkedidentq{characteristic}{NW47t2dy-49dosn-1}\nwendquote} for Subgroups}
Now we can instruct Mizar to recognize {\Tt{}\nwlinkedidentq{characteristic}{NW47t2dy-49dosn-1}\nwendquote} as an
adjective of {\Tt{}Subgroup\nwendquote}.

\nwenddocs{}\nwbegincode{11}\sublabel{NW47t2dy-1HIoHq-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1HIoHq-1}}}\moddef{Register \code{}characteristic\edoc{} as attribute for Subgroup~{\nwtagstyle{}\subpageref{NW47t2dy-1HIoHq-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
registration
  let G;
  cluster \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} for Subgroup of G;
  existence by \nwlinkedidentc{Th21}{NW47t2dy-3KEBxf-1};
end;

\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th21}}{Th21}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-1HIoHq-1}\nwindexuse{\nwixident{Th21}}{Th21}{NW47t2dy-1HIoHq-1}\nwendcode{}\nwbegindocs{12}\nwdocspar

\N{Register {\Tt{}strict\nwendquote} {\Tt{}\nwlinkedidentq{characteristic}{NW47t2dy-49dosn-1}\nwendquote} for Subgroups}
We can also register the cluster {\Tt{}strict\nwendquote} {\Tt{}\nwlinkedidentq{characteristic}{NW47t2dy-49dosn-1}\nwendquote} for
Subgroups, which will come handy later.

\nwenddocs{}\nwbegincode{13}\sublabel{NW47t2dy-2iAFXC-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-2iAFXC-1}}}\moddef{Register \code{}strict\edoc{} \code{}characteristic\edoc{} for Subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-2iAFXC-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
registration
  let G be Group;
  cluster strict \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} for Subgroup of G;
  existence
  proof
    take (1).G;
    thus thesis by \nwlinkedidentc{Lm6}{NW47t2dy-HjATr-1};
  end;
end;

\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Lm6}}{Lm6}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-2iAFXC-1}\nwindexuse{\nwixident{Lm6}}{Lm6}{NW47t2dy-2iAFXC-1}\nwendcode{}\nwbegindocs{14}\nwdocspar


\N{Characteristic subgroups are normal}
Let $G$ be a group, $K\subgroup G$ a subgroup. If $K$ is a
characteristic subgroup of $G$, then $K\normalSubgroup G$ it is also
normal.

\nwenddocs{}\nwbegincode{15}\sublabel{NW47t2dy-xos9m-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-xos9m-1}}}\moddef{Theorem: characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW47t2dy-xos9m-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th22}{NW47t2dy-xos9m-1}:
  for K being \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of G
  holds K is normal Subgroup of G
proof
  let K be \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of G;
A1:  for a being Element of G holds K |^ a = K
  \LA{}Sub-proof: characteristic subgroups invariant under conjugation~{\nwtagstyle{}\subpageref{NW47t2dy-2mkOw1-1}}\RA{}
  for a being Element of G holds the carrier of K |^ a = the carrier of K by A1;
  then for a being Element of G holds the multMagma of K = K |^ a by GROUP_2:59;
  hence K is normal Subgroup of G by A1,GROUP_3:def 13;
end;

\nwindexdefn{\nwixident{Th22}}{Th22}{NW47t2dy-xos9m-1}\eatline
\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentdefs{\\{{\nwixident{Th22}}{Th22}}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-xos9m-1}\nwendcode{}\nwbegindocs{16}\nwdocspar
\M
Really, proving a characteristic subgroup is normal amounts to proving
invariance under conjugation. Fortunately, we have established this
along the way! We just have to point to our hard work from earlier.

\nwenddocs{}\nwbegincode{17}\sublabel{NW47t2dy-2mkOw1-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-2mkOw1-1}}}\moddef{Sub-proof: characteristic subgroups invariant under conjugation~{\nwtagstyle{}\subpageref{NW47t2dy-2mkOw1-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-xos9m-1}}\nwenddeflinemarkup
proof
  let a be Element of G;
  consider f being \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G such that
A2: for x being Element of G holds f.x = x |^ a
  by \nwlinkedidentc{Th19}{NW3Mfp8C-arh13-1};
  K = Image(f|K) = K by GROUP_6:57,\nwlinkedidentc{Def9}{NW47t2dy-49dosn-1}
   .= K |^ a by A2,\nwlinkedidentc{Th15}{NW3Mfp8C-2zspfg-1};
  hence thesis;
end;

\nwused{\\{NW47t2dy-xos9m-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Def9}}{Def9}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th15}}{Th15}}\\{{\nwixident{Th19}}{Th19}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-2mkOw1-1}\nwindexuse{\nwixident{Def9}}{Def9}{NW47t2dy-2mkOw1-1}\nwindexuse{\nwixident{inner}}{inner}{NW47t2dy-2mkOw1-1}\nwindexuse{\nwixident{Th15}}{Th15}{NW47t2dy-2mkOw1-1}\nwindexuse{\nwixident{Th19}}{Th19}{NW47t2dy-2mkOw1-1}\nwendcode{}\nwbegindocs{18}\nwdocspar

\M
Now we can register this fact with Mizar, so it will be automatically
accounted for in future proofs. Since we made this fact a proof, we just
have to tell Mizar where to find the proof.

\nwenddocs{}\nwbegincode{19}\sublabel{NW47t2dy-24pxt5-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-24pxt5-1}}}\moddef{Register characteristic subgroups are normal~{\nwtagstyle{}\subpageref{NW47t2dy-24pxt5-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
registration
  let G be Group;
  cluster \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} -> normal for Subgroup of G;
  coherence by \nwlinkedidentc{Th22}{NW47t2dy-xos9m-1};
end;

\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th22}}{Th22}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-24pxt5-1}\nwindexuse{\nwixident{Th22}}{Th22}{NW47t2dy-24pxt5-1}\nwendcode{}\nwbegindocs{20}\nwdocspar

\begin{theorem}
  If $H$ is the unique subgroup of a given order in a group $G$,
  then $H$ is characteristic in $G$.
\end{theorem}

\begin{proof}
Let $H$ be a subgroup of $G$. Assume there are no other subgroups of
order $|H|$. Then for any $\varphi\in\Aut(G)$, we'd have $\varphi(H)=H$
since $\varphi(H)$ has the same order as $H$ by
Theorem~\ref{thm:pure-math:iso-subgroups-have-same-order}, but we
assumed there is only one (namely, $H$).
\end{proof}

\nwenddocs{}\nwbegincode{21}\sublabel{NW47t2dy-3r3l0M-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-3r3l0M-1}}}\moddef{Theorem: unique subgroup of order $n$ is \code{}characteristic\edoc{}~{\nwtagstyle{}\subpageref{NW47t2dy-3r3l0M-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th23}{NW47t2dy-3r3l0M-1}:
  for H being strict Subgroup of G
  st (for K being strict Subgroup of G
      st card K = card H
      holds H = K)
  holds H is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1}
proof
  let H be strict Subgroup of G;
  assume A0: for K being strict Subgroup of G st card K = card H holds H = K;
  H is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1}
  proof
    let phi be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
    Image(phi|H) = phi .: H by GRSOLV_1:def 3;
    then Image(phi|H),H are_isomorphic by \nwlinkedidentc{Th8}{NW1Nnu7l-3WScXE-1};
    then card H = card Image(phi|H) by GROUP_6:73;
    then Image(phi|H) = H by A0;
    hence thesis;
  end;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th23}}{Th23}{NW47t2dy-3r3l0M-1}\eatline
\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentdefs{\\{{\nwixident{Th23}}{Th23}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Th8}}{Th8}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-3r3l0M-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-3r3l0M-1}\nwindexuse{\nwixident{Th8}}{Th8}{NW47t2dy-3r3l0M-1}\nwendcode{}\nwbegindocs{22}\nwdocspar
\begin{theorem}
If $K\subgroup H$ is characteristic, and if $H\normalSubgroup G$ is normal,
then $K\normalSubgroup G$ is normal.
\end{theorem}

This required a surprising amount of legwork, even when carving it out
into a helper theorem! The ``architecture'' of the proof follows what we
would find in a textbook. It's just that a textbook will gloss over
facts about morphisms which we'd need to prove.

\nwenddocs{}\nwbegincode{23}\sublabel{NW47t2dy-4WQdGY-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-4WQdGY-1}}}\moddef{Theorem: characteristic subgroup of a normal subgroup is normal~{\nwtagstyle{}\subpageref{NW47t2dy-4WQdGY-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
\LA{}Lemma: two group morphisms which coincide on subgroup have the same image~{\nwtagstyle{}\subpageref{NW47t2dy-475WvU-1}}\RA{}

theorem \nwlinkedidentc{Th25}{NW47t2dy-4WQdGY-1}:
  for N being strict normal Subgroup of G
  for K being \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of N
  holds K is normal Subgroup of G
proof
  let N be strict normal Subgroup of G;
  let K be \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of N;
  for a being Element of G holds K |^ a = K
  \LA{}Proof: $\forall a\in G, K^{a}=K$~{\nwtagstyle{}\subpageref{NW47t2dy-4CFIX3-1}}\RA{}
  then K is normal Subgroup of G by \nwlinkedidentc{LmNormalSubgroup}{NW18nMBU-3PXqHm-1};
  hence thesis;
end;

\nwindexdefn{\nwixident{Th25}}{Th25}{NW47t2dy-4WQdGY-1}\eatline
\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentdefs{\\{{\nwixident{Th25}}{Th25}}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{LmNormalSubgroup}}{LmNormalSubgroup}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-4WQdGY-1}\nwindexuse{\nwixident{LmNormalSubgroup}}{LmNormalSubgroup}{NW47t2dy-4WQdGY-1}\nwendcode{}\nwbegindocs{24}\nwdocspar
\begin{remark}
The {\Tt{}strict\nwendquote} hypothesis on {\Tt{}N\nwendquote} is necessary, since {\Tt{}GROUP{\_}2:def\ 6\nwendquote}
defines equality only on \emph{strict} subgroups.
\end{remark}

\nwenddocs{}\nwbegincode{25}\sublabel{NW47t2dy-4CFIX3-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-4CFIX3-1}}}\moddef{Proof: $\forall a\in G, K^{a}=K$~{\nwtagstyle{}\subpageref{NW47t2dy-4CFIX3-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-4WQdGY-1}}\nwenddeflinemarkup
proof
  let a be Element of G;
  consider g being \nwlinkedidentc{inner}{NW3Mfp8C-13QmRM-1} \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G such that
  A1: for x being Element of G holds g.x = x |^ a
  by \nwlinkedidentc{Th19}{NW3Mfp8C-arh13-1};

  Image(g|N) = N by \nwlinkedidentc{Th20}{NW3Mfp8C-4Qqcti-1};
  then g|N is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of N by \nwlinkedidentc{Th11}{NW1Nnu7l-1QHEJY-1};
  then reconsider f = g|N as \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of N;
  A2: Image(f|K) = K by \nwlinkedidentc{Def9}{NW47t2dy-49dosn-1};

  for k being Element of G st k in K holds f.k = g.k
  \LA{}Proof: $\forall k\in G$, $k\in K\implies f(k)=g(k)$~{\nwtagstyle{}\subpageref{NW47t2dy-5gaS4-1}}\RA{}
  then Image(f|K) = Image(g|K) by \nwlinkedidentc{Th24}{NW47t2dy-475WvU-1};
  then Image(g|K) = K & Image(g|K) = K |^ a by A1,A2,\nwlinkedidentc{Th15}{NW3Mfp8C-2zspfg-1};
  then K = K |^ a by A1,\nwlinkedidentc{Th15}{NW3Mfp8C-2zspfg-1};
  hence thesis;
end;

\nwused{\\{NW47t2dy-4WQdGY-1}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{Def9}}{Def9}}\\{{\nwixident{inner}}{inner}}\\{{\nwixident{Th11}}{Th11}}\\{{\nwixident{Th15}}{Th15}}\\{{\nwixident{Th19}}{Th19}}\\{{\nwixident{Th20}}{Th20}}\\{{\nwixident{Th24}}{Th24}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Def9}}{Def9}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{inner}}{inner}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th11}}{Th11}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th15}}{Th15}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th19}}{Th19}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th20}}{Th20}{NW47t2dy-4CFIX3-1}\nwindexuse{\nwixident{Th24}}{Th24}{NW47t2dy-4CFIX3-1}\nwendcode{}\nwbegindocs{26}\nwdocspar

\nwenddocs{}\nwbegincode{27}\sublabel{NW47t2dy-5gaS4-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-5gaS4-1}}}\moddef{Proof: $\forall k\in G$, $k\in K\implies f(k)=g(k)$~{\nwtagstyle{}\subpageref{NW47t2dy-5gaS4-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-4CFIX3-1}\\{NW47t2dy-2ur0LT-1}}\nwenddeflinemarkup
proof
  let k be Element of G;
  assume B1: k in K;
  then (g|K).k = g.k by \nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1};
  B2: k in N by B1,GROUP_2:40;
  k is Element of K by \nwlinkedidentc{LmSubgroupElt}{NW18nMBU-4DvAms-1},B1;
  then f.k = (g|N).k
          .= g.k by B1, B2, \nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1};
  hence f.k = g.k;
end;

\nwused{\\{NW47t2dy-4CFIX3-1}\\{NW47t2dy-2ur0LT-1}}\nwidentuses{\\{{\nwixident{Lm3}}{Lm3}}\\{{\nwixident{LmSubgroupElt}}{LmSubgroupElt}}}\nwindexuse{\nwixident{Lm3}}{Lm3}{NW47t2dy-5gaS4-1}\nwindexuse{\nwixident{LmSubgroupElt}}{LmSubgroupElt}{NW47t2dy-5gaS4-1}\nwendcode{}\nwbegindocs{28}\nwdocspar

\N{Lemma}
The heavy lifting is done by a straightforward and intuitive result: if
we have two morphisms $f\colon G_{1}\to G_{2}$ and $g\colon H_{1}\to H_{2}$,
where $H_{1}\subgroup G_{1}$ and $H_{2}\subgroup G_{2}$, and if we have
a common subgroup $K\subgroup H_{1}\subgroup G_{1}$, then the image of
the morphisms on this shared subgroup should coincide.

Initially, I had a more conservative result: let $\varphi,\psi\in\Aut(G)$
and $H\subgroup G$, if $\forall h\in H,\varphi(h)=\psi(h)$, then
$\varphi(H)=\psi(H)$. Then I realized this didn't describe the situation
I was facing, so I revised it to fit. Then I realized I didn't need the
hypothesis that $\varphi$ and $\psi$ were automorphisms, they could be
generic morphisms.

\nwenddocs{}\nwbegincode{29}\sublabel{NW47t2dy-475WvU-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-475WvU-1}}}\moddef{Lemma: two group morphisms which coincide on subgroup have the same image~{\nwtagstyle{}\subpageref{NW47t2dy-475WvU-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-4WQdGY-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th24}{NW47t2dy-475WvU-1}:
  for G1,G2 being Group
  for H1 being Subgroup of G1
  for K being Subgroup of H1
  for H2 being Subgroup of G2
  for f being Homomorphism of G1,G2
  for g being Homomorphism of H1,H2
  st (for k being Element of G1 st k in K holds f.k=g.k)
  holds Image(f|K) = Image(g|K)
proof
  let G1,G2 be Group;
  let H1 be Subgroup of G1;
  let K be Subgroup of H1;
  let H2 be Subgroup of G2;
  let f be Homomorphism of G1,G2;
  let g be Homomorphism of H1,H2;
  assume A1: for k being Element of G1 st k in K holds f.k=g.k;
  A2: Image(f|K) is strict Subgroup of G2 &
      Image(g|K) is strict Subgroup of G2 by GROUP_2:56;
  for y being object
  holds y in the carrier of Image(f|K) iff y in the carrier of Image(g|K)
  \LA{}Proof: $y\in f(K)\iff y\in g(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1JehLA-1}}\RA{}
  then the carrier of Image(f|K) = the carrier of Image(g|K) by TARSKI:2;
  then Image(f|K) = Image(g|K) by A2,GROUP_2:59,GROUP_2:def 6;
  hence thesis;
end;

\nwindexdefn{\nwixident{Th24}}{Th24}{NW47t2dy-475WvU-1}\eatline
\nwused{\\{NW47t2dy-4WQdGY-1}}\nwidentdefs{\\{{\nwixident{Th24}}{Th24}}}\nwendcode{}\nwbegindocs{30}\nwdocspar


\nwenddocs{}\nwbegincode{31}\sublabel{NW47t2dy-1JehLA-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1JehLA-1}}}\moddef{Proof: $y\in f(K)\iff y\in g(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1JehLA-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-475WvU-1}}\nwenddeflinemarkup
proof
  let y be object;
  thus y in the carrier of Image(f|K) implies y in the carrier of Image(g|K)
  \LA{}Proof: $y\in f(K)\implies y\in g(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1yCGg9-1}}\RA{}
  thus y in the carrier of Image(g|K) implies y in the carrier of Image(f|K)
  \LA{}Proof: $y\in g(K)\implies y\in f(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1aEga6-1}}\RA{}
  thus thesis;
end;

\nwused{\\{NW47t2dy-475WvU-1}}\nwendcode{}\nwbegindocs{32}\nwdocspar

\nwenddocs{}\nwbegincode{33}\sublabel{NW47t2dy-1yCGg9-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1yCGg9-1}}}\moddef{Proof: $y\in f(K)\implies y\in g(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1yCGg9-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1JehLA-1}}\nwenddeflinemarkup
proof
  assume y in the carrier of Image(f|K);
  then consider h being Element of K such that
  B1: (f|K).h = y
  by STRUCT_0:def 5,GROUP_6:45;
  B2: h is Element of G1 & h is Element of H1 & h in K by GROUP_2:42, STRUCT_0:def 5;
  f.h = g.h by A1,B2
     .= (g|K).h by B2, \nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1};
  then (g|K).h = f.h
              .= (f|K).h by B2,\nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1}
              .= y by B1;
  then (g|K).h = y & h is Element of K;
  then y in the carrier of Image(g|K) by STRUCT_0:def 5,GROUP_6:45;
  hence thesis;
end;

\nwused{\\{NW47t2dy-1JehLA-1}}\nwidentuses{\\{{\nwixident{Lm3}}{Lm3}}}\nwindexuse{\nwixident{Lm3}}{Lm3}{NW47t2dy-1yCGg9-1}\nwendcode{}\nwbegindocs{34}\nwdocspar

\nwenddocs{}\nwbegincode{35}\sublabel{NW47t2dy-1aEga6-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-1aEga6-1}}}\moddef{Proof: $y\in g(K)\implies y\in f(K)$~{\nwtagstyle{}\subpageref{NW47t2dy-1aEga6-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-1JehLA-1}}\nwenddeflinemarkup
proof
  assume y in the carrier of Image(g|K);
  then consider h being Element of K such that
  C1: (g|K).h = y
  by STRUCT_0:def 5,GROUP_6:45;
  C2: h is Element of H1 & h is Element of G1 & h in K by GROUP_2:42, STRUCT_0:def 5;
  g.h = f.h by A1,C2
     .= (f|K).h by C2,\nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1};
  then (f|K).h = g.h
              .= (g|K).h by C2,\nwlinkedidentc{Lm3}{NW18nMBU-3Uc8Un-1}
              .= y by C1;
  then (f|K).h = y & h is Element of K;
  then y in the carrier of Image(f|K) by STRUCT_0:def 5,GROUP_6:45;
  hence thesis;
end;

\nwused{\\{NW47t2dy-1JehLA-1}}\nwidentuses{\\{{\nwixident{Lm3}}{Lm3}}}\nwindexuse{\nwixident{Lm3}}{Lm3}{NW47t2dy-1aEga6-1}\nwendcode{}\nwbegindocs{36}\nwdocspar

\begin{theorem}
If $N\subgroup G$ is characteristic, and if $K\subgroup N$ is
characteristic, then $K\subgroup G$ is characteristic.
\end{theorem}

The proof is remarkably similar to the previous theorem. In fact, we can
re-use exactly the same line of reasoning establishing $\forall k\in G$, $k\in K\implies f(k)=g(k)$.

\nwenddocs{}\nwbegincode{37}\sublabel{NW47t2dy-2ur0LT-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-2ur0LT-1}}}\moddef{Theorem: transitivity of characteristic subgroups~{\nwtagstyle{}\subpageref{NW47t2dy-2ur0LT-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th26}{NW47t2dy-2ur0LT-1}:
  for N being \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of G
  for K being \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of N
  holds K is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of G
proof
  let N be \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of G;
  let K be \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of N;
  for g being \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G holds Image(g|K) = K
  proof
    let g be \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of G;
    A1: Image(g|N) = N by \nwlinkedidentc{Def9}{NW47t2dy-49dosn-1};
    then g|N is \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of N by \nwlinkedidentc{Th11}{NW1Nnu7l-1QHEJY-1};
    then reconsider f = g|N as \nwlinkedidentc{Automorphism}{NW1Nnu7l-4WeeL5-1} of N;
    A2: Image(f|K) = K by \nwlinkedidentc{Def9}{NW47t2dy-49dosn-1};

    for k being Element of G st k in K holds f.k = g.k
    \LA{}Proof: $\forall k\in G$, $k\in K\implies f(k)=g(k)$~{\nwtagstyle{}\subpageref{NW47t2dy-5gaS4-1}}\RA{}
    then Image(g|K) = Image(f|K) by \nwlinkedidentc{Th24}{NW47t2dy-475WvU-1}
                   .= K by A2;
    hence Image(g|K) = K;
  end;
  then K is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of G by \nwlinkedidentc{Def9}{NW47t2dy-49dosn-1};
  hence thesis;
end;

\nwindexdefn{\nwixident{Th26}}{Th26}{NW47t2dy-2ur0LT-1}\eatline
\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentdefs{\\{{\nwixident{Th26}}{Th26}}}\nwidentuses{\\{{\nwixident{Automorphism}}{Automorphism}}\\{{\nwixident{characteristic}}{characteristic}}\\{{\nwixident{Def9}}{Def9}}\\{{\nwixident{Th11}}{Th11}}\\{{\nwixident{Th24}}{Th24}}}\nwindexuse{\nwixident{Automorphism}}{Automorphism}{NW47t2dy-2ur0LT-1}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-2ur0LT-1}\nwindexuse{\nwixident{Def9}}{Def9}{NW47t2dy-2ur0LT-1}\nwindexuse{\nwixident{Th11}}{Th11}{NW47t2dy-2ur0LT-1}\nwindexuse{\nwixident{Th24}}{Th24}{NW47t2dy-2ur0LT-1}\nwendcode{}\nwbegindocs{38}\nwdocspar
\begin{theorem}\index{$Z(G)$}\index{Center!Group}\index{Group!Center}
Let $G$ be a group. Its center $Z(G)$ is a characteristic subgroup.
\end{theorem}

\begin{remark}
The {\Tt{}center\nwendquote} functor is defined in {\Tt{}GROUP{\_}5:def\ 10\nwendquote}.
\end{remark}

\nwenddocs{}\nwbegincode{39}\sublabel{NW47t2dy-g56Nl-1}\nwmargintag{{\nwtagstyle{}\subpageref{NW47t2dy-g56Nl-1}}}\moddef{Theorem: $Z(G)$ is characteristic subgroup~{\nwtagstyle{}\subpageref{NW47t2dy-g56Nl-1}}}\endmoddef\nwstartdeflinemarkup\nwusesondefline{\\{NW47t2dy-3N17ED-1}}\nwenddeflinemarkup
theorem \nwlinkedidentc{Th27}{NW47t2dy-g56Nl-1}:
  center G is \nwlinkedidentc{characteristic}{NW47t2dy-49dosn-1} Subgroup of G;

\nwindexdefn{\nwixident{Th27}}{Th27}{NW47t2dy-g56Nl-1}\eatline
\nwused{\\{NW47t2dy-3N17ED-1}}\nwidentdefs{\\{{\nwixident{Th27}}{Th27}}}\nwidentuses{\\{{\nwixident{characteristic}}{characteristic}}}\nwindexuse{\nwixident{characteristic}}{characteristic}{NW47t2dy-g56Nl-1}\nwendcode{}
